<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DaoXuan</title>
  
  <subtitle>é“å®£çš„çª</subtitle>
  <link href="https://daoxuan.cc/atom.xml" rel="self"/>
  
  <link href="https://daoxuan.cc/"/>
  <updated>2025-08-17T07:42:18.785Z</updated>
  <id>https://daoxuan.cc/</id>
  
  <author>
    <name>é“å®£</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>NATçš„å››ç§ç±»å‹</title>
    <link href="https://daoxuan.cc/posts/58955/"/>
    <id>https://daoxuan.cc/posts/58955/</id>
    <published>2025-08-17T06:22:48.000Z</published>
    <updated>2025-08-17T07:42:18.785Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="NATçš„å››ç§ç±»å‹"><a href="#NATçš„å››ç§ç±»å‹" class="headerlink" title="NATçš„å››ç§ç±»å‹"></a>NATçš„å››ç§ç±»å‹</h1><p>å‚è€ƒæ–‡ç« ï¼š</p><p><a href="https://blog.csdn.net/s2603898260/article/details/11875547">NATçš„å››ç§åˆ†ç±»ï¼šå…¨é”¥å½¢NAT,åœ°å€å—é™é”¥å½¢NAT,ç«¯å£å—é™é”¥å½¢NAT,å¯¹ç§°NAT</a></p><h2 id="Full-cone-NATï¼ˆå…¨é”¥å½¢NATï¼‰"><a href="#Full-cone-NATï¼ˆå…¨é”¥å½¢NATï¼‰" class="headerlink" title="Full cone NATï¼ˆå…¨é”¥å½¢NATï¼‰"></a>Full cone NATï¼ˆå…¨é”¥å½¢NATï¼‰</h2><blockquote><p><strong>æ‰€æœ‰ä»åŒä¸€ä¸ªå†…ç½‘çš„ï¼ˆIPï¼Œç«¯å£ï¼‰å‘é€å‡ºæ¥çš„è¯·æ±‚éƒ½ä¼šè¢«æ˜ å°„åˆ°åŒä¸€ä¸ªå¤–ç½‘ï¼ˆIPï¼Œç«¯å£ï¼‰ï¼Œä¸”ä»»ä½•ä¸€ä¸ªå¤–ç½‘ä¸»æœºéƒ½å¯ä»¥é€šè¿‡è®¿é—®æ˜ å°„åçš„å…¬ç½‘åœ°å€ï¼Œå®ç°è®¿é—®ä½äºå†…ç½‘çš„ä¸»æœºè®¾å¤‡åŠŸèƒ½ã€‚</strong></p><p>å¤–ç½‘ä¸»æœºå¯ä»¥ä¸»åŠ¨è¿æ¥å†…ç½‘ä¸»æœºã€‚</p></blockquote><p><img src="https://image.daoxuan.cc/2025/08/1adccc807281c0afa142ce634a3c7a35.png" alt=""></p><h2 id="Restricted-Cone-NATï¼ˆåœ°å€å—é™é”¥å½¢NATï¼‰"><a href="#Restricted-Cone-NATï¼ˆåœ°å€å—é™é”¥å½¢NATï¼‰" class="headerlink" title="Restricted Cone NATï¼ˆåœ°å€å—é™é”¥å½¢NATï¼‰"></a>Restricted Cone NATï¼ˆåœ°å€å—é™é”¥å½¢NATï¼‰</h2><blockquote><p>æ‰€æœ‰ä»åŒä¸€ä¸ªå†…ç½‘çš„ï¼ˆIPï¼Œç«¯å£ï¼‰å‘é€å‡ºæ¥çš„è¯·æ±‚éƒ½ä¼šè¢«æ˜ å°„åˆ°é€šè¿‡ä¸€ä¸ªå¤–ç½‘ï¼ˆIPï¼Œç«¯å£ï¼‰ï¼Œä½†ä¸å…¨é”¥å½¢ä¸åŒç‚¹åœ¨äºï¼šç”Ÿæˆçš„æ˜ å°„è¡¨é¡¹ä¸ç›®çš„IPæœ‰å…³ï¼Œåªæœ‰ç¬¦åˆè¦æ±‚çš„ç›®çš„IP(è¦è®¿é—®çš„å…¬ç½‘æœåŠ¡å™¨IP)æ‰å¯ä»¥é€šè®¯ã€‚æ­¤NATè¿˜æœ‰ä¸ªç‰¹ç‚¹ï¼šä¸èƒ½ä¸»åŠ¨è¿æ¥å†…ç½‘ä¸­çš„ä¸»æœºåœ°å€ï¼Œè¿æ¥å¿…é¡»ç”±å†…ç½‘åœ°å€å‘èµ·ã€‚</p><p>é™åˆ¶æ¯”å…¨é”¥å½¢NATå¤šäº†ï¼šIPåœ°å€é™åˆ¶ã€‚</p></blockquote><p>æ­¤ç±»å‹NATé™¤äº†ä¸æºIPå’Œæºç«¯å£ç›¸å…³å¤–ï¼Œè¿˜ä¸ç›®çš„IPæœ‰å…³ï¼Œåªæœ‰å†…ç½‘ä¸»æœºä¸»åŠ¨è¿æ¥çš„å…¬ç½‘IPæ‰å¯ä»¥ä¸å†…ç½‘ä¸­çš„ä¸»æœºé€šè®¯ã€‚</p><p><img src="https://image.daoxuan.cc/2025/08/8ae88aeed2b1916a9f759ab9aa812877.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Port-Restricted-Cone-NATï¼ˆç«¯å£å—é™é”¥å½¢NATï¼‰"><a href="#Port-Restricted-Cone-NATï¼ˆç«¯å£å—é™é”¥å½¢NATï¼‰" class="headerlink" title="Port Restricted Cone NATï¼ˆç«¯å£å—é™é”¥å½¢NATï¼‰"></a>Port Restricted Cone NATï¼ˆç«¯å£å—é™é”¥å½¢NATï¼‰</h2><blockquote><p>æ‰€æœ‰ä»åŒä¸€ä¸ªå†…ç½‘çš„ï¼ˆIPï¼Œç«¯å£ï¼‰å‘é€å‡ºæ¥çš„è¯·æ±‚éƒ½ä¼šè¢«æ˜ å°„åˆ°é€šè¿‡ä¸€ä¸ªå¤–ç½‘ï¼ˆIPï¼Œç«¯å£ï¼‰ï¼Œä½†æ˜¯åœ¨åœ°å€å—é™é”¥å½¢NATåŸºç¡€ä¸Šå¢åŠ äº†ç«¯å£çš„é™åˆ¶ã€‚</p><p>åœ°å€å—é™é”¥å½¢NATæ—¶ï¼Œåªæœ‰å†…ç½‘ä¸»æœºä¸»åŠ¨è¿æ¥çš„å…¬ç½‘ä¸»æœºæ‰å¯ä¸ä¹‹è¿›è¡Œé€šè®¯ï¼Œè€Œä¸ç”¨æ‹…å¿ƒç«¯å£å·æ˜¯å¦ä¸è¯·æ±‚çš„ç«¯å£ç›¸åŒã€‚</p><p>ä½†æ˜¯ç«¯å£å—é™é”¥å½¢NATé™¤äº†IPé™åˆ¶å¤–ï¼Œå¢åŠ äº†ç«¯å£é™åˆ¶ã€‚æ„æ€æ˜¯è¯´ï¼šé™¤äº†ä¹‹å‰ä¸»åŠ¨è¿æ¥äº†ä¸»æœºçš„ï¼ˆIPï¼Œport1,ï¼‰å¯ä»¥é€šè®¯ï¼Œå…¶ä»–çš„ï¼ˆIPï¼Œport2ï¼‰ç­‰éƒ½ä¸å¯ä»¥ä¸ä¹‹é€šè®¯ã€‚æ­¤NATæ˜ å°„ä¸æŠ¥æ–‡çš„ä¸‰å…ƒç»„ç»‘å®š</p></blockquote><p><img src="https://image.daoxuan.cc/2025/08/8543bc0f2da38172dac22217358ad06d.jpeg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Symetric-NATï¼ˆå¯¹ç§°NATï¼‰"><a href="#Symetric-NATï¼ˆå¯¹ç§°NATï¼‰" class="headerlink" title="Symetric NATï¼ˆå¯¹ç§°NATï¼‰"></a>Symetric NATï¼ˆå¯¹ç§°NATï¼‰</h2><blockquote><p>æ‰€æœ‰ä»åŒä¸€ä¸ªå†…ç½‘ï¼ˆIPï¼Œç«¯å£ï¼‰å‘é€åˆ°åŒä¸€ä¸ªç›®çš„IPå’Œç«¯å£çš„è¯·æ±‚éƒ½ä¼šè¢«æ˜ å°„åˆ°åŒä¸€ä¸ªIPå’Œç«¯å£ã€‚æ¢å¥è¯è¯´ï¼ˆSIPï¼ŒSport, DIP, Dportï¼‰åªè¦æœ‰ä¸€ä¸ªå‘ç”Ÿå˜åŒ–éƒ½ä¼šä½¿ç”¨ä¸åŒçš„æ˜ å°„æ¡ç›®ï¼Œå³æ­¤NATæ˜ å°„ä¸æŠ¥æ–‡å››å…ƒç»„ç»‘å®šã€‚</p></blockquote><ul><li>SIP: Source IPï¼ŒæºIPåœ°å€</li><li>Sport: Source Portï¼Œæºç«¯å£</li><li>DIP: Destination IPï¼Œç›®çš„IPåœ°å€</li><li>Dport: Destination Portï¼Œç›®çš„ç«¯å£</li></ul><p><img src="https://image.daoxuan.cc/2025/08/5894c4f46833a9bd0e1c80fb1c1abb32.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>â€œæµé‡è¿‡æ»¤çš„è¿‡ç¨‹ä¾èµ– <code>conntrack</code> ç»´æŠ¤çš„è¿æ¥çŠ¶æ€è®°å½•ï¼Œä½†å®é™…çš„è¿‡æ»¤è¡Œä¸ºæ˜¯ç”±iptables/nftablesè§„åˆ™æˆ–å†…æ ¸NATæ¨¡å—æ ¹æ®è¿™äº›çŠ¶æ€æ‰§è¡Œçš„ã€‚â€</strong></p><h4 id="å…·ä½“æµç¨‹ç¤ºä¾‹"><a href="#å…·ä½“æµç¨‹ç¤ºä¾‹" class="headerlink" title="å…·ä½“æµç¨‹ç¤ºä¾‹"></a><strong>å…·ä½“æµç¨‹ç¤ºä¾‹</strong></h4><ol><li><strong>å†…ç½‘ä¸»æœº</strong> <code>192.168.1.100</code> è®¿é—® <code>8.8.8.8:80</code>ï¼Œ<code>conntrack</code> è®°å½•çŠ¶æ€ä¸º <code>NEW</code>ã€‚</li><li><strong>iptablesçš„NATè§„åˆ™</strong> åœ¨ <code>POSTROUTING</code> é“¾ä¿®æ”¹æºIPä¸º <code>1.2.3.4:60000</code>ï¼Œå¹¶æ›´æ–° <code>conntrack</code>ã€‚</li><li><strong>è¿”å›åŒ…</strong> <code>8.8.8.8:80 â†’ 1.2.3.4:60000</code> åˆ°è¾¾æ—¶ï¼š<ul><li>å†…æ ¸æŸ¥è¯¢ <code>conntrack</code>ï¼Œå‘ç°åŒ¹é… <code>ESTABLISHED</code> çŠ¶æ€ã€‚</li><li><strong>å¦‚æœæ˜¯å¯¹ç§°NAT</strong>ï¼šè¿›ä¸€æ­¥æ£€æŸ¥ç«¯å£æ˜¯å¦åŒ¹é…ä¼šè¯ã€‚</li><li><strong>å¦‚æœæ˜¯ç«¯å£å—é™é”¥å½¢NAT</strong>ï¼šæ£€æŸ¥ <code>8.8.8.8:80</code> æ˜¯å¦åœ¨è®°å½•ä¸­ã€‚</li></ul></li><li><strong>æœ€ç»ˆå†³ç­–</strong>ï¼š<ul><li>é€šè¿‡ <code>conntrack</code> éªŒè¯åï¼Œå†…æ ¸å†³å®šæ˜¯å¦è½¬å‘æˆ–ä¸¢å¼ƒæ•°æ®åŒ…ã€‚</li></ul></li></ol><h3 id="ğŸŒŸ-æ€»ç»“"><a href="#ğŸŒŸ-æ€»ç»“" class="headerlink" title="ğŸŒŸ æ€»ç»“"></a>ğŸŒŸ <strong>æ€»ç»“</strong></h3><ul><li><strong><code>conntrack</code> æ˜¯â€œè´¦æœ¬â€</strong>ï¼šè®°å½•è°åœ¨å’Œè°é€šä¿¡ã€‚</li><li><strong>iptables/å†…æ ¸æ˜¯â€œè­¦å¯Ÿâ€</strong>ï¼šæ ¹æ®è´¦æœ¬å†³å®šæ˜¯å¦æ”¾è¡Œã€‚</li></ul></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;NATçš„å››ç§ç±»å‹&quot;&gt;&lt;a href=&quot;#NATçš„å››ç§ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;NATçš„å››ç§ç±»å‹&quot;&gt;&lt;/a&gt;NATçš„å››ç§ç±»å‹&lt;/h1&gt;&lt;p&gt;å‚è€ƒæ–‡ç« ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a</summary>
      
    
    
    
    
    <category term="ç½‘ç»œ" scheme="https://daoxuan.cc/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>å……ç”µæ¡©mqttå¼ƒç”¨åçš„ä½¿ç”¨é€ä¼ çš„å¹³æ›¿æ–¹æ¡ˆ</title>
    <link href="https://daoxuan.cc/posts/59863/"/>
    <id>https://daoxuan.cc/posts/59863/</id>
    <published>2025-08-03T14:04:39.000Z</published>
    <updated>2025-08-03T14:10:36.012Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="å……ç”µæ¡©mqttå¼ƒç”¨åçš„ä½¿ç”¨é€ä¼ çš„å¹³æ›¿æ–¹æ¡ˆ"><a href="#å……ç”µæ¡©mqttå¼ƒç”¨åçš„ä½¿ç”¨é€ä¼ çš„å¹³æ›¿æ–¹æ¡ˆ" class="headerlink" title="å……ç”µæ¡©mqttå¼ƒç”¨åçš„ä½¿ç”¨é€ä¼ çš„å¹³æ›¿æ–¹æ¡ˆ"></a>å……ç”µæ¡©mqttå¼ƒç”¨åçš„ä½¿ç”¨é€ä¼ çš„å¹³æ›¿æ–¹æ¡ˆ</h1><blockquote><p>mqttæ˜¯åŸæœ¬çš„å……ç”µæ¡©é¡¹ç›®æ–¹æ¡ˆï¼Œæœ¬èº«å…·æœ‰æŒ‰ç…§ä¸»é¢˜å‘å¸ƒæ¶ˆæ¯è®¢é˜…æ¶ˆæ¯çš„èƒ½åŠ›ï¼Œä¸è¿‡ç”±äºç¡¬ä»¶æ–¹å£°ç§°ä½¿ç”¨mqttä¸¢åŒ…ç‡è¿‡é«˜ï¼Œéœ€è¦æ›´æ¢ä¸ºé€ä¼ çš„æ–¹å¼ï¼Œæ•…è€Œæœ‰äº†è¿™ä¸ªå¹³æ›¿æ–¹æ¡ˆè®¾è®¡</p></blockquote><h2 id="MQTTåè®®å·¥ä½œåŸç†"><a href="#MQTTåè®®å·¥ä½œåŸç†" class="headerlink" title="MQTTåè®®å·¥ä½œåŸç†"></a>MQTTåè®®å·¥ä½œåŸç†</h2><p>åœ¨ MQTT åè®®ä¸­æœ‰ä¸‰ç§èº«ä»½ï¼šå‘å¸ƒè€…ï¼ˆPublishï¼‰ã€ä»£ç†ï¼ˆBrokerï¼‰ï¼ˆæœåŠ¡å™¨ï¼‰å’Œè®¢é˜…è€…ï¼ˆSubscribeï¼‰ã€‚å…¶ä¸­æ¶ˆæ¯çš„å‘å¸ƒè€…å’Œè®¢é˜…è€…éƒ½æ˜¯å®¢æˆ·ç«¯ï¼Œæ¶ˆæ¯ä»£ç†æ˜¯æœåŠ¡å™¨ï¼Œæ¶ˆæ¯å‘å¸ƒè€…å¯ä»¥åŒæ—¶æ˜¯è®¢é˜…è€…ï¼Œè¿™ä¸‰è€…çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://image.daoxuan.cc/2025/08/854b4fb9d5ea00afd6cb2187685b8a17.png" alt="mqtt_principle"></p><p>åœ¨ MQTT åè®®çš„å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬éµå¾ªä»¥ä¸‹æµç¨‹ï¼š</p><ul><li>å‘å¸ƒè€…é€šè¿‡ä»£ç†æœåŠ¡å™¨å‘æŒ‡å®šçš„ Topic å‘å¸ƒæ¶ˆæ¯ã€‚</li><li>è®¢é˜…è€…é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¢é˜…æ‰€éœ€è¦çš„ Topicã€‚</li><li>è®¢é˜…æˆåŠŸåå¦‚æœæœ‰å‘å¸ƒè€…å‘è®¢é˜…è€…è®¢é˜…çš„ Topic å‘å¸ƒæ¶ˆæ¯ï¼Œé‚£ä¹ˆè®¢é˜…è€…å°±ä¼šæ”¶åˆ°ä»£ç†æœåŠ¡å™¨çš„æ¨é€æ¶ˆæ¯ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥è¿›è¡Œé«˜æ•ˆçš„æ•°æ®äº¤æ¢ã€‚</li></ul><p>åœ¨åŸæœ¬çš„å·¥ä½œé€»è¾‘ä¸­ï¼ŒBrokeræ˜¯dockeréƒ¨ç½²çš„RMQXï¼ˆä¸€ä¸ªå¼€ç®±å³ç”¨çš„mqttä»£ç†ï¼‰ï¼Œéœ€è¦é€šä¿¡çš„ä¸‰æ–¹ï¼šå……ç”µæ¡©ã€åç«¯æœåŠ¡å™¨ã€å¾®ä¿¡å°ç¨‹åºï¼Œéƒ½ä¼šåŒæ—¶ä½œä¸ºå‘å¸ƒè€…å’Œè®¢é˜…è€…ï¼Œé€šè¿‡åˆç†è®¾ç½®ä¸»é¢˜ï¼Œå®ç°å……ç”µæµç¨‹çš„é€šä¿¡ï¼ˆç»†èŠ‚ä¸åšè¯´æ˜ï¼‰</p><p><strong>å¯ä»¥çœ‹å‡ºè¿™é‡Œçš„Brokeræ˜¯æ ¸å¿ƒ</strong></p><p>ç„¶è€Œé€ä¼ ä¾¿æ˜¯å»æ‰è¿™ä¸ªä»£ç†ï¼Œè®©ç¡¬ä»¶å®¢æˆ·ç«¯ç›´æ¥è¿æ¥åˆ°æœåŠ¡å™¨å‘é€æ¶ˆæ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ç›´æ¥ä½¿ç”¨<code>TCP</code>å‘é€æ•°æ®åŒ…ã€‚</p><h2 id="é€ä¼ çš„å·¥ä½œåŸç†"><a href="#é€ä¼ çš„å·¥ä½œåŸç†" class="headerlink" title="é€ä¼ çš„å·¥ä½œåŸç†"></a>é€ä¼ çš„å·¥ä½œåŸç†</h2><p>å»æ‰Brokeråï¼Œç¡¬ä»¶å®¢æˆ·ç«¯é€šè¿‡<code>TCP</code>åè®®è¿æ¥åˆ°åç«¯æœåŠ¡å™¨ï¼Œå› ä¸ºtcpæ˜¯å…¨åŒå·¥çš„ï¼Œå› æ­¤ï¼Œå……ç”µæ¡©å’Œåç«¯æœåŠ¡å™¨ä¹‹å‰çš„é€šä¿¡ç®—æ˜¯æ‰“é€šäº†ã€‚ç„¶è€Œå¾®ä¿¡å®¢æˆ·ç«¯å¦‚ä½•ä¸ç¡¬ä»¶è¿›è¡Œé€šä¿¡å‘¢ï¼Ÿ</p><p>å¾®ä¿¡éœ€è¦å‘å……ç”µæ¡©ä¸‹è¾¾å……ç”µæŒ‡ä»¤ï¼Œç»“æŸå……ç”µæŒ‡ä»¤ä»¥åŠï¼ŒçŠ¶æ€æŸ¥è¯¢æŒ‡ä»¤ï¼Œå……ç”µæ¡©éœ€è¦å‘å¾®ä¿¡å›å¤æŒ‡ä»¤çš„æ‰§è¡Œç»“æœä»¥åŠå……ç”µè¿‡ç¨‹ä¸­çš„è®¡è´¹ä¿¡æ¯ã€‚ä¸¤è€…ä¹Ÿæ˜¯éœ€è¦åŒå‘é€šè¡Œçš„ï¼Œç„¶è€Œä¸¤è€…éƒ½æ²¡æœ‰å›ºå®šçš„ipï¼Œå› æ­¤ï¼Œéœ€è¦å€ŸåŠ©åç«¯æœåŠ¡å™¨è¿›è¡Œä¸­è½¬ã€‚</p><h3 id="å°ç¨‹åº-â€”â€”-åç«¯æœåŠ¡å™¨"><a href="#å°ç¨‹åº-â€”â€”-åç«¯æœåŠ¡å™¨" class="headerlink" title="å°ç¨‹åº â€”â€” åç«¯æœåŠ¡å™¨"></a>å°ç¨‹åº â€”â€” åç«¯æœåŠ¡å™¨</h3><p>ç”±äºå‰ç«¯åæ§½wsåè®®è¿æ¥èµ·æ¥ä¹Ÿä¸ç¨³å®šï¼Œå› æ­¤å°ç¨‹åºå’Œåç«¯é€šä¿¡ä½¿ç”¨httpåè®®ï¼Œä¸ºäº†ç¡®ä¿åŠæ—¶æ€§ï¼Œé‡‡ç”¨httpè½®è¯¢ã€‚</p><h3 id="å¾®ä¿¡å°ç¨‹åºâ†’å……ç”µæ¡©"><a href="#å¾®ä¿¡å°ç¨‹åºâ†’å……ç”µæ¡©" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºâ†’å……ç”µæ¡©"></a>å¾®ä¿¡å°ç¨‹åºâ†’å……ç”µæ¡©</h3><p>å°ç¨‹åºé€šè¿‡httpåè®®å‘åç«¯æœåŠ¡å™¨å‘é€å……ç”µå¼€å§‹è¯·æ±‚ï¼Œæºå¸¦å……ç”µæ¡©ç¼–å·ï¼Œåç«¯æœåŠ¡å™¨æ¥æ”¶åˆ°æ¶ˆæ¯ä»¥åæ„å»ºæ¶ˆæ¯é€šè¿‡TCPå‘é€åˆ°å¯¹åº”çš„å……ç”µæ¡©ã€‚è‡³æ­¤å°ç¨‹åºåˆ°å……ç”µæ¡©çš„æ¶ˆæ¯å‘é€æˆåŠŸã€‚</p><h3 id="å……ç”µæ¡©â†’å¾®ä¿¡å°ç¨‹åº"><a href="#å……ç”µæ¡©â†’å¾®ä¿¡å°ç¨‹åº" class="headerlink" title="å……ç”µæ¡©â†’å¾®ä¿¡å°ç¨‹åº"></a>å……ç”µæ¡©â†’å¾®ä¿¡å°ç¨‹åº</h3><p>å¾®ä¿¡å°ç¨‹åºéœ€è¦é€šè¿‡httpè½®è¯¢è·å–åˆ°å……ç”µæ¡©ä¿¡æ¯ï¼Œå› æ­¤åç«¯éœ€è¦è®°å½•å……ç”µæ¡©å›å¤ï¼Œå°†å…¶æ”¾å›ç»™å°ç¨‹åºï¼Œç”±äºä½¿ç”¨mysqlæ›´æ–°å¯¹åº”å……ç”µæ¡©å­—æ®µçŠ¶æ€è¿™ç§æ–¹å¼æ¯”è¾ƒéº»çƒ¦ä¸”æ€§èƒ½æœ‰é™ï¼Œä½¿ç”¨redisè®°å½•æ•´ä¸ªæ¶ˆæ¯æ— æ³•å¾ˆå¥½çš„åŒºåˆ†å……ç”µæ¡©å’Œä¸»é¢˜ã€‚å› æ­¤æˆ‘é€‰æ‹©ä½¿ç”¨<code>rabbitmq</code>æ¶ˆæ¯å¯¹åˆ—ï¼Œå°†å……ç”µæ¡©çš„å›å¤éƒ½å‘é€åˆ°rabbitmqä¸­ã€‚</p><p>ä¸ºäº†èƒ½å¤Ÿæ›´å¥½çš„åŒºåˆ†ä¸åŒå……ç”µæ¡©çš„ä¸åŒç±»å‹æ¶ˆæ¯ï¼Œä½¿ç”¨å……ç”µæ¡©çš„ç¼–å·ä½œä¸ºäº¤æ¢æœºçš„åç§°ï¼Œä½¿ç”¨æ¶ˆæ¯ä¸»é¢˜ä½œä¸ºchannelçš„åç§°ã€‚</p><p>è¿™æ ·å°ç¨‹åºæŸ¥è¯¢å¯¹åº”å……ç”µæ¡©å›å¤æ—¶åç«¯æœåŠ¡å™¨å¯ä»¥é€šè¿‡å……ç”µæ¡©ç¼–å·ä»¥åŠæ¶ˆæ¯ä¸»é¢˜ä½œä¸ºç´¢å¼•ï¼Œå»å¯¹åº”çš„æ¶ˆæ¯å¯¹åˆ—ä¸­å–æ¶ˆæ¯ï¼Œè§£æè¿‡åæŒ‰ç…§jsonæ ¼å¼æ”¾å›ç»™å°ç¨‹åºã€‚</p><p>ä¼˜ç‚¹ï¼šç›¸è¾ƒäºä½¿ç”¨mysqlä¿å­˜å­—æ®µçŠ¶æ€ï¼Œè¿™ä¸ªæ–¹å¼ä¸éœ€è¦æ”¹å˜ä»¥åŠå»ºå¥½çš„æ•°æ®åº“è¡¨ï¼Œå¯ä»¥å¤ç”¨mqttåè®®æ—¶å€™çš„æ¶ˆæ¯è§£æå‡½æ•°ã€‚</p><h2 id="å›¾ç¤ºæµç¨‹"><a href="#å›¾ç¤ºæµç¨‹" class="headerlink" title="å›¾ç¤ºæµç¨‹"></a>å›¾ç¤ºæµç¨‹</h2><p><img src="https://image.daoxuan.cc/2025/08/e4e00b6f1740a5d39cc4a957e06583ea.png" alt="image-20250803220315270"></p><p>æ³¨ï¼špikaæ˜¯rabbitmqçš„python SDK</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;å……ç”µæ¡©mqttå¼ƒç”¨åçš„ä½¿ç”¨é€ä¼ çš„å¹³æ›¿æ–¹æ¡ˆ&quot;&gt;&lt;a href=&quot;#å……ç”µæ¡©mqttå¼ƒç”¨åçš„ä½¿ç”¨é€ä¼ çš„å¹³æ›¿æ–¹æ¡ˆ&quot; class=&quot;headerlink&quot; title=&quot;å……ç”µæ¡©mqttå¼ƒç”¨åçš„ä½¿ç”¨é€ä¼ çš„å¹³æ›¿æ–¹æ¡ˆ&quot;</summary>
      
    
    
    
    
    <category term="å……ç”µæ¡©" scheme="https://daoxuan.cc/tags/%E5%85%85%E7%94%B5%E6%A1%A9/"/>
    
  </entry>
  
  <entry>
    <title>Python åŒ…ç®¡ç†å·¥å…·UVå‘½ä»¤é€Ÿè®°</title>
    <link href="https://daoxuan.cc/posts/39530/"/>
    <id>https://daoxuan.cc/posts/39530/</id>
    <published>2025-07-19T05:55:11.000Z</published>
    <updated>2025-07-19T05:58:49.869Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="Python-åŒ…ç®¡ç†å·¥å…·UVå‘½ä»¤é€Ÿè®°"><a href="#Python-åŒ…ç®¡ç†å·¥å…·UVå‘½ä»¤é€Ÿè®°" class="headerlink" title="Python åŒ…ç®¡ç†å·¥å…·UVå‘½ä»¤é€Ÿè®°"></a>Python åŒ…ç®¡ç†å·¥å…·UVå‘½ä»¤é€Ÿè®°</h1><blockquote><p>å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://docs.astral.sh/uv/">https://docs.astral.sh/uv/</a></p></blockquote><h2 id="å®‰è£…UV"><a href="#å®‰è£…UV" class="headerlink" title="å®‰è£…UV"></a>å®‰è£…UV</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># On macOS and Linux.</span></span><br><span class="line">curl -LsSf https://astral.sh/uv/install.sh | sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># On Windows.</span></span><br><span class="line">powershell -ExecutionPolicy ByPass -c <span class="string">&quot;irm https://astral.sh/uv/install.ps1 | iex&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># With pip.</span></span><br><span class="line">pip install uv</span><br></pre></td></tr></table></figure><ul><li><code>pyproject.toml</code>ï¼šå®šä¹‰é¡¹ç›®çš„ä¸»è¦ä¾èµ–ï¼ŒåŒ…æ‹¬é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€æ”¯æŒçš„ <code>Python</code> ç‰ˆæœ¬ç­‰ä¿¡æ¯</li><li><code>uv.lock</code>ï¼šè®°å½•é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–ï¼ŒåŒ…æ‹¬ä¾èµ–çš„ä¾èµ–ï¼Œä¸”è·¨å¹³å°ï¼Œç¡®ä¿åœ¨ä¸åŒç¯å¢ƒä¸‹å®‰è£…çš„ä¸€è‡´æ€§ã€‚è¿™ä¸ªæ–‡ä»¶ç”± <code>uv</code> è‡ªåŠ¨ç®¡ç†ï¼Œä¸è¦æ‰‹åŠ¨ç¼–è¾‘</li></ul><h2 id="å®‰è£…python"><a href="#å®‰è£…python" class="headerlink" title="å®‰è£…python"></a>å®‰è£…python</h2><ul><li>å®‰è£…æœ€æ–°ç‰ˆpython</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv python install</span><br></pre></td></tr></table></figure><ul><li>å®‰è£…ç‰¹å®šç‰ˆæœ¬</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv python install 3.12</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv venv</span><br></pre></td></tr></table></figure><p>å¯ä»¥æŒ‡å®špythonç‰ˆæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv venv --python 3.11</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h2><ol><li>add</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uv add requests</span><br><span class="line"># âœ… å®‰è£…åŒ…åˆ°ç¯å¢ƒ</span><br><span class="line"># âœ… æ·»åŠ åˆ° pyproject.toml</span><br><span class="line"># âœ… æ›´æ–° uv.lock</span><br><span class="line"># âœ… å…¶ä»–äºº uv sync æ—¶ä¼šå®‰è£…è¿™ä¸ªåŒ…</span><br></pre></td></tr></table></figure><ol><li>å…¼å®¹pip</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uv pip install requests</span><br><span class="line"><span class="comment"># âœ… å®‰è£…åŒ…åˆ°ç¯å¢ƒ</span></span><br><span class="line"><span class="comment"># âŒ ä¸ä¿®æ”¹ pyproject.toml</span></span><br><span class="line"><span class="comment"># âŒ ä¸æ›´æ–° uv.lock</span></span><br><span class="line"><span class="comment"># âŒ å…¶ä»–äºº uv sync æ—¶ä¸ä¼šå®‰è£…è¿™ä¸ªåŒ…</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸æ¨èç¬¬äºŒç§</p></blockquote><h2 id="åˆ é™¤ä¾èµ–"><a href="#åˆ é™¤ä¾èµ–" class="headerlink" title="åˆ é™¤ä¾èµ–"></a>åˆ é™¤ä¾èµ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv remove requests # åˆ é™¤é¡¹ç›®ä¾èµ–</span><br></pre></td></tr></table></figure><p>åŒç†ä¸æ¨è</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv pip uninstall requests</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œé¡¹ç›®"><a href="#è¿è¡Œé¡¹ç›®" class="headerlink" title="è¿è¡Œé¡¹ç›®"></a>è¿è¡Œé¡¹ç›®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uv run main.py</span><br><span class="line"># uv run ä¼šè‡ªåŠ¨ï¼š</span><br><span class="line"># - æ£€æŸ¥æ˜¯å¦æœ‰è™šæ‹Ÿç¯å¢ƒï¼Œæ²¡æœ‰å°±åˆ›å»º</span><br><span class="line"># - æ ¹æ® pyproject.toml/uv.lock å®‰è£…ä¾èµ–</span><br><span class="line"># - åœ¨æ­£ç¡®ç¯å¢ƒä¸­è¿è¡Œè„šæœ¬</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®è¿ç§»"><a href="#é¡¹ç›®è¿ç§»" class="headerlink" title="é¡¹ç›®è¿ç§»"></a>é¡¹ç›®è¿ç§»</h2><h3 id="æœ¬åœ°é¡¹ç›®ï¼ˆå¾…è¿ç§»ï¼‰"><a href="#æœ¬åœ°é¡¹ç›®ï¼ˆå¾…è¿ç§»ï¼‰" class="headerlink" title="æœ¬åœ°é¡¹ç›®ï¼ˆå¾…è¿ç§»ï¼‰"></a>æœ¬åœ°é¡¹ç›®ï¼ˆå¾…è¿ç§»ï¼‰</h3><ul><li>å¦‚æœç¡®ä¿ä¾èµ–éƒ½æ˜¯ä½¿ç”¨addå®‰è£…çš„ï¼Œæ›´æ–°uv.lock</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uv lock -U</span><br><span class="line">æˆ–è€…</span><br><span class="line">uv lock -upgrate</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœä¸ç¡®å®šuv.lockä¸­ä¾èµ–æ˜¯å…¨çš„ï¼Œæ ¹æ®æ•´ç†å‡ºrequirements.txt</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv run pipreqs .</span><br></pre></td></tr></table></figure><h3 id="è¿ç§»é¡¹ç›®"><a href="#è¿ç§»é¡¹ç›®" class="headerlink" title="è¿ç§»é¡¹ç›®"></a>è¿ç§»é¡¹ç›®</h3><p>ä¸ä¸Šé¢åŒæ­¥</p><ul><li>æ ¹æ®uv.lockåŒæ­¥ä¾èµ–</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv sync</span><br></pre></td></tr></table></figure><ul><li>æ ¹æ®requirements.txtåŒæ­¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv add -r requirements.txt</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;Python-åŒ…ç®¡ç†å·¥å…·UVå‘½ä»¤é€Ÿè®°&quot;&gt;&lt;a href=&quot;#Python-åŒ…ç®¡ç†å·¥å…·UVå‘½ä»¤é€Ÿè®°&quot; class=&quot;headerlink&quot; title=&quot;Python åŒ…ç®¡ç†å·¥å…·UVå‘½ä»¤é€Ÿè®°&quot;&gt;&lt;/a&gt;P</summary>
      
    
    
    
    
    <category term="python" scheme="https://daoxuan.cc/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬è™«</title>
    <link href="https://daoxuan.cc/posts/48977/"/>
    <id>https://daoxuan.cc/posts/48977/</id>
    <published>2025-06-05T15:27:06.000Z</published>
    <updated>2025-06-05T15:28:37.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬è™«"><a href="#ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬è™«" class="headerlink" title="ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬è™«"></a>ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬è™«</h1><blockquote><p>æœ€è¿‘é€‰è¯¾å¼€å§‹ï¼Œå’±ä»¬æµ·å¤§ä¹Ÿæ˜¯ä¸Šçº¿äº†èŠ±äº†å¤§é’±æçš„æ–°ç‰ˆé€‰è¯¾ç³»ç»Ÿï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹ä¸€ä¸‹æ–°ç‰ˆé€‰è¯¾ç³»ç»Ÿæ˜¯å¦æœ‰ä¹‹å‰çš„æ¼æ´</p></blockquote><h2 id="æ•™åŠ¡ç³»ç»Ÿå®˜ç½‘"><a href="#æ•™åŠ¡ç³»ç»Ÿå®˜ç½‘" class="headerlink" title="æ•™åŠ¡ç³»ç»Ÿå®˜ç½‘"></a>æ•™åŠ¡ç³»ç»Ÿå®˜ç½‘</h2><p>é¦–å…ˆæ˜¯æ•™åŠ¡ç³»ç»Ÿå®˜ç½‘ï¼š<a href="http://jwgl2024.ouc.edu.cn/">http://jwgl2024.ouc.edu.cn/</a></p><p>ç‚¹è¿›å»å°±ä¼šå‘ç°å…¶å®æ²¡æœ‰å†™å®Œ</p><p><img src="https://image.daoxuan.cc/2025/06/0b5368ecd49b3995b2fda281f64c5ce1.png" alt="image-20250605225430166"></p><p>æˆ‘ä»¬æŠ“åŒ…æŸ¥çœ‹ä¸€ä¸‹æ•™åŠ¡ç³»ç»Ÿçš„ç™»å½•æ¥å£åŠ å¯†ï¼š</p><p><img src="https://image.daoxuan.cc/2025/06/14a349db2c3d428a03aa8f621609b5ea.png" alt="image-20250605225632267"></p><p>å‘ç°å‚æ•°ä¸­æœ‰ä¸€ä¸ªencodeæ˜¾ç„¶æ˜¯åŠ å¯†çš„å¯†ç ï¼Œäºæ˜¯åœ¨jsä¸­å¯»åœ¨encodeå¦‚ä½•ç”Ÿæˆã€‚</p><p>æ‰¾åˆ°ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">login</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">&quot;#userAccount&quot;</span>).<span class="title function_">val</span>() == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;#showMsg&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;è¯·è¾“å…¥è´¦å·&quot;</span>);</span><br><span class="line">            $(<span class="string">&quot;#userAccount&quot;</span>).<span class="title function_">focus</span>();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">&quot;#userPassword&quot;</span>).<span class="title function_">val</span>() == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;#showMsg&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>);</span><br><span class="line">            $(<span class="string">&quot;#userPassword&quot;</span>).<span class="title function_">focus</span>();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> strUrl = <span class="string">&quot;/jsxsd/Logon.do?method=logon&amp;flag=sess&quot;</span>;</span><br><span class="line">        <span class="keyword">var</span> codeDogSequence = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&#x27;false&#x27;</span> === <span class="string">&#x27;true&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">var</span> res = <span class="title class_">GetSerialNumber</span>();</span><br><span class="line">                <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="number">0</span>) &#123;</span><br><span class="line">                    codeDogSequence = res.<span class="property">data</span>.<span class="property">result</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="number">9001</span>) &#123;</span><br><span class="line">                    <span class="comment">// åŠ å¯†ç‹—è®¾å¤‡æœªè®¤è¯</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123; &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: strUrl,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">            <span class="attr">cache</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">dataStr</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (dataStr == <span class="string">&quot;no&quot;</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">var</span> scode = dataStr.<span class="title function_">split</span>(<span class="string">&quot;#&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">                    <span class="keyword">var</span> sxh = dataStr.<span class="title function_">split</span>(<span class="string">&quot;#&quot;</span>)[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> code = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;userAccount&quot;</span>).<span class="property">value</span> + <span class="string">&quot;%%%&quot;</span> + <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;userPassword&quot;</span>).<span class="property">value</span> + <span class="string">&quot;%%%&quot;</span> + codeDogSequence;</span><br><span class="line">                    <span class="keyword">var</span> encoded = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; code.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (i &lt; <span class="number">55</span>) &#123;</span><br><span class="line">                            encoded = encoded + code.<span class="title function_">substring</span>(i, i + <span class="number">1</span>) + scode.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="built_in">parseInt</span>(sxh.<span class="title function_">substring</span>(i, i + <span class="number">1</span>)));</span><br><span class="line">                            scode = scode.<span class="title function_">substring</span>(<span class="built_in">parseInt</span>(sxh.<span class="title function_">substring</span>(i, i + <span class="number">1</span>)), scode.<span class="property">length</span>);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            encoded = encoded + code.<span class="title function_">substring</span>(i, code.<span class="property">length</span>);</span><br><span class="line">                            i = code.<span class="property">length</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;encoded&quot;</span>).<span class="property">value</span> = encoded;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="string">&quot;LoginToXk&quot;</span> != <span class="string">&quot;logonLdap&quot;</span>) &#123;</span><br><span class="line">                        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;userPassword&quot;</span>).<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;loginForm&quot;</span>).<span class="title function_">submit</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">qzAlert</span>(<span class="string">&quot;warning&quot;</span>, <span class="string">&quot;è®¡ç®—å¼‚å¸¸ï¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å‘ç°encodeç”±scodeã€sxhã€codeDogSequenceæ„æˆï¼Œscodeã€sxhé€šè¿‡è¯·æ±‚<code>/jsxsd/Logon.do?method=logon&amp;flag=sess</code>è·å–ã€‚</p><p>æ•´ä½“é€»è¾‘åˆ°è¿™é‡Œå°±å¾ˆæ¸…æ™°äº†</p><p>æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_encoded</span>(<span class="params">account, password, scode, sxh, codeDogSequence=<span class="string">&#x27; &#x27;</span></span>):</span><br><span class="line">    <span class="comment"># æŒ‰å‰ç«¯é€»è¾‘æ‹¼æ¥æ˜æ–‡</span></span><br><span class="line">    code = <span class="string">f&quot;<span class="subst">&#123;account&#125;</span>%%%<span class="subst">&#123;password&#125;</span>%%%<span class="subst">&#123;codeDogSequence&#125;</span>&quot;</span></span><br><span class="line">    encoded = <span class="string">&quot;&quot;</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(code):</span><br><span class="line">        <span class="keyword">if</span> i &lt; <span class="number">55</span>:</span><br><span class="line">            encoded += code[i]</span><br><span class="line">            n = <span class="built_in">int</span>(sxh[i])</span><br><span class="line">            encoded += scode[:n]</span><br><span class="line">            scode = scode[n:]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            encoded += code[i:]</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> encoded</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_scode_and_sxh</span>(<span class="params">base_url, session=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    è·å– scode å’Œ sxh</span></span><br><span class="line"><span class="string">    :param base_url: ä¾‹å¦‚ http://jwgl2024.ouc.edu.cn</span></span><br><span class="line"><span class="string">    :param session: requests.Session() å¯¹è±¡ï¼ˆå¯é€‰ï¼Œå»ºè®®å¸¦ä¸Šä»¥ä¿æŒ cookieï¼‰</span></span><br><span class="line"><span class="string">    :return: (scode, sxh)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    url = <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/Logon.do?method=logon&amp;flag=sess&quot;</span></span><br><span class="line">    sess = session <span class="keyword">or</span> requests.Session()</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&quot;Accept&quot;</span>: <span class="string">&quot;text/plain, */*; q=0.01&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Accept-Language&quot;</span>: <span class="string">&quot;zh-CN,zh;q=0.9&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Cache-Control&quot;</span>: <span class="string">&quot;no-cache&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Connection&quot;</span>: <span class="string">&quot;keep-alive&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Content-Length&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Origin&quot;</span>: base_url,</span><br><span class="line">        <span class="string">&quot;Pragma&quot;</span>: <span class="string">&quot;no-cache&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/&quot;</span>,</span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="string">&quot;X-Requested-With&quot;</span>: <span class="string">&quot;XMLHttpRequest&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    resp = sess.post(url, headers=headers)</span><br><span class="line">    <span class="keyword">if</span> resp.status_code == <span class="number">200</span>:</span><br><span class="line">        data = resp.text</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;#&quot;</span> <span class="keyword">in</span> data:</span><br><span class="line">            scode, sxh = data.split(<span class="string">&quot;#&quot;</span>, <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> scode, sxh</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&quot;è¿”å›å†…å®¹æ ¼å¼ä¸æ­£ç¡®&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : <span class="subst">&#123;resp.status_code&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_jwgl</span>(<span class="params">base_url, account, encoded, session=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç™»å½•æ•™åŠ¡ç³»ç»Ÿ</span></span><br><span class="line"><span class="string">    :param base_url: ä¾‹å¦‚ http://jwgl2024.ouc.edu.cn</span></span><br><span class="line"><span class="string">    :param account: ç”¨æˆ·è´¦å·</span></span><br><span class="line"><span class="string">    :param encoded: åŠ å¯†åçš„encodedå‚æ•°</span></span><br><span class="line"><span class="string">    :param session: requests.Session() å¯¹è±¡ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="string">    :return: ç™»å½•åçš„å“åº”å†…å®¹</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    url = <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/Logon.do?method=logon&quot;</span></span><br><span class="line">    sess = session <span class="keyword">or</span> requests.Session()</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&quot;Accept&quot;</span>: <span class="string">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Accept-Language&quot;</span>: <span class="string">&quot;zh-CN,zh;q=0.9&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Cache-Control&quot;</span>: <span class="string">&quot;no-cache&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Connection&quot;</span>: <span class="string">&quot;keep-alive&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Origin&quot;</span>: base_url,</span><br><span class="line">        <span class="string">&quot;Pragma&quot;</span>: <span class="string">&quot;no-cache&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Upgrade-Insecure-Requests&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;loginMethod&quot;</span>: <span class="string">&quot;logon&quot;</span>,</span><br><span class="line">        <span class="string">&quot;userlanguage&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;userAccount&quot;</span>: account,</span><br><span class="line">        <span class="string">&quot;userPassword&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;encoded&quot;</span>: encoded</span><br><span class="line">    &#125;</span><br><span class="line">    resp = sess.post(url, headers=headers, data=data)</span><br><span class="line">    <span class="comment"># æ‰“å°cookies</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cookies after login:&quot;</span>, resp.cookies.get_dict())</span><br><span class="line">    <span class="keyword">return</span> resp</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ç”¨æ³•</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    account = <span class="string">&quot;&quot;</span> <span class="comment"># å­¦å·</span></span><br><span class="line">    password = <span class="string">&quot;&quot;</span> <span class="comment"># å¯†ç </span></span><br><span class="line">    base_url = <span class="string">&quot;http://jwgl2024.ouc.edu.cn&quot;</span></span><br><span class="line">    <span class="comment"># 1. å…ˆè®¿é—®é¦–é¡µè·å–cookie</span></span><br><span class="line">    session = requests.Session()</span><br><span class="line">    home_url = base_url + <span class="string">&quot;/&quot;</span></span><br><span class="line">    home_resp = session.get(home_url)</span><br><span class="line">    <span class="comment"># 2. ç”¨åŒä¸€ä¸ªsessionè·å–scodeå’Œsxh</span></span><br><span class="line">    scode, sxh = get_scode_and_sxh(base_url, session=session)</span><br><span class="line">    <span class="comment"># 3. codeDogSequence é€»è¾‘</span></span><br><span class="line">    codeDogSequence = <span class="string">&#x27; &#x27;</span></span><br><span class="line">    <span class="comment"># å¦‚éœ€æ”¯æŒUKeyï¼Œå¯åœ¨æ­¤å¤„è¡¥å……è·å–é€»è¾‘</span></span><br><span class="line">    encoded = get_encoded(account, password, scode, sxh, codeDogSequence)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Encoded Input:&quot;</span>, encoded)</span><br><span class="line">    <span class="comment"># 4. ç”¨åŒä¸€ä¸ªsessionç™»å½•</span></span><br><span class="line">    resp = login_jwgl(base_url, account, encoded, session=session)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Login response status:&quot;</span>, resp.status_code)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å½“å‰ä¼šè¯æ‰€æœ‰cookie:&quot;</span>, session.cookies.get_dict())</span><br><span class="line">    <span class="comment"># print(&quot;Login response text:\n&quot;, resp.text)</span></span><br><span class="line">    <span class="comment"># ä¿å­˜åˆ°htmlæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;login_result.html&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(resp.text)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å·²ä¿å­˜åˆ° login_result.html&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é€‰è¯¾ç³»ç»Ÿå®˜ç½‘"><a href="#é€‰è¯¾ç³»ç»Ÿå®˜ç½‘" class="headerlink" title="é€‰è¯¾ç³»ç»Ÿå®˜ç½‘"></a>é€‰è¯¾ç³»ç»Ÿå®˜ç½‘</h2><p>é€‰è¯¾ç³»ç»Ÿæ˜¯æ•™åŠ¡ç³»ç»Ÿåé¢åŠ ä¸Šç›¸å¯¹è·¯å¾„ï¼š<code>/jsxsd</code></p><p>æœ¬ä»¥ä¸ºå’Œæ•™åŠ¡ç³»ç»Ÿå®˜ç½‘è®¤è¯æ–¹å¼ä¸€æ ·ï¼Œçœ‹äº†ä»£ç å‘ç°æœ‰äº›å·®å¼‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">function submitForm1() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        var xh = document.getElementById(&quot;userAccount&quot;).value;</span><br><span class="line">        var pwd = document.getElementById(&quot;userPassword&quot;).value;</span><br><span class="line">        if (xh == &quot;&quot;) &#123;</span><br><span class="line">            window.qzAlert(&quot;warning&quot;, &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼&quot;);</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        if (pwd == &quot;&quot;) &#123;</span><br><span class="line">            window.qzAlert(&quot;warning&quot;, &quot;å¯†ç ä¸èƒ½ä¸ºç©ºï¼&quot;);</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var account = encodeInp(xh);</span><br><span class="line"></span><br><span class="line">        var passwd = encodeInp(pwd);</span><br><span class="line"></span><br><span class="line">        var codeDogSequence = &#x27; &#x27;;</span><br><span class="line">        try &#123;</span><br><span class="line">            var res = GetSerialNumber();</span><br><span class="line">            if (res.code === 0) &#123;</span><br><span class="line">                codeDogSequence = res.data.result;</span><br><span class="line">            &#125; else if (res.code === 9001) &#123;</span><br><span class="line">                // åŠ å¯†ç‹—è®¾å¤‡æœªè®¤è¯</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (e) &#123; &#125;</span><br><span class="line"></span><br><span class="line">        codeDogSequence = encodeInp(codeDogSequence);</span><br><span class="line"></span><br><span class="line">        var code = account + &quot;%%%&quot; + passwd + &quot;%%%&quot; + codeDogSequence;</span><br><span class="line">        var scode = &quot;QN929X4k0nBGIFeq6246Af1aef5qmj9jS1Ly0b7S651o628M29i9bA5N047uD2uI37a87k4e1tA8674llKdjv9n3d39afxego4A02M89ZnO38f305nr&quot;;</span><br><span class="line">        var sxh = &quot;2311312233213321312123132323311133323211132123221331323&quot;;</span><br><span class="line">        var encoded = &quot;&quot;;</span><br><span class="line">        for (var i = 0; i &lt; code.length; i++) &#123;</span><br><span class="line">            if (i &lt; 55) &#123;</span><br><span class="line">                encoded = encoded + code.substring(i, i + 1) + scode.substring(0, parseInt(sxh.substring(i, i + 1)));</span><br><span class="line">                scode = scode.substring(parseInt(sxh.substring(i, i + 1)), scode.length);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                encoded = encoded + code.substring(i, code.length);</span><br><span class="line">                i = code.length;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        document.getElementById(&quot;encoded&quot;).value = encoded;</span><br><span class="line">        //    var jzmmid = document.getElementById(&quot;Form1&quot;).jzmmid;</span><br><span class="line">        //    alert(&#x27;=====sss=&#x27;);</span><br><span class="line">        if (&quot;LoginToXk&quot; != &quot;logonLdap&quot;) &#123;</span><br><span class="line">            document.getElementById(&quot;userPassword&quot;).value = &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var lang = document.getElementById(&quot;userlanguage&quot;).value;</span><br><span class="line">        sessionStorage.clear();</span><br><span class="line">        sessionStorage.setItem(&#x27;language&#x27;, lang);</span><br><span class="line">        document.loginForm.submit();</span><br><span class="line">    &#125; catch (e) &#123;</span><br><span class="line">        alert(e);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æ˜¯é‚£å‡ ä¸ªå˜é‡ï¼Œå½“æ—¶ä½¿ç”¨äº†ä¸€ä¸ªåä¸º<code>encodeInp</code>çš„å‡½æ•°å¯¹å˜é‡è¿›è¡Œç¬¬ä¸€æ¬¡å¯¹å¤„ç†ï¼Œè¿½æº¯ä¹‹åå‘ç°è¿™ä¸ªå‡½æ•°å…¶å®å°±æ˜¯base64åŠ å¯†ã€‚ä¹Ÿå°±æ˜¯è¯´å…¶å®åªæ˜¯å¤šäº†ä¸€ä¸ªbase64åŠ å¯†ï¼Œå°è¯•æŒ‰ç…§ä¸Šé¢çš„å†™æ³•å‘ç°è®¿é—®ä¸é€šï¼Œç»†çœ‹ä¹‹åå‘ç°scodeã€sxhå’Œä¹‹å‰ä¹Ÿä¸ä¸€æ ·ï¼Œä¹‹å‰æ˜¯ä½¿ç”¨æ¥å£è‡ªå·±è¯·æ±‚ï¼Œè¿™æ¬¡æ˜¯åœ¨è¯·æ±‚æ•´ä¸ªé¡µé¢çš„æ—¶å€™å°±ç›´æ¥é™„å¸¦äº†å˜é‡çš„å€¼ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæå–</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">encodeInp</span>(<span class="params">input_str</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(input_str, <span class="built_in">str</span>):</span><br><span class="line">        input_bytes = input_str.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        input_bytes = input_str</span><br><span class="line">    <span class="keyword">return</span> base64.b64encode(input_bytes).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_encoded</span>(<span class="params">account, password, codeDogSequence, scode, sxh</span>):</span><br><span class="line">    <span class="comment"># æŒ‰å‰ç«¯é€»è¾‘æ‹¼æ¥åŠ å¯†åçš„è´¦å·ã€å¯†ç ã€åŠ å¯†ç‹—</span></span><br><span class="line">    code = <span class="string">f&quot;<span class="subst">&#123;account&#125;</span>%%%<span class="subst">&#123;password&#125;</span>%%%<span class="subst">&#123;codeDogSequence&#125;</span>&quot;</span></span><br><span class="line">    encoded = <span class="string">&quot;&quot;</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(code):</span><br><span class="line">        <span class="keyword">if</span> i &lt; <span class="number">55</span>:</span><br><span class="line">            encoded += code[i]</span><br><span class="line">            n = <span class="built_in">int</span>(sxh[i])</span><br><span class="line">            encoded += scode[:n]</span><br><span class="line">            scode = scode[n:]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            encoded += code[i:]</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> encoded</span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">extract_scode_sxh_from_html</span>(<span class="params">html</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åªåŒ¹é… var scode = &quot;...&quot;; var sxh = &quot;...&quot;; è¿™ç§é™æ€å­—ç¬¦ä¸²èµ‹å€¼ï¼Œ</span></span><br><span class="line"><span class="string">    è·³è¿‡ dataStr.split(&quot;#&quot;) è¿™ç§åŠ¨æ€èµ‹å€¼</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># åªåŒ¹é…é™æ€å­—ç¬¦ä¸²èµ‹å€¼çš„ scode/sxhï¼Œæ’é™¤åŒ…å« split(&quot;#&quot;) çš„è¡Œ</span></span><br><span class="line">    scode_match = re.search(<span class="string">r&#x27;var scode\s*=\s*&quot;([^&quot;]+)&quot;;&#x27;</span>, html)</span><br><span class="line">    sxh_match = re.search(<span class="string">r&#x27;var sxh\s*=\s*&quot;([^&quot;]+)&quot;;&#x27;</span>, html)</span><br><span class="line">    <span class="comment"># æ£€æŸ¥èµ‹å€¼è¯­å¥å‰åæ˜¯å¦åŒ…å« split(&quot;#&quot;)ï¼Œå¦‚æœæœ‰åˆ™è·³è¿‡</span></span><br><span class="line">    <span class="keyword">if</span> scode_match <span class="keyword">and</span> sxh_match:</span><br><span class="line">        <span class="comment"># æ£€æŸ¥æ˜¯å¦ä¸ºé™æ€å­—ç¬¦ä¸²èµ‹å€¼ï¼ˆå‰å20å­—ç¬¦å†…ä¸èƒ½æœ‰ split(&quot;#&quot;)ï¼‰</span></span><br><span class="line">        scode_start = scode_match.start()</span><br><span class="line">        sxh_start = sxh_match.start()</span><br><span class="line">        context = html[<span class="built_in">max</span>(<span class="number">0</span>, scode_start-<span class="number">20</span>):scode_match.end()+<span class="number">20</span>] + html[<span class="built_in">max</span>(<span class="number">0</span>, sxh_start-<span class="number">20</span>):sxh_match.end()+<span class="number">20</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;split(&quot;#&quot;)&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> context <span class="keyword">and</span> <span class="string">&quot;.split(&#x27;#&#x27;)&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> context:</span><br><span class="line">            <span class="keyword">return</span> scode_match.group(<span class="number">1</span>), sxh_match.group(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">&quot;æœªæ‰¾åˆ°é™æ€ scode æˆ– sxhï¼Œè¯·æ£€æŸ¥é¡µé¢ç»“æ„&quot;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_xk</span>(<span class="params">base_url, account, password, session=<span class="literal">None</span></span>):</span><br><span class="line">    sess = session <span class="keyword">or</span> requests.Session()</span><br><span class="line">    <span class="comment"># 1. è·å–é¦–é¡µHTMLå¹¶æå–scodeå’Œsxh</span></span><br><span class="line">    home_url = base_url + <span class="string">&quot;/jsxsd/&quot;</span></span><br><span class="line">    home_resp = sess.get(home_url)</span><br><span class="line">    html = home_resp.text</span><br><span class="line">    scode, sxh = extract_scode_sxh_from_html(html)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;scode:&quot;</span>, scode)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sxh:&quot;</span>, sxh)</span><br><span class="line">    <span class="comment"># 2. base64åŠ å¯†</span></span><br><span class="line">    account_enc = encodeInp(account)</span><br><span class="line">    password_enc = encodeInp(password)</span><br><span class="line">    codeDogSequence = <span class="string">&#x27; &#x27;</span></span><br><span class="line">    codeDogSequence_enc = encodeInp(codeDogSequence)</span><br><span class="line">    <span class="comment"># 3. ç”Ÿæˆencoded</span></span><br><span class="line">    encoded = get_encoded(account_enc, password_enc, codeDogSequence_enc, scode, sxh)</span><br><span class="line">    <span class="comment"># 4. æ„é€ POSTè¯·æ±‚</span></span><br><span class="line">    url = <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/jsxsd/xk/LoginToXk&quot;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&quot;Accept&quot;</span>: <span class="string">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Accept-Language&quot;</span>: <span class="string">&quot;zh-CN,zh;q=0.9&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Cache-Control&quot;</span>: <span class="string">&quot;no-cache&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Connection&quot;</span>: <span class="string">&quot;keep-alive&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Origin&quot;</span>: base_url,</span><br><span class="line">        <span class="string">&quot;Pragma&quot;</span>: <span class="string">&quot;no-cache&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/jsxsd/&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Upgrade-Insecure-Requests&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;loginMethod&quot;</span>: <span class="string">&quot;LoginToXk&quot;</span>,</span><br><span class="line">        <span class="string">&quot;userlanguage&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;userAccount&quot;</span>: account,</span><br><span class="line">        <span class="string">&quot;userPassword&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;encoded&quot;</span>: encoded</span><br><span class="line">    &#125;</span><br><span class="line">    resp = sess.post(url, headers=headers, data=data)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Login response status:&quot;</span>, resp.status_code)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;è®¾ç½®çš„cookie:&#x27;</span>, resp.cookies.get_dict())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å½“å‰ä¼šè¯æ‰€æœ‰cookie:&quot;</span>, sess.cookies.get_dict())</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;login_xk_result.html&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(resp.text)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å·²ä¿å­˜åˆ° login_xk_result.html&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> resp</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œå…¶å®ç™»å½•å·²ç»æˆåŠŸï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³çˆ¬å–ä¸€ä¸‹è‡ªå·±çš„é€‰è¯¾è®°å½•ï¼Œç”±æ­¤çœ‹çœ‹æœ‰æ²¡æœ‰ä¹‹å‰çš„æ¼æ´</p><p><img src="https://image.daoxuan.cc/2025/06/cde93066772730776b0c2a542f9948b2.png" alt="image-20250605230947957"></p><p>å‘ç°è¿™æ˜¯ä¸€ä¸ªgetè¯·æ±‚ï¼Œé‚£ä¹ˆåˆ°åº•æ˜¯æ€ä¹ˆè¯†åˆ«èº«ä»½çš„å‘¢ï¼Œæˆ‘ä»¬çœ‹äº†ä¸€ä¸‹cookieï¼Œå‘ç°cookieä»è®¿é—®é¦–é¡µåˆ°ç™»å½•æˆåŠŸï¼Œå†åˆ°è¿™ä¸€æ­¥ä¸€è‡ªæ²¡æœ‰å˜åŒ–ï¼Œè¯´æ˜è®¤è¯é€»è¾‘æ˜¯ï¼š</p><p>é¦–é¡µæœåŠ¡å™¨å‘é€éšæœºcookieï¼Œç™»å½•æˆåŠŸä¹‹åå°†ç”¨æˆ·ä¸cookieè¿›è¡Œç»‘å®š</p><p>é‚£ä¹ˆæˆ‘ä¾¿å°è¯•ä¸€ä¸‹ä½¿ç”¨è„šæœ¬ç™»å½•ä¹‹ååœ¨ä½¿ç”¨cookieè®¿é—®è¿™ä¸ªgetè¯·æ±‚ï¼Œå´æ”¶åˆ°äº†</p><blockquote><p>[!WARNING]</p><p>å½“å‰è´¦å·å·²åœ¨åˆ«å¤„ç™»å½•ï¼Œè¯·é‡æ–°ç™»å½•è¿›å…¥é€‰è¯¾ï¼</p></blockquote><p>è¿™æ ·çš„è­¦å‘Šã€‚</p><p>è¯´æ˜ä¸€å®šæ˜¯æŸä¸ªç¯èŠ‚å‡ºç°äº†é—®é¢˜ï¼Œé‡æ–°çœ‹ä¸€ä¸‹æ•´ä¸ªæµç¨‹ï¼Œå‘ç°ï¼š</p><p><img src="https://image.daoxuan.cc/2025/06/ff65118c9fe0a79c55bb029a77feb447.png" alt="image-20250605231647734"></p><p>é€‰è¯¾ä¹‹å‰æœ‰ä¸€ä¸ªè¿›å…¥é€‰è¯¾ï¼Œè¿™ä¸ªbuttonä¹Ÿæ˜¯ä¸€ä¸ªå‘é€è¯·æ±‚çš„æŒ‰é”®</p><p><img src="https://image.daoxuan.cc/2025/06/d3ff3622869ed185d99d853d9217da0d.png" alt="image-20250605231801092"></p><p>åœ¨è¿›å…¥é€‰è¯¾ä¹‹å‰éœ€è¦å…ˆè®¿é—®ä¸€ä¸ªåˆ›å»ºé€‰è¯¾çš„æ¥å£ï¼Œç„¶åæ‰å¯ä»¥è®¿é—®é€‰è¯¾çš„urlï¼Œæœ‰å¯èƒ½æ˜¯å¤„äºæŸäº›æ€§èƒ½æ–¹é¢çš„ç­–ç•¥æ‰è¿™æ ·è®¾è®¡çš„ï¼Œé€šè¿‡ä¸‹é¢çš„cookieå­—æ®µä¹Ÿå¯ä»¥å‘ç°</p><div class="table-container"><table><thead><tr><th>name</th><th>value</th></tr></thead><tbody><tr><td>SERVERID</td><td>Jw4</td></tr></tbody></table></div><p>valueä»jw3åˆ°jw6ä¸æ–­å˜åŒ–ï¼Œæœ‰å¯èƒ½jw1å’Œjw2ä¹Ÿæœ‰ï¼Œè¿™ä¹Ÿè®¸æ˜¯å¤šä¸ªæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œè´Ÿè½½å‡è¡¡äº†ã€‚</p><p>è‡³æ­¤é€‰è¯¾ç³»ç»Ÿçš„çˆ¬è™«å‘Šä¸€æ®µè½ã€‚è·å–é€‰è¯¾è®°å½•çš„å‡½æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_xsxk_tzsm</span>(<span class="params">base_url, session=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    è·å–å­¦ç”Ÿé€‰è¯¾é€šçŸ¥è¯´æ˜é¡µé¢</span></span><br><span class="line"><span class="string">    å…ˆè¯·æ±‚mzlist.doæ¥å£ï¼Œå†è¯·æ±‚newXsxkzxæ¥å£ï¼Œå†è¯·æ±‚xsxk_tzsm</span></span><br><span class="line"><span class="string">    :param base_url: ä¾‹å¦‚ http://jwgl2024.ouc.edu.cn</span></span><br><span class="line"><span class="string">    :param session: requests.Session() å¯¹è±¡</span></span><br><span class="line"><span class="string">    :return: å“åº”å¯¹è±¡</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    sess = session <span class="keyword">or</span> requests.Session()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 1. é¦–å…ˆè¯·æ±‚newXsxkzxæ¥å£ï¼ˆæ–°å¢çš„å…³é”®æ­¥éª¤ï¼‰</span></span><br><span class="line">    new_xsxk_url = <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/jsxsd/xsxk/newXsxkzx&quot;</span></span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;jx0502zbid&#x27;</span>: <span class="string">&#x27;3CB5600F91374DE3895EF44E942970C0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;isallsc&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    new_headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;zh-CN,zh;q=0.9&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Cache-Control&#x27;</span>: <span class="string">&#x27;no-cache&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Pragma&#x27;</span>: <span class="string">&#x27;no-cache&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Host&#x27;</span>: <span class="string">&#x27;jwgl2024.ouc.edu.cn&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">f&#x27;http://jwgl2024.ouc.edu.cn/jsxsd/xsxk/xklc_list?isallsc=&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Upgrade-Insecure-Requests&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å¸¦å‚æ•°è¯·æ±‚ï¼ˆå…³é”®æ­¥éª¤ï¼‰</span></span><br><span class="line">    new_resp = sess.get(</span><br><span class="line">        new_xsxk_url,</span><br><span class="line">        params=params,</span><br><span class="line">        headers=new_headers,</span><br><span class="line">        verify=<span class="literal">False</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;NewXsxkzx Status: <span class="subst">&#123;new_resp.status_code&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="comment"># ä¿å­˜newXsxkzxå“åº”ä¸ºHTML</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;new_xsxkzx_result.html&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(new_resp.text)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;NewXsxkzx Response saved to new_xsxkzx_result.html&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2. ç„¶åè¯·æ±‚xsxk_tzsmæ¥å£ï¼ˆåŸé€»è¾‘ï¼‰</span></span><br><span class="line">    tzsm_url = <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/jsxsd/xsxk/xsxk_tzsm&quot;</span></span><br><span class="line">    tzsm_headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;zh-CN,zh;q=0.9&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/jsxsd/xsxk/selectBottom?jx0502zbid=3CB5600F91374DE3895EF44E942970C0&amp;sfylxkstr=&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;Cache-Control&#x27;</span>: <span class="string">&#x27;no-cache&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Pragma&#x27;</span>: <span class="string">&#x27;no-cache&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Upgrade-Insecure-Requests&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    response = sess.get(tzsm_url, headers=tzsm_headers, verify=<span class="literal">False</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Status Code: <span class="subst">&#123;response.status_code&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;xsxk_tzsm_result.html&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(response.text)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å·²ä¿å­˜åˆ° xsxk_tzsm_result.html&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> response</span><br></pre></td></tr></table></figure><p>æ€»è€Œè¨€ä¹‹ï¼Œç³»ç»Ÿåšçš„è¿˜è¡Œï¼Œæˆ‘è¿˜æ²¡æœ‰å‘ç°ä»€ä¹ˆæ¼æ´ï¼Œ<del>å½“ç„¶æˆ‘ä¹Ÿå‘ç°ä¸äº†å¤ªé«˜æ˜çš„æ¼æ´</del>ï¼Œä½†æ„Ÿè§‰ä¸å€¼ä¼ è¨€ä¸­èŠ±è´¹çš„300wã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬è™«&quot;&gt;&lt;a href=&quot;#ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬è™«&quot; class=&quot;headerlink&quot; title=&quot;ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬è™«&quot;&gt;&lt;/a&gt;ä¸­å›½æµ·æ´‹å¤§å­¦æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿçˆ¬</summary>
      
    
    
    
    
    <category term="çˆ¬è™«" scheme="https://daoxuan.cc/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨wireguardç»„ç½‘</title>
    <link href="https://daoxuan.cc/posts/25443/"/>
    <id>https://daoxuan.cc/posts/25443/</id>
    <published>2025-05-10T13:19:54.000Z</published>
    <updated>2025-05-10T13:47:59.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="ä½¿ç”¨wireguardç»„ç½‘"><a href="#ä½¿ç”¨wireguardç»„ç½‘" class="headerlink" title="ä½¿ç”¨wireguardç»„ç½‘"></a>ä½¿ç”¨wireguardç»„ç½‘</h1><blockquote><p>é¦–å…ˆè¯´ä¸€ä¸‹æˆ‘çš„ä½¿ç”¨çš„è®¾å¤‡ï¼Œä¸€å°é˜¿é‡Œäº‘çš„è½»é‡æœåŠ¡å™¨ï¼ˆdebianå†…æ ¸ã€æœ‰å…¬ç½‘ipï¼‰ï¼Œä¸€å°MacBookï¼Œä¸€ä¸ªä½äºæ ¡å›­ç½‘å†…çš„debianå°ä¸»æœº</p></blockquote><h2 id="æ ¡å›­ç½‘"><a href="#æ ¡å›­ç½‘" class="headerlink" title="æ ¡å›­ç½‘"></a>æ ¡å›­ç½‘</h2><p>é¦–å…ˆé…ç½®æ ¡å›­ç½‘å†…çš„debianå°ä¸»æœº</p><ul><li>ä¸‹è½½wireguard</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install wireguard</span><br></pre></td></tr></table></figure><ul><li>åœ¨/etc/wireguardç”Ÿæˆå…¬é’¥ç§é’¥</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç”Ÿæˆç§é’¥</span></span><br><span class="line">$ wg genkey &gt; privatekey</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆå…¬é’¥</span></span><br><span class="line">$ wg pubkey &lt; privatekey &gt; publickey</span><br></pre></td></tr></table></figure><ul><li>ç¼–è¾‘é…ç½®æ–‡ä»¶</li></ul><p>é…ç½®æ–‡ä»¶å¯ä»¥æ”¾åœ¨ä»»ä½•è·¯å¾„ä¸‹ï¼Œä½†å¿…é¡»é€šè¿‡ç»å¯¹è·¯å¾„å¼•ç”¨ã€‚é»˜è®¤è·¯å¾„æ˜¯ <code>/etc/wireguard/wg0.conf</code></p><p>é…ç½®æ–‡ä»¶çš„å‘½åå½¢å¼å¿…é¡»ä¸º <script type="math/tex">{WireGuard æ¥å£çš„åç§°}.conf`ã€‚é€šå¸¸æƒ…å†µä¸‹ WireGuard æ¥å£åç§°ä»¥ `wg` ä¸ºå‰ç¼€ï¼Œå¹¶ä» `0` å¼€å§‹ç¼–å·ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–åç§°ï¼Œåªè¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ `^[a-zA-Z0-9_=+.-]{1,15}</script> å°±è¡Œã€‚</p><p>é…ç½®æ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Interface]</span></span><br><span class="line"><span class="attr">PrivateKey</span> = æœ¬æœºç§é’¥</span><br><span class="line"><span class="attr">Address</span> = <span class="number">10.6</span>.<span class="number">0.6</span>/<span class="number">24</span></span><br><span class="line"><span class="attr">DNS</span> = <span class="number">1.1</span>.<span class="number">1.1</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Peer]</span></span><br><span class="line"><span class="attr">PublicKey</span> = é˜¿é‡Œäº‘æœåŠ¡å™¨å…¬é’¥</span><br><span class="line"><span class="attr">AllowedIPs</span> = <span class="number">10.6</span>.<span class="number">0.2</span>/<span class="number">32</span></span><br><span class="line"><span class="attr">Endpoint</span> = <span class="number">1</span>panel.daoxuan.cc:<span class="number">51820</span>  <span class="comment"># é˜¿é‡Œäº‘æœåŠ¡å™¨åŸŸå+ç«¯å£</span></span><br><span class="line"><span class="attr">PersistentKeepalive</span> = <span class="number">25</span></span><br></pre></td></tr></table></figure><h2 id="é˜¿é‡Œäº‘æœåŠ¡å™¨"><a href="#é˜¿é‡Œäº‘æœåŠ¡å™¨" class="headerlink" title="é˜¿é‡Œäº‘æœåŠ¡å™¨"></a>é˜¿é‡Œäº‘æœåŠ¡å™¨</h2><p>ä¸‹è½½æµç¨‹å’Œå¯†é’¥ç”Ÿæˆæµç¨‹åŒä¸Š</p><p>å¼€å¯IPåœ°å€è½¬å‘ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;net.ipv4.ip_forward = 1&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">$ echo &quot;net.ipv4.conf.all.proxy_arp = 1&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">$ sysctl -p /etc/sysctl.conf</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯é…ç½®æ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Interface]</span></span><br><span class="line"><span class="attr">Address</span> = <span class="number">10.6</span>.<span class="number">0.2</span>/<span class="number">24</span></span><br><span class="line"><span class="attr">ListenPort</span> = <span class="number">51820</span></span><br><span class="line"><span class="attr">PrivateKey</span> = </span><br><span class="line"><span class="attr">PostUp</span> = iptables -A FORWARD -i %i -j ACCEPT<span class="comment">; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE</span></span><br><span class="line"><span class="attr">PostDown</span> = iptables -D FORWARD -i %i -j ACCEPT<span class="comment">; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE</span></span><br><span class="line"><span class="section">[Peer]</span></span><br><span class="line"><span class="attr">PublicKey</span> = </span><br><span class="line"><span class="attr">AllowedIPs</span> = <span class="number">10.6</span>.<span class="number">0.6</span>/<span class="number">32</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„eth0éœ€è¦æ ¹æ®è‡ªå·±çš„é»˜è®¤ç½‘ç»œå‡ºå£ç½‘å¡è¿›è¡Œé…ç½®</p><h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><p>é…ç½®ç»“æŸä¹‹åé€šè¿‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wg-quick up wg0</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ï¼ï¼</p><p>å¯åŠ¨ä¹‹åå¯ä»¥é€šè¿‡<code>wg show</code>æŸ¥çœ‹è¿æ¥çŠ¶æ€</p><p>å¯ä»¥é€šè¿‡ping å†…ç½‘åœ°å€æŸ¥çœ‹æ˜¯å¦äº’é€š</p><blockquote><p>è‡³æ­¤å®ç°æ ¡å›­ç½‘å†…ç½‘ä¸»æœºä¸é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨ç»„ç½‘</p></blockquote></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;ä½¿ç”¨wireguardç»„ç½‘&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨wireguardç»„ç½‘&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨wireguardç»„ç½‘&quot;&gt;&lt;/a&gt;ä½¿ç”¨wireguardç»„ç½‘&lt;/h</summary>
      
    
    
    
    
    <category term="wireguard" scheme="https://daoxuan.cc/tags/wireguard/"/>
    
  </entry>
  
  <entry>
    <title>ç»´å‰å°¼äºšå¯†ç ç ´è§£python</title>
    <link href="https://daoxuan.cc/posts/48193/"/>
    <id>https://daoxuan.cc/posts/48193/</id>
    <published>2025-04-16T09:33:50.000Z</published>
    <updated>2025-04-16T09:38:09.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="ç»´å‰å°¼äºšå¯†ç ç ´è§£python"><a href="#ç»´å‰å°¼äºšå¯†ç ç ´è§£python" class="headerlink" title="ç»´å‰å°¼äºšå¯†ç ç ´è§£python"></a>ç»´å‰å°¼äºšå¯†ç ç ´è§£python</h1><blockquote><p>å…·ä½“åŸç†å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹</p></blockquote><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="1-è·å–keyçš„å¯èƒ½é•¿åº¦ï¼ˆä½¿ç”¨é‡åˆæŒ‡æ•°æ”»å‡»æ³•ï¼‰"><a href="#1-è·å–keyçš„å¯èƒ½é•¿åº¦ï¼ˆä½¿ç”¨é‡åˆæŒ‡æ•°æ”»å‡»æ³•ï¼‰" class="headerlink" title="1. è·å–keyçš„å¯èƒ½é•¿åº¦ï¼ˆä½¿ç”¨é‡åˆæŒ‡æ•°æ”»å‡»æ³•ï¼‰"></a>1. è·å–keyçš„å¯èƒ½é•¿åº¦ï¼ˆä½¿ç”¨é‡åˆæŒ‡æ•°æ”»å‡»æ³•ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_IC</span>(<span class="params">cipher</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è®¡ç®—é‡åˆæŒ‡æ•°&quot;&quot;&quot;</span></span><br><span class="line">    freq = Counter(cipher)</span><br><span class="line">    L = <span class="built_in">len</span>(cipher)</span><br><span class="line">    IC = <span class="built_in">sum</span>(f * (f - <span class="number">1</span>) <span class="keyword">for</span> f <span class="keyword">in</span> freq.values()) / (L * (L - <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">return</span> IC</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">guess_key_length</span>(<span class="params">cipher, max_len=<span class="number">50</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;çŒœæµ‹å¯†é’¥é•¿åº¦&quot;&quot;&quot;</span></span><br><span class="line">    best_lengths = []</span><br><span class="line">    <span class="keyword">for</span> key_len <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, max_len + <span class="number">1</span>):</span><br><span class="line">        groups = [<span class="string">&#x27;&#x27;</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(key_len)]</span><br><span class="line">        <span class="keyword">for</span> i, char <span class="keyword">in</span> <span class="built_in">enumerate</span>(cipher):</span><br><span class="line">            groups[i % key_len] += char</span><br><span class="line">        avg_IC = np.mean([count_IC(group) <span class="keyword">for</span> group <span class="keyword">in</span> groups])</span><br><span class="line">        diff = <span class="built_in">abs</span>(avg_IC - <span class="number">0.0667</span>)  <span class="comment"># è‹±è¯­æ–‡æœ¬çš„ICçº¦ä¸º0.0667</span></span><br><span class="line">        best_lengths.append((diff, key_len))</span><br><span class="line">    best_lengths.sort()</span><br><span class="line">    <span class="keyword">return</span> [length <span class="keyword">for</span> _, length <span class="keyword">in</span> best_lengths]</span><br></pre></td></tr></table></figure><h3 id="2-çŒœæµ‹keyçš„å¯èƒ½å€¼ï¼ˆå­—æ¯é¢‘ç‡åˆ†æï¼‰"><a href="#2-çŒœæµ‹keyçš„å¯èƒ½å€¼ï¼ˆå­—æ¯é¢‘ç‡åˆ†æï¼‰" class="headerlink" title="2. çŒœæµ‹keyçš„å¯èƒ½å€¼ï¼ˆå­—æ¯é¢‘ç‡åˆ†æï¼‰"></a>2. çŒœæµ‹keyçš„å¯èƒ½å€¼ï¼ˆå­—æ¯é¢‘ç‡åˆ†æï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">frequency_analysis</span>(<span class="params">group, num_candidates=<span class="number">3</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;é¢‘ç‡åˆ†æï¼Œæ‰¾åˆ°æœ€åŒ¹é…çš„ä½ç§»&quot;&quot;&quot;</span></span><br><span class="line">    R_list = []</span><br><span class="line">    group_len = <span class="built_in">len</span>(group)  <span class="comment"># åˆ†ç»„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> shift <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">26</span>):  <span class="comment"># éå†æ‰€æœ‰å¯èƒ½çš„ä½ç§»ï¼ˆ0 åˆ° 25ï¼‰</span></span><br><span class="line">        <span class="comment"># ç»Ÿè®¡ä½ç§»åå­—æ¯çš„é¢‘ç‡</span></span><br><span class="line">        shifted_freq = Counter(</span><br><span class="line">            <span class="built_in">chr</span>(((<span class="built_in">ord</span>(char) - <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>) - shift) % <span class="number">26</span>) + <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)) <span class="keyword">for</span> char <span class="keyword">in</span> group</span><br><span class="line">        )</span><br><span class="line">        <span class="comment"># è®¡ç®—å†…ç§¯ R = âˆ‘(P_i * Q_i)</span></span><br><span class="line">        R = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> ENGLISH_FREQ:</span><br><span class="line">            <span class="comment"># P_i: è‹±è¯­å­—æ¯é¢‘ç‡</span></span><br><span class="line">            <span class="comment"># Q_i: åˆ†ç»„ä¸­å­—æ¯é¢‘ç‡</span></span><br><span class="line">            Q_i = shifted_freq.get(char, <span class="number">0</span>) / group_len</span><br><span class="line">            R += ENGLISH_FREQ[char] * Q_i</span><br><span class="line">        R_list.append((shift, R))</span><br><span class="line">    R_list.sort(key=<span class="keyword">lambda</span> x: -x[<span class="number">1</span>])  <span class="comment"># æŒ‰Rå€¼ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">    <span class="comment"># è¿”å›å‰num_candidatesä¸ªä½ç§»åŠå…¶Rå€¼</span></span><br><span class="line">    <span class="keyword">return</span> [(<span class="built_in">chr</span>(shift + <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)), R) <span class="keyword">for</span> shift, R <span class="keyword">in</span> R_list[:num_candidates]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">guess_key</span>(<span class="params">cipher, key_len</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;çŒœæµ‹å¯†é’¥ï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§åˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„å¯†é’¥&quot;&quot;&quot;</span></span><br><span class="line">    groups = [cipher[i::key_len] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(key_len)]  <span class="comment"># æŒ‰å¯†é’¥é•¿åº¦åˆ†ç»„</span></span><br><span class="line">    candidates = []</span><br><span class="line">    <span class="keyword">for</span> group <span class="keyword">in</span> groups:</span><br><span class="line">        <span class="comment"># å¯¹æ¯ä¸ªåˆ†ç»„è¿›è¡Œé¢‘ç‡åˆ†æï¼Œè·å–ç¬¬ä¸€ä¸ªå¯èƒ½çš„ä½ç§»åŠå…¶Rå€¼</span></span><br><span class="line">        shifts = frequency_analysis(group, num_candidates=<span class="number">1</span>)</span><br><span class="line">        candidates.append(shifts)</span><br><span class="line">    <span class="comment"># ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¯†é’¥ç»„åˆï¼Œå¹¶è®¡ç®—å…¶æ€»Rå€¼</span></span><br><span class="line">    keys_with_score = []</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> product(*candidates):</span><br><span class="line">        key_str = <span class="string">&#x27;&#x27;</span>.join([k[<span class="number">0</span>] <span class="keyword">for</span> k <span class="keyword">in</span> key])  <span class="comment"># å¯†é’¥å­—ç¬¦ä¸²</span></span><br><span class="line">        total_R = <span class="built_in">sum</span>(k[<span class="number">1</span>] <span class="keyword">for</span> k <span class="keyword">in</span> key)  <span class="comment"># å¯†é’¥çš„æ€»Rå€¼</span></span><br><span class="line">        keys_with_score.append((key_str, total_R))</span><br><span class="line">    <span class="comment"># æŒ‰æ€»Rå€¼ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">    keys_with_score.sort(key=<span class="keyword">lambda</span> x: -x[<span class="number">1</span>])</span><br><span class="line">    <span class="comment"># è¿”å›æŒ‰ä¼˜å…ˆçº§æ’åºçš„å¯†é’¥åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">return</span> [key <span class="keyword">for</span> key, _ <span class="keyword">in</span> keys_with_score]</span><br></pre></td></tr></table></figure><h3 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> product</span><br><span class="line"></span><br><span class="line">KEYLENGTHNUM = <span class="number">5</span>  <span class="comment"># å¯†é’¥é•¿åº¦å€™é€‰æ•°é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‹±è¯­å­—æ¯é¢‘ç‡è¡¨</span></span><br><span class="line">ENGLISH_FREQ = &#123;</span><br><span class="line">    <span class="string">&#x27;A&#x27;</span>: <span class="number">0.08167</span>, <span class="string">&#x27;B&#x27;</span>: <span class="number">0.01492</span>, <span class="string">&#x27;C&#x27;</span>: <span class="number">0.02782</span>, <span class="string">&#x27;D&#x27;</span>: <span class="number">0.04253</span>,</span><br><span class="line">    <span class="string">&#x27;E&#x27;</span>: <span class="number">0.12702</span>, <span class="string">&#x27;F&#x27;</span>: <span class="number">0.02228</span>, <span class="string">&#x27;G&#x27;</span>: <span class="number">0.02015</span>, <span class="string">&#x27;H&#x27;</span>: <span class="number">0.06094</span>,</span><br><span class="line">    <span class="string">&#x27;I&#x27;</span>: <span class="number">0.06966</span>, <span class="string">&#x27;J&#x27;</span>: <span class="number">0.00153</span>, <span class="string">&#x27;K&#x27;</span>: <span class="number">0.00772</span>, <span class="string">&#x27;L&#x27;</span>: <span class="number">0.04025</span>,</span><br><span class="line">    <span class="string">&#x27;M&#x27;</span>: <span class="number">0.02406</span>, <span class="string">&#x27;N&#x27;</span>: <span class="number">0.06749</span>, <span class="string">&#x27;O&#x27;</span>: <span class="number">0.07507</span>, <span class="string">&#x27;P&#x27;</span>: <span class="number">0.01929</span>,</span><br><span class="line">    <span class="string">&#x27;Q&#x27;</span>: <span class="number">0.00095</span>, <span class="string">&#x27;R&#x27;</span>: <span class="number">0.05987</span>, <span class="string">&#x27;S&#x27;</span>: <span class="number">0.06327</span>, <span class="string">&#x27;T&#x27;</span>: <span class="number">0.09056</span>,</span><br><span class="line">    <span class="string">&#x27;U&#x27;</span>: <span class="number">0.02758</span>, <span class="string">&#x27;V&#x27;</span>: <span class="number">0.00978</span>, <span class="string">&#x27;W&#x27;</span>: <span class="number">0.0236</span>, <span class="string">&#x27;X&#x27;</span>: <span class="number">0.0015</span>,</span><br><span class="line">    <span class="string">&#x27;Y&#x27;</span>: <span class="number">0.01974</span>, <span class="string">&#x27;Z&#x27;</span>: <span class="number">0.00074</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">alpha</span>(<span class="params">cipher</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æå–å¯†æ–‡ä¸­çš„å­—æ¯å¹¶ç»Ÿä¸€è½¬æ¢ä¸ºå¤§å†™&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join([char.upper() <span class="keyword">for</span> char <span class="keyword">in</span> cipher <span class="keyword">if</span> char.isalpha()])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">count_IC</span>(<span class="params">cipher</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è®¡ç®—é‡åˆæŒ‡æ•°&quot;&quot;&quot;</span></span><br><span class="line">    freq = Counter(cipher)</span><br><span class="line">    L = <span class="built_in">len</span>(cipher)</span><br><span class="line">    IC = <span class="built_in">sum</span>(f * (f - <span class="number">1</span>) <span class="keyword">for</span> f <span class="keyword">in</span> freq.values()) / (L * (L - <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">return</span> IC</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">guess_key_length</span>(<span class="params">cipher, max_len=<span class="number">50</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;çŒœæµ‹å¯†é’¥é•¿åº¦&quot;&quot;&quot;</span></span><br><span class="line">    best_lengths = []</span><br><span class="line">    <span class="keyword">for</span> key_len <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, max_len + <span class="number">1</span>):</span><br><span class="line">        groups = [<span class="string">&#x27;&#x27;</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(key_len)]</span><br><span class="line">        <span class="keyword">for</span> i, char <span class="keyword">in</span> <span class="built_in">enumerate</span>(cipher):</span><br><span class="line">            groups[i % key_len] += char</span><br><span class="line">        avg_IC = np.mean([count_IC(group) <span class="keyword">for</span> group <span class="keyword">in</span> groups])</span><br><span class="line">        diff = <span class="built_in">abs</span>(avg_IC - <span class="number">0.0667</span>)  <span class="comment"># è‹±è¯­æ–‡æœ¬çš„ICçº¦ä¸º0.0667</span></span><br><span class="line">        best_lengths.append((diff, key_len))</span><br><span class="line">    best_lengths.sort()</span><br><span class="line">    <span class="keyword">return</span> [length <span class="keyword">for</span> _, length <span class="keyword">in</span> best_lengths]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">frequency_analysis</span>(<span class="params">group, num_candidates=<span class="number">3</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;é¢‘ç‡åˆ†æï¼Œæ‰¾åˆ°æœ€åŒ¹é…çš„ä½ç§»&quot;&quot;&quot;</span></span><br><span class="line">    R_list = []</span><br><span class="line">    group_len = <span class="built_in">len</span>(group)  <span class="comment"># åˆ†ç»„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> shift <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">26</span>):  <span class="comment"># éå†æ‰€æœ‰å¯èƒ½çš„ä½ç§»ï¼ˆ0 åˆ° 25ï¼‰</span></span><br><span class="line">        <span class="comment"># ç»Ÿè®¡ä½ç§»åå­—æ¯çš„é¢‘ç‡</span></span><br><span class="line">        shifted_freq = Counter(</span><br><span class="line">            <span class="built_in">chr</span>(((<span class="built_in">ord</span>(char) - <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>) - shift) % <span class="number">26</span>) + <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)) <span class="keyword">for</span> char <span class="keyword">in</span> group</span><br><span class="line">        )</span><br><span class="line">        <span class="comment"># è®¡ç®—å†…ç§¯ R = âˆ‘(P_i * Q_i)</span></span><br><span class="line">        R = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> ENGLISH_FREQ:</span><br><span class="line">            <span class="comment"># P_i: è‹±è¯­å­—æ¯é¢‘ç‡</span></span><br><span class="line">            <span class="comment"># Q_i: åˆ†ç»„ä¸­å­—æ¯é¢‘ç‡</span></span><br><span class="line">            Q_i = shifted_freq.get(char, <span class="number">0</span>) / group_len</span><br><span class="line">            R += ENGLISH_FREQ[char] * Q_i</span><br><span class="line">        R_list.append((shift, R))</span><br><span class="line">    R_list.sort(key=<span class="keyword">lambda</span> x: -x[<span class="number">1</span>])  <span class="comment"># æŒ‰Rå€¼ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">    <span class="comment"># è¿”å›å‰num_candidatesä¸ªä½ç§»åŠå…¶Rå€¼</span></span><br><span class="line">    <span class="keyword">return</span> [(<span class="built_in">chr</span>(shift + <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)), R) <span class="keyword">for</span> shift, R <span class="keyword">in</span> R_list[:num_candidates]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">guess_key</span>(<span class="params">cipher, key_len</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;çŒœæµ‹å¯†é’¥ï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§åˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„å¯†é’¥&quot;&quot;&quot;</span></span><br><span class="line">    groups = [cipher[i::key_len] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(key_len)]  <span class="comment"># æŒ‰å¯†é’¥é•¿åº¦åˆ†ç»„</span></span><br><span class="line">    candidates = []</span><br><span class="line">    <span class="keyword">for</span> group <span class="keyword">in</span> groups:</span><br><span class="line">        <span class="comment"># å¯¹æ¯ä¸ªåˆ†ç»„è¿›è¡Œé¢‘ç‡åˆ†æï¼Œè·å–ç¬¬ä¸€ä¸ªå¯èƒ½çš„ä½ç§»åŠå…¶Rå€¼</span></span><br><span class="line">        shifts = frequency_analysis(group, num_candidates=<span class="number">1</span>)</span><br><span class="line">        candidates.append(shifts)</span><br><span class="line">    <span class="comment"># ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¯†é’¥ç»„åˆï¼Œå¹¶è®¡ç®—å…¶æ€»Rå€¼</span></span><br><span class="line">    keys_with_score = []</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> product(*candidates):</span><br><span class="line">        key_str = <span class="string">&#x27;&#x27;</span>.join([k[<span class="number">0</span>] <span class="keyword">for</span> k <span class="keyword">in</span> key])  <span class="comment"># å¯†é’¥å­—ç¬¦ä¸²</span></span><br><span class="line">        total_R = <span class="built_in">sum</span>(k[<span class="number">1</span>] <span class="keyword">for</span> k <span class="keyword">in</span> key)  <span class="comment"># å¯†é’¥çš„æ€»Rå€¼</span></span><br><span class="line">        keys_with_score.append((key_str, total_R))</span><br><span class="line">    <span class="comment"># æŒ‰æ€»Rå€¼ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">    keys_with_score.sort(key=<span class="keyword">lambda</span> x: -x[<span class="number">1</span>])</span><br><span class="line">    <span class="comment"># è¿”å›æŒ‰ä¼˜å…ˆçº§æ’åºçš„å¯†é’¥åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">return</span> [key <span class="keyword">for</span> key, _ <span class="keyword">in</span> keys_with_score]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">vigenere_decrypt</span>(<span class="params">cipher, key</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç»´å‰å°¼äºšè§£å¯†&quot;&quot;&quot;</span></span><br><span class="line">    decrypted = []</span><br><span class="line">    key_length = <span class="built_in">len</span>(key)</span><br><span class="line">    key_as_int = [<span class="built_in">ord</span>(k) - <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>) <span class="keyword">for</span> k <span class="keyword">in</span> key]</span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> char <span class="keyword">in</span> cipher:</span><br><span class="line">        <span class="keyword">if</span> char.isalpha():</span><br><span class="line">            offset = key_as_int[index % key_length]</span><br><span class="line">            <span class="keyword">if</span> char.isupper():</span><br><span class="line">                value = (<span class="built_in">ord</span>(char) - offset - <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)) % <span class="number">26</span></span><br><span class="line">                decrypted.append(<span class="built_in">chr</span>(value + <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                value = (<span class="built_in">ord</span>(char) - offset - <span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)) % <span class="number">26</span></span><br><span class="line">                decrypted.append(<span class="built_in">chr</span>(value + <span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)))</span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            decrypted.append(char)  <span class="comment"># ä¿ç•™æ ‡ç‚¹å’Œç©ºæ ¼</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(decrypted)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># å¯†æ–‡</span></span><br><span class="line">    cipher = <span class="string">&quot;&quot;&quot;Zs vxb fxcnz evm enare usca tvdcs wgkduhtytero xjwmato xpjb jqjl krth bhzl tk hcbb nvb aolmb. Xhase</span></span><br><span class="line"><span class="string">jsb bw zcah plm vigmpiwp ib bum gdaet, owe qbewpa jtbvc ijzmbb yqde smbq urilijk iwl nzc ob</span></span><br><span class="line"><span class="string">ivmceqlg sszcp. Nlb lkzm cw n pmuoi iwl lws hwzm j pbuc. Azh zroubcoqwvnaf bm a ymbh ial woq</span></span><br><span class="line"><span class="string">liem n kmmiyvrbl. Ibd pvccp gw y pepm xn emb bnmkt ial woq liem n aahkst. Jlq zclekqxv gw rha</span></span><br><span class="line"><span class="string">lcktrar ob ilrnvkcs wrl hwh pyva e ajvpbsanc. &quot;&quot;&quot;</span></span><br><span class="line">    alpha_cipher = alpha(cipher)</span><br><span class="line">    key_len = guess_key_length(alpha_cipher)[:KEYLENGTHNUM]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å€™é€‰å¯†é’¥é•¿åº¦:&quot;</span>, key_len)</span><br><span class="line">    <span class="keyword">for</span> length <span class="keyword">in</span> key_len:</span><br><span class="line">        keys = guess_key(alpha_cipher, length)</span><br><span class="line">        <span class="comment"># keys = guess_key(alpha_cipher, length)</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;\nå¯†é’¥é•¿åº¦ <span class="subst">&#123;length&#125;</span> çš„å¯èƒ½å¯†é’¥ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰:&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> keys:</span><br><span class="line">            decrypted_text = vigenere_decrypt(cipher, key)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;å¯†é’¥: <span class="subst">&#123;key&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;è§£å¯†ç»“æœ: <span class="subst">&#123;decrypted_text&#125;</span>&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŸç†å‚è€ƒæ–‡ç« ï¼š</p><p>é‡åˆæŒ‡æ•°æ”»å‡»ï¼š</p><p><a href="https://blog.csdn.net/forest_LL/article/details/135300302">https://blog.csdn.net/forest_LL/article/details/135300302</a></p><p>å­—æ¯é¢‘ç‡åˆ†æï¼š</p><p><a href="https://www.cnblogs.com/ISGuXing/p/9665904.html">https://www.cnblogs.com/ISGuXing/p/9665904.html</a></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;ç»´å‰å°¼äºšå¯†ç ç ´è§£python&quot;&gt;&lt;a href=&quot;#ç»´å‰å°¼äºšå¯†ç ç ´è§£python&quot; class=&quot;headerlink&quot; title=&quot;ç»´å‰å°¼äºšå¯†ç ç ´è§£python&quot;&gt;&lt;/a&gt;ç»´å‰å°¼äºšå¯†ç ç ´è§£pytho</summary>
      
    
    
    
    
    <category term="ç½‘ç»œå®‰å…¨" scheme="https://daoxuan.cc/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåšå®¢</title>
    <link href="https://daoxuan.cc/posts/12233/"/>
    <id>https://daoxuan.cc/posts/12233/</id>
    <published>2025-03-26T11:35:01.000Z</published>
    <updated>2025-03-26T11:44:32.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåšå®¢"><a href="#ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåšå®¢" class="headerlink" title="ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåšå®¢"></a>ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåšå®¢</h1><p>æˆ‘æœ€å¼€å§‹çš„æ–¹æ¡ˆæ˜¯ç”¨hexoçš„hexo serveræ¥è·‘æˆ‘çš„åšå®¢ï¼Œè›®æ–¹ä¾¿çš„ï¼Œåªéœ€è¦åå‘ä»£ç†ä¸€ä¸‹é»˜è®¤çš„4000ç«¯å£å³å¯ã€‚</p><p>æœ€è¿‘æ„Ÿè§‰é€Ÿåº¦ä¸æ˜¯å¾ˆå®¢è§‚ï¼Œè€Œä¸”å¦‚æœæƒ³è¦ä¸€ç›´è·‘è¿™ä¸ªhexo sæœ¬åœ°é¢„è§ˆçš„è¯ï¼Œæ— è®ºæ˜¯ä½¿ç”¨screenæ¥è·‘è¿˜æ˜¯ä½¿ç”¨dockeræ¥è·‘éƒ½å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥è¿˜æ˜¯é‡‡ç”¨äº†hexo dæ”¹ä¸ºé™æ€ç½‘ç«™éƒ¨ç½²</p><p>ä¸‹é¢æ˜¯å®‰è£…æ­¥éª¤è®°å½•ï¼š</p><h2 id="1-å®‰è£…-hexo-deployer-git-æ’ä»¶"><a href="#1-å®‰è£…-hexo-deployer-git-æ’ä»¶" class="headerlink" title="1. å®‰è£… hexo-deployer-git æ’ä»¶"></a>1. å®‰è£… <code>hexo-deployer-git</code> æ’ä»¶</h2><p>Hexo é»˜è®¤ä¸åŒ…å« Git éƒ¨ç½²åŠŸèƒ½ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>å®‰è£…åï¼ŒHexo å°±èƒ½è¯†åˆ« <code>git</code> éƒ¨ç½²æ–¹å¼ã€‚</p><h2 id="2-åˆ›å»ºå­˜æ”¾ç½‘ç«™çš„ç›®å½•"><a href="#2-åˆ›å»ºå­˜æ”¾ç½‘ç«™çš„ç›®å½•" class="headerlink" title="2. åˆ›å»ºå­˜æ”¾ç½‘ç«™çš„ç›®å½•"></a>2. åˆ›å»ºå­˜æ”¾ç½‘ç«™çš„ç›®å½•</h2><p>ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯1panelçš„OpenRestyä»£ç†ç½‘ç«™ï¼Œæ‰€ä»¥åˆ›å»ºé™æ€ç½‘ç«™ä¹‹åè‡ªåŠ¨åˆ›å»ºäº†ä¸€ä¸ªç½‘ç»œåœ°å€ï¼Œå¯¹äºæˆ‘æ¥è®²å°±æ˜¯</p><p>/opt/1panel/apps/openresty/openresty/www/sites/daoxuan.cc/index</p><h2 id="3-åˆ›å»ºGitè£¸ä»“åº“"><a href="#3-åˆ›å»ºGitè£¸ä»“åº“" class="headerlink" title="3. åˆ›å»ºGitè£¸ä»“åº“"></a>3. åˆ›å»ºGitè£¸ä»“åº“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /var/repo/hexo.git</span><br><span class="line"><span class="built_in">cd</span> /var/repo/hexo.git</span><br><span class="line"><span class="built_in">sudo</span> git init --bare</span><br></pre></td></tr></table></figure><h2 id="4-åˆ›å»ºGité’©å­"><a href="#4-åˆ›å»ºGité’©å­" class="headerlink" title="4. åˆ›å»ºGité’©å­"></a>4. åˆ›å»ºGité’©å­</h2><p>åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºpost-receiveé’©å­æ¥è‡ªåŠ¨éƒ¨ç½²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¾‘post-receiveæ–‡ä»¶</span></span><br><span class="line"><span class="built_in">sudo</span> vim /var/repo/hexo.git/hooks/post-receive</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">git --work-tree=/opt/1panel/apps/openresty/openresty/www/sites/daoxuan.cc/index --git-dir=/var/repo/hexo.git checkout -f</span><br></pre></td></tr></table></figure><p>â€”work-treeåé¢çš„åœ°å€å°±æ˜¯ä½ æ‰“ç®—éƒ¨ç½²ç½‘ç«™çš„åœ°å€ï¼ŒOpenRestyä¼šå»è¿™é‡Œæ‰¾ç½‘ç«™çš„index.html</p><p>ç„¶åè®¾ç½®æƒé™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /var/repo/hexo.git/hooks/post-receive</span><br></pre></td></tr></table></figure><h2 id="5-æœ¬åœ°Hexoé…ç½®"><a href="#5-æœ¬åœ°Hexoé…ç½®" class="headerlink" title="5. æœ¬åœ°Hexoé…ç½®"></a>5. æœ¬åœ°Hexoé…ç½®</h2><p>åœ¨Hexoåšå®¢ç›®å½•ä¸­ï¼Œä¿®æ”¹<code>_config.yml</code>æ–‡ä»¶ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">username@your-server-ip:/var/repo/hexo.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>åˆ†æ”¯masterè¿˜æ˜¯mainæ— æ‰€è°“</p><h2 id="6-å°†å…¬é’¥ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨"><a href="#6-å°†å…¬é’¥ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨" class="headerlink" title="6. å°†å…¬é’¥ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨"></a>6. å°†å…¬é’¥ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨</h2><p>ç”Ÿæˆå…¬é’¥ç§é’¥è¿™é‡Œå°±çœç•¥äº†</p><p>ä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id -i ~/.ssh/id_rsa.pub username@your-server-ip</span><br></pre></td></tr></table></figure><p>å°†æœ¬åœ°å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨çš„<code>~/.ssh/authorized_keys</code></p><h2 id="7-éƒ¨ç½²"><a href="#7-éƒ¨ç½²" class="headerlink" title="7. éƒ¨ç½²"></a>7. éƒ¨ç½²</h2><p>åœ¨ä½ ä½¿ç”¨hexoä¸‰ä»¶å¥—ï¼ˆhexo cleanã€hexo gã€hexo dï¼‰ä¹‹åå°±å¯ä»¥æŸ¥çœ‹ä½ çš„åšå®¢äº†</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåšå®¢&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåšå®¢&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåšå®¢&quot;&gt;&lt;/a&gt;ä½¿ç”¨äº‘æœåŠ¡å™¨éƒ¨ç½²hexoåš</summary>
      
    
    
    
    <category term="ç½‘ç«™" scheme="https://daoxuan.cc/categories/%E7%BD%91%E7%AB%99/"/>
    
    
    <category term="hexo" scheme="https://daoxuan.cc/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>debianå®‰è£…mysqlclientæŠ¥é”™subprocess-exited-with-error</title>
    <link href="https://daoxuan.cc/posts/8583/"/>
    <id>https://daoxuan.cc/posts/8583/</id>
    <published>2025-03-12T14:03:31.000Z</published>
    <updated>2025-03-24T06:48:29.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="debianå®‰è£…mysqlclientæŠ¥é”™subprocess-exited-with-error"><a href="#debianå®‰è£…mysqlclientæŠ¥é”™subprocess-exited-with-error" class="headerlink" title="debianå®‰è£…mysqlclientæŠ¥é”™subprocess-exited-with-error"></a>debianå®‰è£…mysqlclientæŠ¥é”™subprocess-exited-with-error</h1><p>æŠ¥é”™ç»†èŠ‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">  Downloading mysqlclient-2.2.7.tar.gz (91 kB)</span><br><span class="line">  Installing build dependencies ... <span class="keyword">done</span></span><br><span class="line">  Getting requirements to build wheel ... error</span><br><span class="line">  error: subprocess-exited-with-error</span><br><span class="line">  Ã— Getting requirements to build wheel did not run successfully.</span><br><span class="line">  â”‚ <span class="built_in">exit</span> code: 1</span><br><span class="line">  â•°â”€&gt; [29 lines of output]</span><br><span class="line">      Trying pkg-config --exists mysqlclient</span><br><span class="line">      Command <span class="string">&#x27;pkg-config --exists mysqlclient&#x27;</span> returned non-zero <span class="built_in">exit</span> status 1.</span><br><span class="line">      Trying pkg-config --exists mariadb</span><br><span class="line">      Command <span class="string">&#x27;pkg-config --exists mariadb&#x27;</span> returned non-zero <span class="built_in">exit</span> status 1.</span><br><span class="line">      Trying pkg-config --exists libmariadb</span><br><span class="line">      Command <span class="string">&#x27;pkg-config --exists libmariadb&#x27;</span> returned non-zero <span class="built_in">exit</span> status 1.</span><br><span class="line">      Trying pkg-config --exists perconaserverclient</span><br><span class="line">      Command <span class="string">&#x27;pkg-config --exists perconaserverclient&#x27;</span> returned non-zero <span class="built_in">exit</span> status 1.</span><br><span class="line">      Traceback (most recent call last):</span><br><span class="line">        File <span class="string">&quot;/home/dx2331lxz/data/python/Editor/.venv/lib/python3.11/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;</span>, line 389, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">          main()</span><br><span class="line">        File <span class="string">&quot;/home/dx2331lxz/data/python/Editor/.venv/lib/python3.11/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;</span>, line 373, <span class="keyword">in</span> main</span><br><span class="line">          json_out[<span class="string">&quot;return_val&quot;</span>] = hook(**hook_input[<span class="string">&quot;kwargs&quot;</span>])</span><br><span class="line">                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">        File <span class="string">&quot;/home/dx2331lxz/data/python/Editor/.venv/lib/python3.11/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;</span>, line 143, <span class="keyword">in</span> get_requires_for_build_wheel</span><br><span class="line">          <span class="built_in">return</span> hook(config_settings)</span><br><span class="line">                 ^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">        File <span class="string">&quot;/tmp/pip-build-env-_i08rk3h/overlay/lib/python3.11/site-packages/setuptools/build_meta.py&quot;</span>, line 334, <span class="keyword">in</span> get_requires_for_build_wheel</span><br><span class="line">          <span class="built_in">return</span> self._get_build_requires(config_settings, requirements=[])</span><br><span class="line">                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">        File <span class="string">&quot;/tmp/pip-build-env-_i08rk3h/overlay/lib/python3.11/site-packages/setuptools/build_meta.py&quot;</span>, line 304, <span class="keyword">in</span> _get_build_requires</span><br><span class="line">          self.run_setup()</span><br><span class="line">        File <span class="string">&quot;/tmp/pip-build-env-_i08rk3h/overlay/lib/python3.11/site-packages/setuptools/build_meta.py&quot;</span>, line 320, <span class="keyword">in</span> run_setup</span><br><span class="line">          <span class="built_in">exec</span>(code, locals())</span><br><span class="line">        File <span class="string">&quot;&lt;string&gt;&quot;</span>, line 156, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">        File <span class="string">&quot;&lt;string&gt;&quot;</span>, line 49, <span class="keyword">in</span> get_config_posix</span><br><span class="line">        File <span class="string">&quot;&lt;string&gt;&quot;</span>, line 28, <span class="keyword">in</span> find_package_name</span><br><span class="line">      Exception: Can not find valid pkg-config name.</span><br><span class="line">      Specify MYSQLCLIENT_CFLAGS and MYSQLCLIENT_LDFLAGS <span class="built_in">env</span> vars manually</span><br><span class="line">      [end of output]</span><br><span class="line">  </span><br><span class="line">  note: This error originates from a subprocess, and is likely not a problem with pip.</span><br><span class="line">error: subprocess-exited-with-error</span><br><span class="line"></span><br><span class="line">Ã— Getting requirements to build wheel did not run successfully.</span><br><span class="line">â”‚ <span class="built_in">exit</span> code: 1</span><br><span class="line">â•°â”€&gt; See above <span class="keyword">for</span> output.</span><br></pre></td></tr></table></figure><p>å¿«é€Ÿè§£å†³æ–¹æ¡ˆï¼š</p><h3 id="å®‰è£…-MySQL-å®¢æˆ·ç«¯åº“"><a href="#å®‰è£…-MySQL-å®¢æˆ·ç«¯åº“" class="headerlink" title="å®‰è£… MySQL å®¢æˆ·ç«¯åº“"></a><strong>å®‰è£… MySQL å®¢æˆ·ç«¯åº“</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install libmariadb-dev</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-pkg-config"><a href="#å®‰è£…-pkg-config" class="headerlink" title="å®‰è£… pkg-config"></a><strong>å®‰è£… <code>pkg-config</code></strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install pkg-config</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-gcc-å’Œæ„å»ºå·¥å…·"><a href="#å®‰è£…-gcc-å’Œæ„å»ºå·¥å…·" class="headerlink" title="å®‰è£… gcc å’Œæ„å»ºå·¥å…·"></a><strong>å®‰è£… <code>gcc</code> å’Œæ„å»ºå·¥å…·</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install build-essential</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-Python-å¼€å‘å¤´æ–‡ä»¶"><a href="#å®‰è£…-Python-å¼€å‘å¤´æ–‡ä»¶" class="headerlink" title="å®‰è£… Python å¼€å‘å¤´æ–‡ä»¶"></a><strong>å®‰è£… Python å¼€å‘å¤´æ–‡ä»¶</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install python3-dev</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;debianå®‰è£…mysqlclientæŠ¥é”™subprocess-exited-with-error&quot;&gt;&lt;a href=&quot;#debianå®‰è£…mysqlclientæŠ¥é”™subprocess-exited-w</summary>
      
    
    
    
    
    <category term="æŠ¥é”™" scheme="https://daoxuan.cc/tags/%E6%8A%A5%E9%94%99/"/>
    
  </entry>
  
  <entry>
    <title>è½¯ä»¶æ€§èƒ½å·¥ç¨‹--å¤šè§’åº¦è®¨è®ºæ€§èƒ½ä¼˜åŒ–</title>
    <link href="https://daoxuan.cc/posts/13888/"/>
    <id>https://daoxuan.cc/posts/13888/</id>
    <published>2025-03-11T14:21:16.000Z</published>
    <updated>2025-03-24T06:46:17.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="è½¯ä»¶æ€§èƒ½å·¥ç¨‹â€”å¤šè§’åº¦è®¨è®ºæ€§èƒ½ä¼˜åŒ–"><a href="#è½¯ä»¶æ€§èƒ½å·¥ç¨‹â€”å¤šè§’åº¦è®¨è®ºæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="è½¯ä»¶æ€§èƒ½å·¥ç¨‹â€”å¤šè§’åº¦è®¨è®ºæ€§èƒ½ä¼˜åŒ–"></a>è½¯ä»¶æ€§èƒ½å·¥ç¨‹â€”å¤šè§’åº¦è®¨è®ºæ€§èƒ½ä¼˜åŒ–</h1><blockquote><p>[!NOTE]</p><h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2></blockquote><p>Benå°è¯•ä¼˜åŒ–ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The elements of A and B are known to be nonnegative and not</span></span><br><span class="line"><span class="comment">aliased */</span></span><br><span class="line"><span class="comment">/* k is known only at runtime */</span></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">int</span> N = (<span class="number">1</span> &lt;&lt; <span class="number">30</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">A[i] = k * B[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»–ä¼˜åŒ–åçš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The elements of A and B are known to be nonnegative and not</span></span><br><span class="line"><span class="comment">aliased */</span></span><br><span class="line"><span class="comment">/* k is known only at runtime */</span></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">int</span> N = (<span class="number">1</span> &lt;&lt; <span class="number">30</span>);</span><br><span class="line">A[N - <span class="number">1</span>] = <span class="number">-1</span>;</span><br><span class="line"><span class="type">int</span> *a = A , *b = B;</span><br><span class="line"><span class="keyword">while</span> (*a &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">*(a++) = k * *(b++) ;</span><br><span class="line">&#125;</span><br><span class="line">*a = k * *b;</span><br></pre></td></tr></table></figure><p>ä»–ä½¿ç”¨ gcc -O3 æ¨¡å¼åˆ†åˆ«ç¼–è¯‘ä¸¤æ®µä»£ç ï¼Œç«Ÿç„¶å‘ç°ä¼˜åŒ–åä»£ç æ¯”æœªä¼˜åŒ–çš„ä»£ç è¿˜è¦æ…¢ğŸ˜­ï¼Œä¸ºä»€ä¹ˆâ“</p><h2 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h2><p>æåˆ°äº†<code>gcc -o3</code>ï¼Œæˆ‘ä»¬é¦–å…ˆæ¢ç©¶ä¸€ä¸‹, <code>gcc</code>çš„ä¸åŒçº§åˆ«ä¼˜åŒ–</p><h3 id="1-O0ï¼ˆæ— ä¼˜åŒ–ï¼‰"><a href="#1-O0ï¼ˆæ— ä¼˜åŒ–ï¼‰" class="headerlink" title="1. -O0ï¼ˆæ— ä¼˜åŒ–ï¼‰"></a>1. <strong><code>-O0</code>ï¼ˆæ— ä¼˜åŒ–ï¼‰</strong></h3><ul><li><strong>ç›®æ ‡</strong>ï¼šä¸è¿›è¡Œä»»ä½•ä¼˜åŒ–ï¼Œä¿æŒä»£ç çš„åŸå§‹ç»“æ„ã€‚</li><li>ç‰¹ç‚¹ï¼š<ul><li>ç¼–è¯‘é€Ÿåº¦æœ€å¿«ã€‚</li><li>ç”Ÿæˆçš„ä»£ç ä¸æºä»£ç å‡ ä¹ä¸€ä¸€å¯¹åº”ï¼Œé€‚åˆè°ƒè¯•ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¼€å‘é˜¶æ®µï¼Œå°¤å…¶æ˜¯è°ƒè¯•ä»£ç æ—¶ã€‚</li><li>å…·ä½“ä¼˜åŒ–ï¼š<ul><li>æ— ä¼˜åŒ–ï¼Œä¿ç•™æ‰€æœ‰è°ƒè¯•ä¿¡æ¯ã€‚</li></ul></li></ul><hr><h3 id="2-O1ï¼ˆåŸºæœ¬ä¼˜åŒ–ï¼‰"><a href="#2-O1ï¼ˆåŸºæœ¬ä¼˜åŒ–ï¼‰" class="headerlink" title="2. -O1ï¼ˆåŸºæœ¬ä¼˜åŒ–ï¼‰"></a>2. <strong><code>-O1</code>ï¼ˆåŸºæœ¬ä¼˜åŒ–ï¼‰</strong></h3><ul><li><strong>ç›®æ ‡</strong>ï¼šåœ¨å‡å°‘ä»£ç å¤§å°å’Œæ‰§è¡Œæ—¶é—´çš„åŒæ—¶ï¼Œä¿æŒç¼–è¯‘é€Ÿåº¦ã€‚</li><li>ç‰¹ç‚¹ï¼š<ul><li>ä¼˜åŒ–ç¨‹åº¦è¾ƒä½ï¼Œç¼–è¯‘æ—¶é—´è¾ƒçŸ­ã€‚</li><li>ç”Ÿæˆçš„ä»£ç ä»ç„¶æ˜“äºè°ƒè¯•ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¯¹æ€§èƒ½å’Œç¼–è¯‘æ—¶é—´æœ‰å¹³è¡¡éœ€æ±‚çš„åœºæ™¯ã€‚</li><li>å…·ä½“ä¼˜åŒ–ï¼š<ul><li><strong>å¸¸é‡ä¼ æ’­</strong>ï¼šå°†å¸¸é‡å€¼ç›´æ¥æ›¿æ¢åˆ°è¡¨è¾¾å¼ä¸­ã€‚</li><li><strong>æ­»ä»£ç æ¶ˆé™¤</strong>ï¼šç§»é™¤ä¸ä¼šè¢«æ‰§è¡Œçš„ä»£ç ã€‚</li><li><strong>ç®€å•å‡½æ•°å†…è”</strong>ï¼šå°†å°å‡½æ•°ç›´æ¥å†…è”åˆ°è°ƒç”¨å¤„ã€‚</li><li><strong>è·³è½¬ä¼˜åŒ–</strong>ï¼šä¼˜åŒ–è·³è½¬æŒ‡ä»¤ï¼Œå‡å°‘ä¸å¿…è¦çš„è·³è½¬ã€‚</li></ul></li></ul><hr><h3 id="3-O2ï¼ˆä¸­ç­‰ä¼˜åŒ–ï¼‰"><a href="#3-O2ï¼ˆä¸­ç­‰ä¼˜åŒ–ï¼‰" class="headerlink" title="3. -O2ï¼ˆä¸­ç­‰ä¼˜åŒ–ï¼‰"></a>3. <strong><code>-O2</code>ï¼ˆä¸­ç­‰ä¼˜åŒ–ï¼‰</strong></h3><ul><li><strong>ç›®æ ‡</strong>ï¼šæ˜¾è‘—æé«˜ç¨‹åºæ€§èƒ½ï¼ŒåŒæ—¶ä¿æŒåˆç†çš„ç¼–è¯‘æ—¶é—´ã€‚</li><li>ç‰¹ç‚¹ï¼š<ul><li>ä¼˜åŒ–ç¨‹åº¦è¾ƒé«˜ï¼Œç”Ÿæˆçš„ä»£ç æ€§èƒ½æ˜¾è‘—æå‡ã€‚</li><li>ç¼–è¯‘æ—¶é—´è¾ƒé•¿ï¼Œä½†ç”Ÿæˆçš„ä»£ç ä»ç„¶å¯é ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šç”Ÿäº§ç¯å¢ƒä¸­çš„å¤§å¤šæ•°åº”ç”¨ã€‚</li><li>å…·ä½“ä¼˜åŒ–ï¼š<ul><li>å¾ªç¯ä¼˜åŒ–ï¼š<ul><li>å¾ªç¯å±•å¼€ï¼ˆLoop Unrollingï¼‰ï¼šå°†å¾ªç¯ä½“å±•å¼€ï¼Œå‡å°‘å¾ªç¯æ§åˆ¶çš„å¼€é”€ã€‚</li><li>å¾ªç¯ä¸å˜ä»£ç å¤–æï¼ˆLoop Invariant Code Motionï¼‰ï¼šå°†å¾ªç¯ä¸­ä¸å˜çš„ä»£ç ç§»åˆ°å¾ªç¯å¤–ã€‚</li></ul></li><li><strong>æŒ‡ä»¤è°ƒåº¦</strong>ï¼šé‡æ–°æ’åˆ—æŒ‡ä»¤ï¼Œä»¥å……åˆ†åˆ©ç”¨ CPU çš„æµæ°´çº¿ã€‚</li><li><strong>å‡½æ•°å…‹éš†</strong>ï¼šä¸ºä¸åŒçš„è°ƒç”¨åœºæ™¯ç”Ÿæˆç‰¹å®šç‰ˆæœ¬çš„å‡½æ•°ã€‚</li><li><strong>åˆ†æ”¯é¢„æµ‹ä¼˜åŒ–</strong>ï¼šä¼˜åŒ–åˆ†æ”¯æŒ‡ä»¤ï¼Œå‡å°‘åˆ†æ”¯é¢„æµ‹é”™è¯¯ã€‚</li><li><strong>å…¨å±€ä¼˜åŒ–</strong>ï¼šè·¨å‡½æ•°ä¼˜åŒ–ï¼Œä¾‹å¦‚è·¨è¿‡ç¨‹å¸¸é‡ä¼ æ’­ã€‚</li></ul></li></ul><hr><h3 id="4-O3ï¼ˆæœ€é«˜çº§åˆ«ä¼˜åŒ–ï¼‰"><a href="#4-O3ï¼ˆæœ€é«˜çº§åˆ«ä¼˜åŒ–ï¼‰" class="headerlink" title="4. -O3ï¼ˆæœ€é«˜çº§åˆ«ä¼˜åŒ–ï¼‰"></a>4. <strong><code>-O3</code>ï¼ˆæœ€é«˜çº§åˆ«ä¼˜åŒ–ï¼‰</strong></h3><ul><li><strong>ç›®æ ‡</strong>ï¼šæœ€å¤§é™åº¦åœ°æé«˜ç¨‹åºæ€§èƒ½ï¼Œå³ä½¿ä»¥å¢åŠ ä»£ç å¤§å°ä¸ºä»£ä»·ã€‚</li><li>ç‰¹ç‚¹ï¼š<ul><li>ä¼˜åŒ–ç¨‹åº¦æœ€é«˜ï¼Œç”Ÿæˆçš„ä»£ç æ€§èƒ½æœ€ä¼˜ã€‚</li><li>ç¼–è¯‘æ—¶é—´æœ€é•¿ï¼Œç”Ÿæˆçš„ä»£ç å¯èƒ½è¾ƒå¤§ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¯¹æ€§èƒ½è¦æ±‚æé«˜çš„åœºæ™¯ï¼Œå¦‚ç§‘å­¦è®¡ç®—ã€æ¸¸æˆå¼•æ“ã€é«˜æ€§èƒ½è®¡ç®—ç­‰ã€‚</li><li>å…·ä½“ä¼˜åŒ–ï¼š<ul><li><strong>å¾ªç¯å‘é‡åŒ–</strong>ï¼šå°†å¾ªç¯ä¸­çš„æ“ä½œè½¬æ¢ä¸º SIMDï¼ˆå•æŒ‡ä»¤å¤šæ•°æ®ï¼‰æŒ‡ä»¤ï¼Œåˆ©ç”¨ CPU çš„å‘é‡å¯„å­˜å™¨ã€‚</li><li><strong>è‡ªåŠ¨å¹¶è¡ŒåŒ–</strong>ï¼šå°è¯•å°†å¾ªç¯ä¸­çš„æ“ä½œå¹¶è¡ŒåŒ–ã€‚</li><li><strong>è¿‡ç¨‹é—´ä¼˜åŒ–ï¼ˆIPAï¼‰</strong>ï¼šè·¨å‡½æ•°è¿›è¡Œæ›´æ¿€è¿›çš„ä¼˜åŒ–ã€‚</li><li><strong>æ›´æ¿€è¿›çš„å‡½æ•°å†…è”</strong>ï¼šå°†æ›´å¤šå‡½æ•°ç›´æ¥å†…è”åˆ°è°ƒç”¨å¤„ã€‚</li><li><strong>å†…å­˜è®¿é—®ä¼˜åŒ–</strong>ï¼šä¼˜åŒ–å†…å­˜è®¿é—®æ¨¡å¼ï¼Œå‡å°‘ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µã€‚</li></ul></li></ul><hr><p>å› æ­¤æˆ‘ä»¬å¯ä»¥é’ˆå¯¹ -o3å¯¹äºä¸åŒä»£ç çš„ä¼˜åŒ–æ•ˆæœè°ˆè°ˆ</p><h3 id="1-å¾ªç¯å±•å¼€"><a href="#1-å¾ªç¯å±•å¼€" class="headerlink" title="1. å¾ªç¯å±•å¼€"></a>1. å¾ªç¯å±•å¼€</h3><p><strong>å¯¹äºç¬¬ä¸€ç§å¯èƒ½ä¼šæ˜¯ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= N - <span class="number">4</span>; i += <span class="number">4</span>) &#123;</span><br><span class="line">    A[i] = k * B[i];</span><br><span class="line">    A[i + <span class="number">1</span>] = k * B[i + <span class="number">1</span>];</span><br><span class="line">    A[i + <span class="number">2</span>] = k * B[i + <span class="number">2</span>];</span><br><span class="line">    A[i + <span class="number">3</span>] = k * B[i + <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (; i &lt; N; i++) &#123;</span><br><span class="line">    A[i] = k * B[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>å‡å°‘å¾ªç¯æ§åˆ¶å¼€é”€</strong>ï¼šå¾ªç¯å˜é‡æ›´æ–°å’Œæ¡ä»¶æ£€æŸ¥çš„æ¬¡æ•°å‡å°‘ä¸ºåŸæ¥çš„ 1/4ã€‚</li><li><strong>æé«˜æŒ‡ä»¤çº§å¹¶è¡Œæ€§</strong>ï¼šå±•å¼€åçš„å¾ªç¯ä½“å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨ CPU çš„æµæ°´çº¿ã€‚</li><li><strong>å‡å°‘åˆ†æ”¯é¢„æµ‹é”™è¯¯</strong>ï¼šå¾ªç¯æ¡ä»¶æ£€æŸ¥çš„æ¬¡æ•°å‡å°‘ï¼Œåˆ†æ”¯é¢„æµ‹é”™è¯¯çš„æ¦‚ç‡é™ä½ã€‚</li></ul><p><strong>å¯¹äºç¬¬äºŒç§åˆ™æ˜¯ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">0</span>] &lt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">    a[<span class="number">0</span>] = k * b[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">1</span>] &lt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">    a[<span class="number">1</span>] = k * b[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">2</span>] &lt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">    a[<span class="number">2</span>] = k * b[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">3</span>] &lt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">    a[<span class="number">3</span>] = k * b[<span class="number">3</span>];</span><br><span class="line">    a += <span class="number">4</span>;</span><br><span class="line">    b += <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (*a &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    *a = k * *b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li><strong>ç¬¬ä¸€ç§å¾ªç¯ï¼ˆå›ºå®šæ¬¡æ•°ï¼‰</strong>ï¼šGCC å¯ä»¥å®Œå…¨è‡ªåŠ¨å±•å¼€ï¼Œå±•å¼€æ•ˆæœæ˜¾è‘—ã€‚</li><li><strong>ç¬¬äºŒç§å¾ªç¯ï¼ˆåŠ¨æ€ç»ˆæ­¢æ¡ä»¶ï¼‰</strong>ï¼šGCC ä¹Ÿå¯ä»¥å°è¯•å±•å¼€ï¼Œä½†ç”±äºå¾ªç¯æ¬¡æ•°åŠ¨æ€ç¡®å®šï¼Œå±•å¼€çš„éš¾åº¦è¾ƒå¤§ï¼Œä¼˜åŒ–æ•ˆæœå¯èƒ½ä¸å¦‚å›ºå®šæ¬¡æ•°å¾ªç¯æ˜æ˜¾ã€‚<h3 id="2-å¾ªç¯å‘é‡åŒ–"><a href="#2-å¾ªç¯å‘é‡åŒ–" class="headerlink" title="2. å¾ªç¯å‘é‡åŒ–"></a>2. å¾ªç¯å‘é‡åŒ–</h3></li></ul></blockquote><p>è¿™æ˜¯o3å¯¹äºå¾ªç¯å±•å¼€çš„è¿›ä¸€æ­¥ä¼˜åŒ–</p><ul><li>å¯¹äºç¬¬ä¸€ç§ä»£ç ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;immintrin.h&gt;</span> <span class="comment">// AVX2 å¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">int</span> N = (<span class="number">1</span> &lt;&lt; <span class="number">30</span>); <span class="comment">// N = 2^30</span></span><br><span class="line">__m256i vec_k = _mm256_set1_epi32(k); <span class="comment">// å°† k å¹¿æ’­åˆ°å‘é‡å¯„å­˜å™¨</span></span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= N - <span class="number">8</span>; i += <span class="number">8</span>) &#123;</span><br><span class="line">    __m256i vec_b = _mm256_loadu_si256((__m256i*)&amp;B[i]); <span class="comment">// åŠ è½½ B çš„ 8 ä¸ªå…ƒç´ </span></span><br><span class="line">    __m256i vec_a = _mm256_mullo_epi32(vec_b, vec_k);    <span class="comment">// å¹¶è¡Œä¹˜æ³•</span></span><br><span class="line">    _mm256_storeu_si256((__m256i*)&amp;A[i], vec_a);         <span class="comment">// å­˜å‚¨ç»“æœåˆ° A</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (; i &lt; N; i++) &#123;</span><br><span class="line">    A[i] = k * B[i]; <span class="comment">// å¤„ç†å‰©ä½™å…ƒç´ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ³¨æ„åˆ°ä¹‹å‰ä¸²è¡Œè¿è¡Œçš„ä¹˜æ³•è¿ç®—å¯ä»¥å¹¶è¡Œè®¡ç®—äº†</p><ul><li>å¯¹äºç¬¬äºŒç§ä»£ç ï¼Œæƒ³è¦è¿›è¡Œå¹¶è¡Œä¹˜æ³•è®¡ç®—å°±éœ€è¦å¤šå¾ˆå¤šä»£ç é‡ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;immintrin.h&gt;</span> <span class="comment">// AVX2 å¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">int</span> N = (<span class="number">1</span> &lt;&lt; <span class="number">30</span>); <span class="comment">// N = 2^30</span></span><br><span class="line">A[N - <span class="number">1</span>] = <span class="number">-1</span>; <span class="comment">// è®¾ç½®å“¨å…µå€¼</span></span><br><span class="line"><span class="type">int</span> *a = A, *b = B;</span><br><span class="line">__m256i vec_k = _mm256_set1_epi32(k); <span class="comment">// å°† k å¹¿æ’­åˆ°å‘é‡å¯„å­˜å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ˜¯å¦æ»¡è¶³ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">0</span>] &lt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">1</span>] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        a[<span class="number">0</span>] = k * b[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">2</span>] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        a[<span class="number">0</span>] = k * b[<span class="number">0</span>];</span><br><span class="line">        a[<span class="number">1</span>] = k * b[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">3</span>] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        a[<span class="number">0</span>] = k * b[<span class="number">0</span>];</span><br><span class="line">        a[<span class="number">1</span>] = k * b[<span class="number">1</span>];</span><br><span class="line">        a[<span class="number">2</span>] = k * b[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç† 4 ä¸ªå…ƒç´ </span></span><br><span class="line">    __m256i vec_b = _mm256_loadu_si256((__m256i*)b); <span class="comment">// åŠ è½½ B çš„ 8 ä¸ªå…ƒç´ </span></span><br><span class="line">    __m256i vec_a = _mm256_mullo_epi32(vec_b, vec_k); <span class="comment">// å¹¶è¡Œä¹˜æ³•</span></span><br><span class="line">    _mm256_storeu_si256((__m256i*)a, vec_a);         <span class="comment">// å­˜å‚¨ç»“æœåˆ° A</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°æŒ‡é’ˆ</span></span><br><span class="line">    a += <span class="number">4</span>;</span><br><span class="line">    b += <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤„ç†å‰©ä½™å…ƒç´ </span></span><br><span class="line"><span class="keyword">if</span> (*a &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    *a = k * *b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“ç„¶è¿™ä¹Ÿåªæ˜¯å¤§æ¦‚çš„æ ·å­ï¼Œä¸è¿‡å¯ä»¥çœ‹å‡ºå…¶å¤æ‚æ€§ï¼Œå¹¶ä¸”å¹¶æ²¡æœ‰ç¬¬ä¸€ç§ä¼˜åŒ–ç¨‹åº¦å¤§ã€‚</p></blockquote><h3 id="3-åˆ†æ”¯é¢„æµ‹"><a href="#3-åˆ†æ”¯é¢„æµ‹" class="headerlink" title="3. åˆ†æ”¯é¢„æµ‹"></a>3. åˆ†æ”¯é¢„æµ‹</h3><ul><li>å¯¹äºç¬¬ä¸€ç§ä»£ç ï¼š</li></ul><p>åœ¨å¾ªç¯å±•å¼€åï¼Œåˆ¤æ–­æ¬¡æ•°å‡å°‘ï¼Œåˆ†æ”¯é¢„æµ‹æ¬¡æ•°å‡å°‘ï¼›ç”±äºå¾ªç¯æ¡ä»¶ <code>i &lt; N</code> æ˜¯ä¸€ä¸ªç®€å•çš„æ¯”è¾ƒæ“ä½œï¼Œä¸” <code>N</code> æ˜¯å¸¸é‡ï¼ŒGCC ä¼šç”Ÿæˆé«˜æ•ˆçš„æœºå™¨æŒ‡ä»¤ã€‚</p><p>ç”¨Tè¡¨ç¤ºåˆ¤æ–­æ­£ç¡®Fè¡¨ç¤ºåˆ¤æ–­é”™è¯¯çš„è¯ï¼Œå¾ªç¯æ¡ä»¶çš„åˆ¤æ–­åº”è¯¥æ˜¯ï¼šTTTTTTTTTTTTFè¿™ç§ï¼Œåˆ†æ”¯é¢„æµ‹çš„é”™è¯¯ç‡ä¼šå¾ˆä½ã€‚</p><ul><li>å¯¹äºç¬¬äºŒç§ä»£ç ï¼š</li></ul><p>è™½ç„¶æ¯æ¬¡åˆ¤æ–­çš„ç»“æœä¹Ÿæ˜¯TTTTTTTTTTFè¿™ç§ï¼Œä½†æ˜¯ç”±äºï¼š</p><h4 id="1-å†…å­˜è®¿é—®çš„å»¶è¿Ÿ"><a href="#1-å†…å­˜è®¿é—®çš„å»¶è¿Ÿ" class="headerlink" title="(1) å†…å­˜è®¿é—®çš„å»¶è¿Ÿ"></a><strong>(1) å†…å­˜è®¿é—®çš„å»¶è¿Ÿ</strong></h4><ul><li><code>*a &gt;= 0</code> éœ€è¦ä»å†…å­˜ä¸­åŠ è½½ <code>*a</code> çš„å€¼ï¼Œè€Œå†…å­˜è®¿é—®çš„å»¶è¿Ÿè¾ƒé«˜ã€‚</li><li>åœ¨åŠ è½½ <code>*a</code> çš„å€¼ä¹‹å‰ï¼Œåˆ†æ”¯é¢„æµ‹å™¨æ— æ³•ç¡®å®šæ¡ä»¶çš„ç»“æœï¼Œå› æ­¤å¯èƒ½åªèƒ½åŸºäºå†å²è¡Œä¸ºè¿›è¡Œé¢„æµ‹ã€‚</li></ul><h4 id="2-æ•°æ®ä¾èµ–æ€§çš„ä¸ç¡®å®šæ€§"><a href="#2-æ•°æ®ä¾èµ–æ€§çš„ä¸ç¡®å®šæ€§" class="headerlink" title="(2) æ•°æ®ä¾èµ–æ€§çš„ä¸ç¡®å®šæ€§"></a><strong>(2) æ•°æ®ä¾èµ–æ€§çš„ä¸ç¡®å®šæ€§</strong></h4><ul><li><code>*a</code> çš„å€¼å¯èƒ½å—åˆ°å…¶ä»–å› ç´ çš„å½±å“ï¼ˆå¦‚å…¶ä»–çº¿ç¨‹çš„ä¿®æ”¹ï¼‰ï¼Œå¯¼è‡´åˆ†æ”¯é¢„æµ‹å™¨éš¾ä»¥å‡†ç¡®é¢„æµ‹ã€‚</li><li>å³ä½¿ <code>*a &gt;= 0</code> åœ¨ç»“æŸä¹‹å‰æ€»æ˜¯ <code>T</code>ï¼Œåˆ†æ”¯é¢„æµ‹å™¨ä¹Ÿæ— æ³•ç¡®å®šä½•æ—¶ä¼šå˜ä¸º <code>F</code>ã€‚</li></ul><h4 id="3-åˆ†æ”¯é¢„æµ‹å™¨çš„å±€é™æ€§"><a href="#3-åˆ†æ”¯é¢„æµ‹å™¨çš„å±€é™æ€§" class="headerlink" title="(3) åˆ†æ”¯é¢„æµ‹å™¨çš„å±€é™æ€§"></a><strong>(3) åˆ†æ”¯é¢„æµ‹å™¨çš„å±€é™æ€§</strong></h4><ul><li>åˆ†æ”¯é¢„æµ‹å™¨é€šå¸¸åŸºäºå±€éƒ¨å†å²è®°å½•è¿›è¡Œé¢„æµ‹ï¼Œè€Œ <code>*a &gt;= 0</code> çš„è¡Œä¸ºå¯èƒ½ä¸å¤Ÿè§„å¾‹ï¼Œå¯¼è‡´é¢„æµ‹å¤±è´¥ã€‚</li><li>å¦‚æœ <code>*a</code> çš„å€¼åœ¨å¾ªç¯è¿‡ç¨‹ä¸­å˜åŒ–è¾ƒå¤§ï¼Œåˆ†æ”¯é¢„æµ‹å™¨çš„å‡†ç¡®ç‡ä¼šè¿›ä¸€æ­¥é™ä½ã€‚</li></ul><blockquote><p><strong>å› æ­¤ç¬¬äºŒç§åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡æ²¡æœ‰ç¬¬ä¸€ç§é«˜</strong></p></blockquote><div class="table-container"><table><thead><tr><th style="text-align:center">æ¡ä»¶ç±»å‹</th><th style="text-align:center">è§„å¾‹æ€§</th><th style="text-align:center">å†…å­˜è®¿é—®å»¶è¿Ÿ</th><th style="text-align:center">æ•°æ®ä¾èµ–æ€§</th><th style="text-align:center">é¢„æµ‹å‡†ç¡®ç‡</th></tr></thead><tbody><tr><td style="text-align:center"><code>i &lt; N</code></td><td style="text-align:center">é«˜åº¦è§„å¾‹</td><td style="text-align:center">æ— </td><td style="text-align:center">æ— </td><td style="text-align:center">éå¸¸é«˜ï¼ˆæ¥è¿‘ 100%ï¼‰</td></tr><tr><td style="text-align:center"><code>*a &gt;= 0</code></td><td style="text-align:center">å¯èƒ½ä¸è§„å¾‹</td><td style="text-align:center">æœ‰</td><td style="text-align:center">æœ‰</td><td style="text-align:center">è¾ƒä½ï¼ˆå–å†³äºæ•°æ®ï¼‰</td></tr></tbody></table></div><blockquote><p>[!NOTE]</p><p>ä»¥ä¸Šä¸‰ç§åˆ†ææ–¹å‘ä¸ºgccä¼˜åŒ–æ–¹å‘ï¼Œä»¥ä¸‹ä¸ºcpuæ‰§è¡Œè§’åº¦åˆ†æ</p></blockquote><h3 id="ç¼“å­˜é¢„å–"><a href="#ç¼“å­˜é¢„å–" class="headerlink" title="ç¼“å­˜é¢„å–"></a>ç¼“å­˜é¢„å–</h3><p>å¯¹äºç¬¬ä¸€ç§ä»£ç </p><ul><li>æ•°ç»„ <code>A</code> å’Œ <code>B</code> æ˜¯<strong>é¡ºåºè®¿é—®</strong>çš„ï¼Œå³æ¯æ¬¡è¿­ä»£è®¿é—® <code>A[i]</code> å’Œ <code>B[i]</code>ã€‚</li><li><p>è¿™ç§é¡ºåºè®¿é—®æ¨¡å¼éå¸¸å®¹æ˜“è¢«ç¡¬ä»¶é¢„å–å™¨é¢„æµ‹ã€‚</p></li><li><p>ç¡¬ä»¶é¢„å–å™¨ä¼šæ£€æµ‹åˆ°é¡ºåºè®¿é—®æ¨¡å¼ï¼Œå¹¶è‡ªåŠ¨é¢„å– <code>A</code> å’Œ <code>B</code> çš„åç»­æ•°æ®ã€‚</p></li><li>ç”±äºè®¿é—®æ¨¡å¼ç®€å•ä¸”è§„å¾‹ï¼Œç¡¬ä»¶é¢„å–å™¨å¯ä»¥éå¸¸æœ‰æ•ˆåœ°å·¥ä½œï¼Œä»è€Œå‡å°‘å†…å­˜è®¿é—®çš„å»¶è¿Ÿã€‚</li></ul><p>è€Œå¯¹äºç¬¬äºŒç§ï¼Œ</p><ul><li>æ•°ç»„ <code>A</code> å’Œ <code>B</code> ä»ç„¶æ˜¯<strong>é¡ºåºè®¿é—®</strong>çš„ï¼Œä½†å¾ªç¯æ¡ä»¶ <code>*a &gt;= 0</code> ä¾èµ–äºå†…å­˜ä¸­çš„å€¼ã€‚</li><li>ç”±äº <code>A[N - 1]</code> è¢«è®¾ç½®ä¸º <code>-1</code>ï¼Œå¾ªç¯ä¼šåœ¨è®¿é—®åˆ° <code>A[N - 1]</code> æ—¶ç»“æŸã€‚</li><li>ç¡¬ä»¶é¢„å–å™¨ä»ç„¶å¯ä»¥æ£€æµ‹åˆ°é¡ºåºè®¿é—®æ¨¡å¼ï¼Œå¹¶è‡ªåŠ¨é¢„å– <code>A</code> å’Œ <code>B</code> çš„åç»­æ•°æ®ã€‚</li><li>ä½†ç”±äºå¾ªç¯æ¡ä»¶ä¾èµ–äºå†…å­˜ä¸­çš„å€¼ï¼Œç¡¬ä»¶é¢„å–å™¨å¯èƒ½æ— æ³•å‡†ç¡®é¢„æµ‹å¾ªç¯çš„ç»“æŸä½ç½®ã€‚</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">ç‰¹æ€§</th><th style="text-align:center">ç¬¬ä¸€ç§ä»£ç </th><th style="text-align:center">ç¬¬äºŒç§ä»£ç </th></tr></thead><tbody><tr><td style="text-align:center"><strong>æ•°æ®è®¿é—®æ¨¡å¼</strong></td><td style="text-align:center">é¡ºåºè®¿é—®ï¼Œè§„å¾‹æ€§å¼º</td><td style="text-align:center">é¡ºåºè®¿é—®ï¼Œä½†å¾ªç¯æ¡ä»¶ä¾èµ–å†…å­˜ä¸­çš„å€¼</td></tr><tr><td style="text-align:center"><strong>ç¡¬ä»¶é¢„å–å™¨çš„é€‚ç”¨æ€§</strong></td><td style="text-align:center">éå¸¸é€‚ç”¨ï¼Œé¢„å–æ•ˆæœå¥½</td><td style="text-align:center">é€‚ç”¨ï¼Œä½†é¢„å–æ•ˆæœå¯èƒ½å—é™</td></tr><tr><td style="text-align:center"><strong>æ˜¾å¼é¢„å–çš„å¿…è¦æ€§</strong></td><td style="text-align:center">é€šå¸¸ä¸éœ€è¦</td><td style="text-align:center">å¯èƒ½æ— æ•ˆï¼Œç”šè‡³å¯¼è‡´ç¼“å­˜æ±¡æŸ“</td></tr><tr><td style="text-align:center"><strong>ç¼“å­˜æ€§èƒ½</strong></td><td style="text-align:center">ç¼“å­˜å‘½ä¸­ç‡é«˜ï¼Œå†…å­˜å»¶è¿Ÿä½</td><td style="text-align:center">ç¼“å­˜å‘½ä¸­ç‡è¾ƒé«˜ï¼Œä½†å¯èƒ½ç•¥ä½</td></tr></tbody></table></div><ul><li>ç”±äºå¾ªç¯æ¡ä»¶ä¾èµ–äºå†…å­˜ä¸­çš„å€¼ï¼Œç¡¬ä»¶é¢„å–å™¨å¯èƒ½æ— æ³•å®Œå…¨æœ‰æ•ˆåœ°å·¥ä½œã€‚</li><li>ç¼“å­˜å‘½ä¸­ç‡å¯èƒ½ç•¥ä½äºç¬¬ä¸€ç§ä»£ç ï¼Œå°¤å…¶æ˜¯åœ¨å¾ªç¯ç»“æŸé™„è¿‘ã€‚</li></ul><blockquote><p>æ‰€ä»¥ä»ç¼“å­˜é¢„å–çš„è§’åº¦çœ‹ï¼Œç¬¬ä¸€ç§ä»£ç æ•ˆæœç•¥å¥½</p></blockquote><h3 id="è§¦å‘ç¼“å­˜å†™å›"><a href="#è§¦å‘ç¼“å­˜å†™å›" class="headerlink" title="è§¦å‘ç¼“å­˜å†™å›"></a>è§¦å‘ç¼“å­˜å†™å›</h3><p>å¯¹äºç¬¬äºŒç§ä»£ç ï¼š</p><ul><li>åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œ<code>*a</code> çš„å€¼ä¼šè¢«åŠ è½½åˆ°ç¼“å­˜ä¸­ã€‚</li><li>ç”±äº <code>A</code> æ˜¯é¡ºåºè®¿é—®çš„ï¼Œç¡¬ä»¶é¢„å–å™¨ä¼šå°† <code>A</code> çš„åç»­æ•°æ®é¢„å–åˆ°ç¼“å­˜ä¸­ã€‚</li><li><p>å› æ­¤ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ<code>*a</code> çš„å€¼ä¼šä»ç¼“å­˜ä¸­å‘½ä¸­ï¼Œè€Œä¸æ˜¯ä»å†…å­˜ä¸­åŠ è½½ã€‚</p></li><li><p>åœ¨å¾ªç¯ä¸­ï¼Œ<code>*a</code> çš„å€¼ä¼šè¢«ä¿®æ”¹ï¼Œå› æ­¤å¯¹åº”çš„ç¼“å­˜è¡Œä¼šè¢«æ ‡è®°ä¸ºè„çš„ã€‚</p></li><li>å¦‚æœç¼“å­˜è¡Œè¢«æ›¿æ¢æ—¶æ˜¯è„çš„ï¼Œåˆ™éœ€è¦å†™å›ä¸»å­˜ã€‚</li><li><p>ç”±äº <code>A</code> æ˜¯é¡ºåºè®¿é—®çš„ï¼Œç¼“å­˜è¡Œçš„æ›¿æ¢é¢‘ç‡è¾ƒä½ï¼Œç¼“å­˜å†™å›çš„æ¬¡æ•°ä¹Ÿè¾ƒå°‘ã€‚</p></li><li><p>ç”±äº <code>A</code> å’Œ <code>B</code> æ˜¯é¡ºåºè®¿é—®çš„ï¼Œç¡¬ä»¶é¢„å–å™¨å¯ä»¥æœ‰æ•ˆåœ°é¢„å–æ•°æ®ï¼Œå‡å°‘å†…å­˜è®¿é—®çš„å»¶è¿Ÿã€‚</p></li><li>å¾ªç¯æ¡ä»¶ <code>*a &gt;= 0</code> çš„å€¼é€šå¸¸ä¼šä»ç¼“å­˜ä¸­å‘½ä¸­ï¼Œå› æ­¤ä¸ä¼šæ˜¾è‘—å¢åŠ å†…å­˜è®¿é—®çš„å»¶è¿Ÿã€‚</li></ul><blockquote><p>å› æ­¤ä»ç¼“å­˜å†™å›çš„è§’åº¦çœ‹å·®è·ä¸å¤§ã€‚</p></blockquote></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;è½¯ä»¶æ€§èƒ½å·¥ç¨‹â€”å¤šè§’åº¦è®¨è®ºæ€§èƒ½ä¼˜åŒ–&quot;&gt;&lt;a href=&quot;#è½¯ä»¶æ€§èƒ½å·¥ç¨‹â€”å¤šè§’åº¦è®¨è®ºæ€§èƒ½ä¼˜åŒ–&quot; class=&quot;headerlink&quot; title=&quot;è½¯ä»¶æ€§èƒ½å·¥ç¨‹â€”å¤šè§’åº¦è®¨è®ºæ€§èƒ½ä¼˜åŒ–&quot;&gt;&lt;/a&gt;è½¯ä»¶æ€§èƒ½å·¥ç¨‹â€”</summary>
      
    
    
    
    
    <category term="æ€§èƒ½" scheme="https://daoxuan.cc/tags/%E6%80%A7%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>ä¸¤æ‹›è§£å†³Macå®‰è£…è½¯ä»¶æç¤º,</title>
    <link href="https://daoxuan.cc/posts/9118/"/>
    <id>https://daoxuan.cc/posts/9118/</id>
    <published>2025-03-06T04:15:03.000Z</published>
    <updated>2025-03-24T06:49:15.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="ä¸¤æ‹›è§£å†³Macå®‰è£…è½¯ä»¶æç¤ºå·²æŸåæ— æ³•æ‰“å¼€-è¯·ç§»åˆ°åºŸçº¸ç¯“"><a href="#ä¸¤æ‹›è§£å†³Macå®‰è£…è½¯ä»¶æç¤ºå·²æŸåæ— æ³•æ‰“å¼€-è¯·ç§»åˆ°åºŸçº¸ç¯“" class="headerlink" title="ä¸¤æ‹›è§£å†³Macå®‰è£…è½¯ä»¶æç¤ºå·²æŸåæ— æ³•æ‰“å¼€,è¯·ç§»åˆ°åºŸçº¸ç¯“"></a>ä¸¤æ‹›è§£å†³Macå®‰è£…è½¯ä»¶æç¤º<code>å·²æŸåæ— æ³•æ‰“å¼€</code>,<code>è¯·ç§»åˆ°åºŸçº¸ç¯“</code></h1><blockquote><p>ä½œè€…ï¼šHardy<br>é“¾æ¥ï¼š<a href="https://juejin.cn/post/7239589685975121980">https://juejin.cn/post/7239589685975121980</a><br>æ¥æºï¼šç¨€åœŸæ˜é‡‘</p></blockquote><h2 id="ä¸€ã€åœ¨macä¸Šå®‰è£…ä¸€äº›è½¯ä»¶æ—¶ï¼Œä¼šæç¤ºå¦‚ä¸‹å¼¹æ¡†ï¼ˆå·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ä½ åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒï¼‰ï¼Œå¯¼è‡´æ— æ³•å®‰è£…ã€‚"><a href="#ä¸€ã€åœ¨macä¸Šå®‰è£…ä¸€äº›è½¯ä»¶æ—¶ï¼Œä¼šæç¤ºå¦‚ä¸‹å¼¹æ¡†ï¼ˆå·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ä½ åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒï¼‰ï¼Œå¯¼è‡´æ— æ³•å®‰è£…ã€‚" class="headerlink" title="ä¸€ã€åœ¨macä¸Šå®‰è£…ä¸€äº›è½¯ä»¶æ—¶ï¼Œä¼šæç¤ºå¦‚ä¸‹å¼¹æ¡†ï¼ˆå·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ä½ åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒï¼‰ï¼Œå¯¼è‡´æ— æ³•å®‰è£…ã€‚"></a>ä¸€ã€åœ¨macä¸Šå®‰è£…ä¸€äº›è½¯ä»¶æ—¶ï¼Œä¼šæç¤ºå¦‚ä¸‹å¼¹æ¡†ï¼ˆå·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ä½ åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒï¼‰ï¼Œå¯¼è‡´æ— æ³•å®‰è£…ã€‚</h2><p><img src="https://easyimage.daoxuan.cc/i/2025/03/06/rc7lqn.webp" alt="image.png"></p><h3 id="è§£å†³åŠæ³•â†“â†“â†“"><a href="#è§£å†³åŠæ³•â†“â†“â†“" class="headerlink" title="è§£å†³åŠæ³•â†“â†“â†“"></a>è§£å†³åŠæ³•â†“â†“â†“</h3><p>åœ¨ç»ˆç«¯æˆ–æ§åˆ¶å°è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œç„¶åå›è½¦ï¼Œå°±ä¼šå¼¹å‡ºæç¤ºè¾“å…¥å¯†ç ï¼Œè¾“å…¥å¼€æœºå¯†ç å›è½¦ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ“ä½œæ˜¯ä¸ºäº†æ‰“å¼€ï¼šç³»ç»Ÿåå¥½è®¾ç½® â€“ å®‰å…¨æ€§ä¸éšç§ â€“ é€šç”¨ ï¼Œä¸­çš„â€œä»»ä½•æ¥æºâ€é€‰é¡¹ã€‚</p><p><img src="https://easyimage.daoxuan.cc/i/2025/03/06/rci00i.webp" alt="image.png"></p><h2 id="äºŒã€å°†åº”ç”¨ç§»å…¥åº”ç”¨ç¨‹åºä¸­åï¼Œæ‰“å¼€æç¤ºå·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ä½ åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚æˆ–ä½ åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒã€‚"><a href="#äºŒã€å°†åº”ç”¨ç§»å…¥åº”ç”¨ç¨‹åºä¸­åï¼Œæ‰“å¼€æç¤ºå·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ä½ åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚æˆ–ä½ åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒã€‚" class="headerlink" title="äºŒã€å°†åº”ç”¨ç§»å…¥åº”ç”¨ç¨‹åºä¸­åï¼Œæ‰“å¼€æç¤ºå·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ä½ åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚æˆ–ä½ åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒã€‚"></a>äºŒã€å°†åº”ç”¨ç§»å…¥åº”ç”¨ç¨‹åºä¸­åï¼Œæ‰“å¼€æç¤º<code>å·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ä½ åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚</code>æˆ–<code>ä½ åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒ</code>ã€‚</h2><p><img src="https://easyimage.daoxuan.cc/i/2025/03/06/rcye2r.webp" alt="image.png"></p><h3 id="è§£å†³åŠæ³•â†“â†“â†“-1"><a href="#è§£å†³åŠæ³•â†“â†“â†“-1" class="headerlink" title="è§£å†³åŠæ³•â†“â†“â†“"></a>è§£å†³åŠæ³•â†“â†“â†“</h3><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>xattr -cr</code>,(è¿™é‡Œè¦æ³¨æ„åé¢æœ‰ä¸ªç©ºæ ¼)ã€‚</p><p>å°†æç¤ºå·²æŸåï¼Œæ— æ³•æ‰“å¼€çš„ç¨‹åºå›¾æ ‡æ‹–åˆ°å‘½ä»¤æ ä¸­ã€‚</p><p><img src="https://easyimage.daoxuan.cc/i/2025/03/06/rdddd4.webp" alt="image.png"></p><p>æ‹–å…¥å‘½ä»¤è¡Œåï¼Œ æ‹–å…¥ç¨‹åºå›¾æ ‡åç±»ä¼¼æ˜¾ç¤º<code>xattr -cr /Applications/XXX.app</code>ï¼Œç„¶åå›è½¦ï¼Œå†å»æ‰“å¼€ç¨‹åºå³å¯æ­£å¸¸è¿è¡Œã€‚</p><p>æç¤ºï¼šåœ¨macOS Ventura 13ç³»ç»Ÿä¸Šæ“ä½œä¹‹åå¦‚æœè¿˜æ˜¯æç¤ºæŸåï¼Œå°±å³é”®è½¯ä»¶ï¼Œé€‰æ‹©æ‰“å¼€ï¼Œå†ç‚¹å‡»æ‰“å¼€ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;ä¸¤æ‹›è§£å†³Macå®‰è£…è½¯ä»¶æç¤ºå·²æŸåæ— æ³•æ‰“å¼€-è¯·ç§»åˆ°åºŸçº¸ç¯“&quot;&gt;&lt;a href=&quot;#ä¸¤æ‹›è§£å†³Macå®‰è£…è½¯ä»¶æç¤ºå·²æŸåæ— æ³•æ‰“å¼€-è¯·ç§»åˆ°åºŸçº¸ç¯“&quot; class=&quot;headerlink&quot; title=&quot;ä¸¤æ‹›è§£å†³Mac</summary>
      
    
    
    
    
    <category term="mac" scheme="https://daoxuan.cc/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>super()è°ƒç”¨é€»è¾‘</title>
    <link href="https://daoxuan.cc/posts/50029/"/>
    <id>https://daoxuan.cc/posts/50029/</id>
    <published>2025-02-16T14:27:08.000Z</published>
    <updated>2025-03-24T06:50:43.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="super-è°ƒç”¨é€»è¾‘"><a href="#super-è°ƒç”¨é€»è¾‘" class="headerlink" title="super()è°ƒç”¨é€»è¾‘"></a>super()è°ƒç”¨é€»è¾‘</h1><blockquote><ul><li>super å’Œçˆ¶ç±»æ²¡æœ‰å®è´¨æ€§çš„å…³è”ã€‚</li><li>super(cls, inst) è·å¾—çš„æ˜¯ cls åœ¨ inst çš„ MRO åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªç±»</li></ul></blockquote><h2 id="MROåˆ—è¡¨"><a href="#MROåˆ—è¡¨" class="headerlink" title="MROåˆ—è¡¨"></a>MROåˆ—è¡¨</h2><p>æ–¹æ³•è§£æé¡ºåºï¼ˆMethod Resolution Order, MROï¼‰</p><p>ä¸€ä¸ªç±»çš„ MRO åˆ—è¡¨å°±æ˜¯åˆå¹¶æ‰€æœ‰çˆ¶ç±»çš„ MRO åˆ—è¡¨ï¼Œå¹¶éµå¾ªä»¥ä¸‹ä¸‰æ¡åŸåˆ™ï¼š</p><ul><li>å­ç±»æ°¸è¿œåœ¨çˆ¶ç±»å‰é¢</li><li>å¦‚æœæœ‰å¤šä¸ªçˆ¶ç±»ï¼Œä¼šæ ¹æ®å®ƒä»¬åœ¨åˆ—è¡¨ä¸­çš„é¡ºåºè¢«æ£€æŸ¥</li><li>å¦‚æœå¯¹ä¸‹ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªåˆæ³•çš„é€‰æ‹©ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªçˆ¶ç±»</li></ul><p>ä¸¾ä¾‹è¯´æ˜ï¼š</p><p>ç»§æ‰¿å…³ç³»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">O = <span class="built_in">object</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">F</span>(<span class="title class_ inherited__">O</span>): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span>(<span class="title class_ inherited__">O</span>): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(<span class="title class_ inherited__">O</span>): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(D,F): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(D,E): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(B,C): <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>æ£€ç´¢é¡ºåºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">                          6</span><br><span class="line">                         ---</span><br><span class="line">Level 3                 | O |                  (more general)</span><br><span class="line">                      /  ---  \</span><br><span class="line">                     /    |    \                      |</span><br><span class="line">                    /     |     \                     |</span><br><span class="line">                   /      |      \                    |</span><br><span class="line">                  ---    ---    ---                   |</span><br><span class="line">Level 2        3 | D | 4| E |  | F | 5                |</span><br><span class="line">                  ---    ---    ---                   |</span><br><span class="line">                   \  \ _ /       |                   |</span><br><span class="line">                    \    / \ _    |                   |</span><br><span class="line">                     \  /      \  |                   |</span><br><span class="line">                      ---      ---                    |</span><br><span class="line">Level 1            1 | B |    | C | 2                 |</span><br><span class="line">                      ---      ---                    |</span><br><span class="line">                        \      /                      |</span><br><span class="line">                         \    /                      \ /</span><br><span class="line">                           ---</span><br><span class="line">Level 0                 0 | A |                (more specialized)</span><br><span class="line">                           ---</span><br></pre></td></tr></table></figure><p>ç»§æ‰¿å…³ç³»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">O = <span class="built_in">object</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">F</span>(<span class="title class_ inherited__">O</span>): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span>(<span class="title class_ inherited__">O</span>): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(<span class="title class_ inherited__">O</span>): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(D,F): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(E,D): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(B,C): <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>æ£€ç´¢é¡ºåºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">                           6</span><br><span class="line">                          ---</span><br><span class="line">Level 3                  | O |</span><br><span class="line">                       /  ---  \</span><br><span class="line">                      /    |    \</span><br><span class="line">                     /     |     \</span><br><span class="line">                    /      |      \</span><br><span class="line">                  ---     ---    ---</span><br><span class="line">Level 2        2 | E | 4 | D |  | F | 5</span><br><span class="line">                  ---     ---    ---</span><br><span class="line">                   \      / \     /</span><br><span class="line">                    \    /   \   /</span><br><span class="line">                     \  /     \ /</span><br><span class="line">                      ---     ---</span><br><span class="line">Level 1            1 | B |   | C | 3</span><br><span class="line">                      ---     ---</span><br><span class="line">                       \       /</span><br><span class="line">                        \     /</span><br><span class="line">                          ---</span><br><span class="line">Level 0                0 | A |</span><br><span class="line">                          ---</span><br></pre></td></tr></table></figure><p><a href="https://docs.python.org/3/howto/mro.html">mroä½¿ç”¨ç®—æ³•è¯´æ˜å®˜æ–¹æ–‡ç« </a></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;super-è°ƒç”¨é€»è¾‘&quot;&gt;&lt;a href=&quot;#super-è°ƒç”¨é€»è¾‘&quot; class=&quot;headerlink&quot; title=&quot;super()è°ƒç”¨é€»è¾‘&quot;&gt;&lt;/a&gt;super()è°ƒç”¨é€»è¾‘&lt;/h1&gt;&lt;blockqu</summary>
      
    
    
    
    
    <category term="python" scheme="https://daoxuan.cc/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>go channelåœ¨ä½•æ—¶å…³é—­</title>
    <link href="https://daoxuan.cc/posts/20760/"/>
    <id>https://daoxuan.cc/posts/20760/</id>
    <published>2024-12-27T13:40:49.000Z</published>
    <updated>2025-03-25T01:29:17.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="go-channelåœ¨ä½•æ—¶å…³é—­"><a href="#go-channelåœ¨ä½•æ—¶å…³é—­" class="headerlink" title="go channelåœ¨ä½•æ—¶å…³é—­"></a>go channelåœ¨ä½•æ—¶å…³é—­</h1><blockquote><p> goè¯­è¨€çš„channelå…³é—­æ–¹å¼åªæœ‰ä¸€ç§ï¼Œé‚£å°±æ˜¯ä½¿ç”¨å†…å»º<code>close</code>æ–¹æ³•å…³é—­ï¼Œå¦‚æœä¸è¿›è¡Œæ˜¾ç¤ºå…³é—­çš„è¯ï¼Œæ¶ˆè´¹è€…å°±ä¸€ç›´ä¼šç­‰å¾…</p></blockquote><p>ä¸è¿‡åœ¨ä½¿ç”¨forç­‰å¾…channelçš„æ—¶å€™ï¼Œéœ€è¦åœ¨channelä¸­çš„æ‰€æœ‰æ•°æ®å¼¹å‡ºæ¥ä¹‹åæ‰ä¼šå½»åº•å…³é—­channelï¼Œæ”¶å›channelçš„èµ„æº, ä¾‹å¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line">c &lt;- <span class="number">1</span></span><br><span class="line">c &lt;- <span class="number">2</span></span><br><span class="line"><span class="built_in">close</span>(c)</span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> c &#123;</span><br><span class="line">    fmt.Println(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ä¼šæ‰“å°å‡º1ã€2ä¹‹åæ‰ç»“æŸforå¾ªç¯ã€‚</p><h2 id="å¦‚ä½•åˆ¤æ–­channelæ˜¯å¦å·²ç»å…³é—­"><a href="#å¦‚ä½•åˆ¤æ–­channelæ˜¯å¦å·²ç»å…³é—­" class="headerlink" title="å¦‚ä½•åˆ¤æ–­channelæ˜¯å¦å·²ç»å…³é—­"></a>å¦‚ä½•åˆ¤æ–­channelæ˜¯å¦å·²ç»å…³é—­</h2><p>å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è¯»å–åˆ°channelçŠ¶æ€ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i, ok := &lt;- channel</span><br></pre></td></tr></table></figure><p><code>i</code>æ˜¯channelä¸­è¯»å–åˆ°çš„å€¼ï¼Œ<code>ok</code>æ˜¯boolå€¼ï¼Œè¡¨ç¤ºchannelæ˜¯å¦å…³é—­ï¼Œåªæœ‰ä¸€ç§æƒ…å†µ<code>ok</code>ä¸ºfalseï¼Œå°±æ˜¯channelè¢«æ˜¾ç¤ºcloseå¹¶ä¸”channelå†…æ²¡æœ‰æ•°æ®å¯ä»¥è¢«è¯»å–çš„æ—¶å€™<code>ok</code>æ‰ä¸ºfalse</p><p>å¦‚æœchannelå†…çš„æ²¡æœ‰å€¼çš„è¯ï¼Œè¯»å–è·å¾—çš„iä¸ºç©ºï¼Œå…·ä½“ä¸ºé‚£ç§æ•°æ®ç±»å‹çš„ç©ºä¸»è¦çœ‹channelæœ€å¼€å§‹æ€ä¹ˆå£°æ˜çš„ï¼Œä¾‹å¦‚ï¼šï¼ˆch := make(chan int)ï¼Œç©ºå€¼ä¸º0ï¼‰</p><p><strong>é‚£ä¹ˆæˆ‘ä»¬å¯ä¸å¯ä»¥é€šè¿‡içš„å€¼æ¥åˆ¤æ–­æ˜¯å¦channelå·²ç»å…³é—­äº†å‘¢ï¼Ÿ</strong></p><p>å½“ç„¶ä¸å¯ä»¥ï¼Œå› ä¸ºç©ºå€¼ä¹Ÿå¯èƒ½æ˜¯ç”Ÿäº§è€…ä¸»åŠ¨å‘çš„ï¼Œæ‰€ä»¥è¦ä½¿ç”¨<code>ok</code>æ¥åˆ¤æ–­ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;go-channelåœ¨ä½•æ—¶å…³é—­&quot;&gt;&lt;a href=&quot;#go-channelåœ¨ä½•æ—¶å…³é—­&quot; class=&quot;headerlink&quot; title=&quot;go channelåœ¨ä½•æ—¶å…³é—­&quot;&gt;&lt;/a&gt;go channel</summary>
      
    
    
    
    <category term="åç«¯" scheme="https://daoxuan.cc/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="go" scheme="https://daoxuan.cc/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>go mapå¹¶å‘è¯»å†™é—®é¢˜</title>
    <link href="https://daoxuan.cc/posts/45899/"/>
    <id>https://daoxuan.cc/posts/45899/</id>
    <published>2024-12-27T13:07:34.000Z</published>
    <updated>2025-03-25T01:31:27.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="go-mapå¹¶å‘è¯»å†™é—®é¢˜"><a href="#go-mapå¹¶å‘è¯»å†™é—®é¢˜" class="headerlink" title="go mapå¹¶å‘è¯»å†™é—®é¢˜"></a>go mapå¹¶å‘è¯»å†™é—®é¢˜</h1><h2 id="é—®é¢˜å¼•å…¥"><a href="#é—®é¢˜å¼•å…¥" class="headerlink" title="é—®é¢˜å¼•å…¥"></a>é—®é¢˜å¼•å…¥</h2><p>goè¯­è¨€çš„mapæ˜¯ä¸å…è®¸å¹¶å‘è¯»å†™çš„ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ®µç¨‹åºï¼š</p><ul><li><strong>å¹¶å‘å†™å…¥</strong></li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>)</span><br><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">wg.Add(<span class="number">2</span>)</span><br><span class="line"><span class="comment">// å¯åŠ¨ä¸¤ä¸ªåç¨‹åºåŒæ—¶å†™å…¥ map</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++ &#123;</span><br><span class="line">m[i] = i <span class="comment">// å†™å…¥</span></span><br><span class="line">&#125;</span><br><span class="line">wg.Done()</span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++ &#123;</span><br><span class="line">m[i] = i <span class="comment">// å†™å…¥</span></span><br><span class="line">&#125;</span><br><span class="line">wg.Done()</span><br><span class="line">&#125;()</span><br><span class="line">wg.Wait()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¾¿ä¼šæŠ¥é”™ï¼š<code>fatal error: concurrent map writes</code></p><ul><li><strong>å¹¶å‘è¯»å†™</strong></li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>)</span><br><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">wg.Add(<span class="number">2</span>)</span><br><span class="line"><span class="comment">// å¯åŠ¨ä¸¤ä¸ªåç¨‹åºåŒæ—¶å†™å…¥ map</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++ &#123;</span><br><span class="line">m[i] = i <span class="comment">// å†™å…¥</span></span><br><span class="line">&#125;</span><br><span class="line">wg.Done()</span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++ &#123;</span><br><span class="line">fmt.Println(m[i]) <span class="comment">// è¯»å–</span></span><br><span class="line">&#125;</span><br><span class="line">wg.Done()</span><br><span class="line">&#125;()</span><br><span class="line">wg.Wait()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¼šæŠ¥é”™ï¼š<code>fatal error: concurrent map read and map write</code></p><h2 id="ä¸ºä»€ä¹ˆgoè¯­è¨€çš„mapå…è®¸å¹¶å‘è¯»å†™å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆgoè¯­è¨€çš„mapå…è®¸å¹¶å‘è¯»å†™å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆgoè¯­è¨€çš„mapå…è®¸å¹¶å‘è¯»å†™å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆgoè¯­è¨€çš„mapå…è®¸å¹¶å‘è¯»å†™å‘¢ï¼Ÿ</h2><blockquote><p>è¿™è·Ÿ <code>map</code> çš„å®ç°æœ‰å…³ï¼Œæ ¹æœ¬åŸå› æ˜¯ï¼š<code>map</code> çš„åº•å±‚æ˜¯æ”¯æŒè‡ªåŠ¨æ‰©å®¹çš„ï¼Œåœ¨æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å®¹é‡ä¸å¤Ÿï¼Œå°±ä¼šè‡ªåŠ¨æ‰©å®¹ã€‚ å¦‚æœå…è®¸æ‰©å®¹å’Œè®¿é—®æ“ä½œåŒæ—¶å‘ç”Ÿï¼Œé‚£ä¹ˆè®¿é—®åˆ°çš„æ•°æ®å°±ä¸ä¸€å®šå°±æ˜¯æˆ‘ä»¬ä¹‹å‰å­˜æ”¾è¿›å»çš„äº†ï¼Œæ‰€ä»¥ Go ä»è®¾è®¡ä¸Šå°±ç¦æ­¢äº†è¿™ç§æ“ä½œã€‚ ä¹Ÿå°±æ˜¯ <code>fail fast</code> çš„åŸåˆ™ã€‚</p></blockquote><h2 id="è¿˜æœ‰ä¸€ç§ä¸ä¼šæŠ¥é”™çš„mapè¯»å†™é”™è¯¯ï¼š"><a href="#è¿˜æœ‰ä¸€ç§ä¸ä¼šæŠ¥é”™çš„mapè¯»å†™é”™è¯¯ï¼š" class="headerlink" title="è¿˜æœ‰ä¸€ç§ä¸ä¼šæŠ¥é”™çš„mapè¯»å†™é”™è¯¯ï¼š"></a>è¿˜æœ‰ä¸€ç§ä¸ä¼šæŠ¥é”™çš„mapè¯»å†™é”™è¯¯ï¼š</h2><p>ä¸‹é¢ç”¨ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­å»å¤ç°ä¸€ä¸ªç”±äºè¿­ä»£è¿‡ç¨‹ä¸­ä¿®æ”¹mapè€Œå¼•å‘çš„é—®é¢˜ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">m[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> m &#123;</span><br><span class="line">m[i+<span class="number">100</span>] = i + <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(m)</span><br><span class="line">fmt.Println(<span class="built_in">len</span>(m))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªç»™mapèµ‹äº†ä¸€ä¸ªåˆå€¼ï¼Œç„¶ååœ¨è¿­ä»£è¿‡ç¨‹ä¸­è¿›è¡Œä¿®æ”¹ï¼Œè®©mapè¿›è¡Œæ‰©å……ï¼Œå¤šè·‘å‡ æ¬¡æŸ¥çœ‹å…è®¸ç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">map[0:0 100:100 200:200 300:300]</span><br><span class="line">4</span><br><span class="line">map[0:0 100:100 200:200 300:300 400:400 500:500 600:600 700:700]</span><br><span class="line">8</span><br><span class="line">map[0:0 100:100 200:200 300:300 400:400 500:500]</span><br><span class="line">6</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°æ¯æ¬¡ä¸åªæ˜¯åªè¿­ä»£ä¸€æ¬¡ï¼Œå¹¶ä¸”æ¯æ¬¡è¿­ä»£æ¬¡æ•°ä¸åŒï¼Œè¿™å°±æ˜¯åœ¨è¿­ä»£mapçš„æ—¶å€™æ‰©å……mapè€Œå¯¼è‡´çš„ä¸ç¡®å®šæ€§ã€‚</p><h2 id="ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘åœ¨å†™é¡¹ç›®æ—¶å€™å†™å‡ºæ¥çš„ä¸€ä¸ªå¹¶å‘è¯»å†™é”™è¯¯"><a href="#ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘åœ¨å†™é¡¹ç›®æ—¶å€™å†™å‡ºæ¥çš„ä¸€ä¸ªå¹¶å‘è¯»å†™é”™è¯¯" class="headerlink" title="ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘åœ¨å†™é¡¹ç›®æ—¶å€™å†™å‡ºæ¥çš„ä¸€ä¸ªå¹¶å‘è¯»å†™é”™è¯¯"></a>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘åœ¨å†™é¡¹ç›®æ—¶å€™å†™å‡ºæ¥çš„ä¸€ä¸ªå¹¶å‘è¯»å†™é”™è¯¯</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ•´åˆçš„å€’æ’ç´¢å¼•å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getIntegrateInvertedIndexString</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span> &#123;</span><br><span class="line">indexStrings := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line"></span><br><span class="line">channel := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå¹¶éƒ¨åˆ†ç»“æœ</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> partIndex := <span class="keyword">range</span> channel &#123;</span><br><span class="line"><span class="comment">// é”å®šè®¿é—®å…±äº«çš„ map</span></span><br><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> partIndex &#123;</span><br><span class="line"><span class="keyword">if</span> _, ok := indexStrings[key]; !ok &#123;</span><br><span class="line">indexStrings[key] = value</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">indexStrings[key] += <span class="string">&quot;-&quot;</span> + value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯åŠ¨å¤šä¸ªgoroutineæ¥è®¡ç®—éƒ¨åˆ†ç»“æœ</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">wg.Add(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">defer</span> wg.Done()</span><br><span class="line">indexString := integrateInvertedIndexString()</span><br><span class="line"><span class="keyword">if</span> indexString != <span class="literal">nil</span> &#123;</span><br><span class="line">channel &lt;- indexString</span><br><span class="line">&#125;</span><br><span class="line">&#125;()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">wg.Wait()</span><br><span class="line"><span class="built_in">close</span>(channel)</span><br><span class="line"><span class="keyword">return</span> indexStrings</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">integrateInvertedIndexString</span><span class="params">()</span></span> <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;</span><br><span class="line"><span class="string">&quot;key&quot;</span>: <span class="string">&quot;value&quot;</span>, <span class="string">&quot;key2&quot;</span>: <span class="string">&quot;value2&quot;</span>, <span class="string">&quot;key3&quot;</span>: <span class="string">&quot;value3&quot;</span>, <span class="string">&quot;key4&quot;</span>: <span class="string">&quot;value4&quot;</span>, <span class="string">&quot;key5&quot;</span>: <span class="string">&quot;value5&quot;</span>,</span><br><span class="line"><span class="string">&quot;key6&quot;</span>: <span class="string">&quot;value6&quot;</span>, <span class="string">&quot;key7&quot;</span>: <span class="string">&quot;value7&quot;</span>, <span class="string">&quot;key8&quot;</span>: <span class="string">&quot;value8&quot;</span>, <span class="string">&quot;key9&quot;</span>: <span class="string">&quot;value9&quot;</span>, <span class="string">&quot;key10&quot;</span>: <span class="string">&quot;value10&quot;</span>,</span><br><span class="line"><span class="string">&quot;key11&quot;</span>: <span class="string">&quot;value11&quot;</span>, <span class="string">&quot;key12&quot;</span>: <span class="string">&quot;value12&quot;</span>, <span class="string">&quot;key13&quot;</span>: <span class="string">&quot;value13&quot;</span>, <span class="string">&quot;key14&quot;</span>: <span class="string">&quot;value14&quot;</span>, <span class="string">&quot;key15&quot;</span>: <span class="string">&quot;value15&quot;</span>,</span><br><span class="line"><span class="string">&quot;key16&quot;</span>: <span class="string">&quot;value16&quot;</span>, <span class="string">&quot;key17&quot;</span>: <span class="string">&quot;value17&quot;</span>, <span class="string">&quot;key18&quot;</span>: <span class="string">&quot;value18&quot;</span>, <span class="string">&quot;key19&quot;</span>: <span class="string">&quot;value19&quot;</span>, <span class="string">&quot;key20&quot;</span>: <span class="string">&quot;value20&quot;</span>,</span><br><span class="line"><span class="string">&quot;key21&quot;</span>: <span class="string">&quot;value21&quot;</span>, <span class="string">&quot;key22&quot;</span>: <span class="string">&quot;value22&quot;</span>, <span class="string">&quot;key23&quot;</span>: <span class="string">&quot;value23&quot;</span>, <span class="string">&quot;key24&quot;</span>: <span class="string">&quot;value24&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">IndexMap := getIntegrateInvertedIndexString(<span class="number">1000</span>)</span><br><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> IndexMap &#123;</span><br><span class="line"><span class="built_in">println</span>(key, value)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ï¼š<code>fatal error: concurrent map iteration and map write</code></p><p>è¿™ä¸ªé”™è¯¯å…¶å®ä¸€åº¦è®©æˆ‘éå¸¸å›°æƒ‘ï¼Œä¸ºäº†æ›´å¿«çš„æ•´ç†å‘é€åˆ°é€šé“çš„å“ˆå¸Œè¡¨ï¼Œæˆ‘é¢„å…ˆè·‘äº†ä¸€ä¸ªåç¨‹ï¼Œç›®çš„æ˜¯è®©ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…åŒæ—¶å·¥ä½œï¼Œç„¶è€Œï¼Œç¨‹åºç»“æŸä¹‹åå‘ç”Ÿå¦‚ä¸ŠæŠ¥é”™ã€‚</p><p>è¦è§£é‡Šè¿™ä¸ªé”™è¯¯è¿˜è¦ä»channelçš„å…³é—­æ—¶é—´ä»¥åŠå¼•ç”¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸè¯´èµ·ï¼Œå…·ä½“æˆ‘ä¼šåœ¨å…¶ä»–æ–‡ç« ç»†è¯´ã€‚</p><p>å®é™…ä¸Šï¼Œç”±äºgetIntegrateInvertedIndexStringç»“æŸçš„æ—¶å€™ï¼Œè¯»å–channelä¿¡æ¯çš„ç”Ÿäº§è€…è¿˜æ²¡æœ‰ç»“æŸè¿è¡Œï¼Œè¿˜åœ¨ä¿®æ”¹<code>indexStrings</code>ï¼Œè€Œäºæ­¤åŒæ—¶æˆ‘ä»¬åœ¨è¿­ä»£<code>IndexMap</code>ï¼Œå› ä¸º<code>IndexMap</code>æ˜¯<code>indexStrings</code>çš„å¼•ç”¨ï¼Œæ‰€ä»¥ä¸¤è€…æ“ä½œçš„æ˜¯åŒä¸€ä¸ªmap, è¿™æ ·å°±é€ æˆäº†åœ¨è¿­ä»£mapæ—¶å€™ä¿®æ”¹mapçš„é”™è¯¯ã€‚</p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>è‡³äºå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šæ–¹æ¡ˆè¯´æ˜ï¼Œæˆ‘è®¤ä¸ºç”¨é”ï¼Œæˆ–è€…åœ¨é€»è¾‘ä¸Šä¿è¯mapä¸ä¼šå‘ç”Ÿå¹¶å‘è¯»å–å°±å¥½äº†ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;go-mapå¹¶å‘è¯»å†™é—®é¢˜&quot;&gt;&lt;a href=&quot;#go-mapå¹¶å‘è¯»å†™é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;go mapå¹¶å‘è¯»å†™é—®é¢˜&quot;&gt;&lt;/a&gt;go mapå¹¶å‘è¯»å†™é—®é¢˜&lt;/h1&gt;&lt;h</summary>
      
    
    
    
    <category term="åç«¯" scheme="https://daoxuan.cc/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="go" scheme="https://daoxuan.cc/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜</title>
    <link href="https://daoxuan.cc/posts/31606/"/>
    <id>https://daoxuan.cc/posts/31606/</id>
    <published>2024-12-24T17:20:13.000Z</published>
    <updated>2025-03-24T06:50:28.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜"><a href="#cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜" class="headerlink" title="cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜"></a>cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜</h1><blockquote><p>æœ¬ç¯‡ä¸ºè®°å½•<a href="https://github.com/dx2331lxz/OUCSearcher">æœç´¢å¼•æ“é¡¹ç›®</a>é‡åˆ°çš„é—®é¢˜</p></blockquote><h2 id="cronæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#cronæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="cronæ˜¯ä»€ä¹ˆï¼Ÿ"></a>cronæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>Cronæ˜¯ä¸€ä¸ªå®ç”¨ç¨‹åºï¼Œç”¨äºåœ¨ç‰¹å®šçš„æ—¶é—´è‡ªåŠ¨æ‰§è¡Œé‡å¤ä»»åŠ¡ã€‚åœ¨Linuxä¸­ï¼Œå¸¸ç”¨ cron æœåŠ¡å™¨æ¥å®Œæˆè¿™é¡¹å·¥ä½œï¼Œä»¥ä¸‹æ˜¯Cronçš„å·¥ä½œåŸç†ï¼š</p><p>å¦‚æœæƒ³ç¨åæ‰§è¡Œç‰¹å®šä»»åŠ¡ä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–å‘½ä»¤ã€‚ä½†æ˜¯ï¼Œå¯¹äºé‡å¤æ€§ä»»åŠ¡ï¼Œcronæ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚Cronæ˜¯ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œè¿™æ„å‘³ç€å®ƒåœ¨åå°è¿è¡Œä»¥æ‰§è¡Œéäº¤äº’å¼ä»»åŠ¡ã€‚ç±»ä¼¼Windowsåå°è¿›ç¨‹ä¸­çš„æœåŠ¡ã€‚</p><h2 id="cronçš„è¿è¡Œæœºåˆ¶"><a href="#cronçš„è¿è¡Œæœºåˆ¶" class="headerlink" title="cronçš„è¿è¡Œæœºåˆ¶"></a>cronçš„è¿è¡Œæœºåˆ¶</h2><p>ä¸è¿‡ï¼Œ<strong>Cron ä¸ä¼šè‡ªåŠ¨ç­‰å¾…ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆåå†æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡</strong>ã€‚Cron ä»…è´Ÿè´£æŒ‰è®¡åˆ’è§¦å‘ä»»åŠ¡ï¼Œä¸ä¼šç®¡ç†ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»æˆ–æ‰§è¡ŒçŠ¶æ€ã€‚</p><p>è¿™ä¹Ÿå°±å¯¼è‡´æˆ‘ä»¬ä¸å¾—ä¸æ³¨æ„åœ¨ä½¿ç”¨croné‡å¤è¿è¡Œä»»åŠ¡çš„æ—¶å€™ï¼Œä¼šå‡ºç°çš„ä»»åŠ¡å †ç§¯çš„é—®é¢˜ã€‚</p><p>å¦‚æœä¸Šä¸€æ¬¡çš„ä»»åŠ¡åœ¨æ—¶é—´é—´éš”å†…æ²¡æœ‰æ‰§è¡Œå®Œæˆçš„è¯ï¼Œcronä¸ä¼šç­‰å¾…ï¼Œä¼šå†æ¬¡å¯åŠ¨ä¸€ä¸ªä»»åŠ¡ã€‚æ—¶é—´é•¿äº†ä¹‹åä¾¿ä¼šé€ æˆç¨‹åºçš„å´©æºƒã€‚</p><h2 id="å¦‚ä½•è§£å†³ï¼Ÿ"><a href="#å¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="å¦‚ä½•è§£å†³ï¼Ÿ"></a>å¦‚ä½•è§£å†³ï¼Ÿ</h2><p><strong>æˆ‘ä»¬æœ€å…ˆæƒ³åˆ°çš„æœ€ç®€å•ç²—æš´çš„æ–¹å¼ä¾¿æ˜¯å»¶é•¿ç­‰å¾…æ—¶é—´ï¼š</strong></p><p>è¿™ç§æ–¹å¼çœ‹èµ·æ¥ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½æ¸…é™¤çš„çŸ¥é“ä»»åŠ¡ä¼šæ‰§è¡Œå¤šä¹…ï¼Œæ„å‘³çš„å»¶é•¿è¿‡å¤šçš„æ—¶é—´å½±å“ä»»åŠ¡æ‰§è¡Œæ•ˆç‡ã€‚é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥é€šè¿‡å¤šæ¬¡è¿è¡Œç¨‹åºè¡¡é‡æ—¶é—´å‘¢ï¼Œæ­£å¸¸æƒ…å†µæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡åœ¨æˆ‘å†™çš„æœç´¢å¼•æ“é¡¹ç›®ä¸­ï¼Œä»»åŠ¡æœ‰è®¿é—®æ•°æ®åº“çš„éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†ä¼šå› ä¸ºé”çš„å ç”¨è€Œå»¶è¿Ÿï¼Œè¿™æ˜¯ä¸€ç§åŠ¨æ€çš„æ—¶é—´ä¸å¥½ä¼°è®¡ï¼Œå› æ­¤è¿™ä¸ªæ–¹æ¡ˆä¸æ˜¯å¾ˆå¥½</p><p><strong>é‚£ä¹ˆå¯¹äºä»»åŠ¡è®¾ç½®è¶…æ—¶æ—¶é—´æ€ä¹ˆæ ·å‘¢ï¼Ÿ</strong></p><p>å¦‚æœæˆ‘ä»¬çš„å¾ªç¯æ—¶é—´é—´éš”æ˜¯10sï¼Œè€Œä¸€ä¸ªä»»åŠ¡çš„è¶…æ—¶æ—¶é—´ä¹Ÿæ˜¯10sçš„è¯å°±ä¸ä¼šå‡ºç°ä»»åŠ¡å †ç§¯çš„æƒ…å†µï¼Œä¸è¿‡é—®é¢˜ä»ç„¶æ²¡æœ‰æ”¹å˜ï¼Œæˆ‘ä»¬æ— æ³•ç¡®å®šä¸€ä¸ªä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ã€‚å› æ­¤è¿™ä¸ªæ–¹æ³•ä¹Ÿä¸æ˜¯å¾ˆä¼˜é›…ã€‚</p><p><strong>æ‰€ä»¥æˆ‘æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</strong></p><p>åœ¨æ¯æ¬¡ä»»åŠ¡å¼€å§‹ä¹‹å‰æ£€æŸ¥è¿™ä¸ªä»»åŠ¡æ˜¯å¦åœ¨è¿è¡Œï¼Œå¦‚æœåœ¨è¿è¡Œå°±è·³è¿‡æœ¬æ¬¡ä»»åŠ¡çš„å¯åŠ¨ã€‚</p><p>é€šè¿‡ä¸€ä¸ªboolå˜é‡<code>taskInProgress</code>è¡¨ç¤ºä»»åŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼Œè¿è¡Œå¼€å§‹æ—¶å€™<code>taskInProgress</code>ç½®ä¸ºtrueï¼Œè¿è¡Œç»“æŸæ—¶å€™æ”¹ä¸ºfalseï¼Œéœ€è¦æ³¨æ„è€ƒè™‘ç¨‹åºå´©æºƒçš„æƒ…å†µï¼Œç¡®ä¿å´©æºƒä¹Ÿå¯ä»¥å°†<code>taskInProgress</code>çŠ¶æ€æ”¹ä¸ºfalseã€‚</p><p>åœ¨æ¯æ¬¡ç¨‹åºè¿è¡Œæ—¶å€™æ£€æŸ¥<code>taskInProgress</code>å˜é‡çš„å€¼ï¼Œå¦‚æœä¸ºtrueåˆ™è·³è¿‡æœ¬æ¬¡ä»»åŠ¡ï¼Œå¦‚æœä¸ºfalseåˆ™å¼€å§‹ä»»åŠ¡ã€‚</p><p>è¿™æ ·çš„è¯å…¶å®é—´éš”æ—¶é—´å¯ä»¥è®¾ç½®çš„å°ä¸€ç‚¹ï¼Œé€šè¿‡<code>taskInProgress</code>ç¡®ä¿äº†å§‹ç»ˆåªæœ‰ä¸€ä¸ªä»»åŠ¡åœ¨è¿è¡Œã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜&quot;&gt;&lt;a href=&quot;#cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜&quot;&gt;&lt;/a&gt;cronçš„ä»»åŠ¡å †ç§¯é—®é¢˜&lt;/h1&gt;&lt;block</summary>
      
    
    
    
    <category term="åç«¯" scheme="https://daoxuan.cc/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="åç«¯" scheme="https://daoxuan.cc/tags/%E5%90%8E%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>goå˜é‡åˆå§‹åŒ–é€»è¾‘</title>
    <link href="https://daoxuan.cc/posts/54641/"/>
    <id>https://daoxuan.cc/posts/54641/</id>
    <published>2024-12-23T02:02:17.000Z</published>
    <updated>2025-03-25T02:11:14.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="goå˜é‡åˆå§‹åŒ–é€»è¾‘"><a href="#goå˜é‡åˆå§‹åŒ–é€»è¾‘" class="headerlink" title="goå˜é‡åˆå§‹åŒ–é€»è¾‘"></a>goå˜é‡åˆå§‹åŒ–é€»è¾‘</h1><p>Go çš„å˜é‡åˆå§‹åŒ–é‡‡ç”¨ <strong>é™æ€ä¾èµ–è§£æ</strong> å’Œ <strong>é¡ºåºåˆå§‹åŒ–</strong> æ¨¡å‹ï¼š</p><p>â€‹    1.    <strong>é™æ€ä¾èµ–è§£æ</strong>ï¼šåœ¨ç¼–è¯‘æœŸé—´è§£æå˜é‡å’ŒåŒ…çš„ä¾èµ–å…³ç³»ã€‚</p><p>â€‹    2.    <strong>é¡ºåºåˆå§‹åŒ–</strong>ï¼šæ ¹æ®ä¾èµ–å…³ç³»çš„æ‹“æ‰‘æ’åºæ¥åˆå§‹åŒ–å˜é‡æˆ–åŒ…ã€‚</p><h2 id="åŒ…çš„åˆå§‹åŒ–"><a href="#åŒ…çš„åˆå§‹åŒ–" class="headerlink" title="åŒ…çš„åˆå§‹åŒ–"></a><strong>åŒ…çš„åˆå§‹åŒ–</strong></h2><h3 id="åŒ…åˆå§‹åŒ–çš„èŒè´£"><a href="#åŒ…åˆå§‹åŒ–çš„èŒè´£" class="headerlink" title="åŒ…åˆå§‹åŒ–çš„èŒè´£"></a><strong>åŒ…åˆå§‹åŒ–çš„èŒè´£</strong></h3><p>â€‹    1.    <strong>ä¾èµ–åŠ è½½</strong>ï¼šæŒ‰ç…§åŒ…çš„å¯¼å…¥é¡ºåºåŠ è½½ä¾èµ–çš„å…¶ä»–åŒ…ã€‚</p><p>â€‹    2.    <strong>åˆå§‹åŒ–å…¨å±€å˜é‡</strong>ï¼šå¯¹åŒ…çº§åˆ«çš„å…¨å±€å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>â€‹    3.    <strong>æ‰§è¡Œ</strong> init <strong>å‡½æ•°</strong>ï¼šå¦‚æœåŒ…ä¸­å®šä¹‰äº† init å‡½æ•°ï¼Œåˆ™ä¼šåœ¨å…¨å±€å˜é‡åˆå§‹åŒ–å®Œæˆåè‡ªåŠ¨æ‰§è¡Œã€‚</p><h3 id="åŒ…åˆå§‹åŒ–çš„æµç¨‹"><a href="#åŒ…åˆå§‹åŒ–çš„æµç¨‹" class="headerlink" title="åŒ…åˆå§‹åŒ–çš„æµç¨‹"></a><strong>åŒ…åˆå§‹åŒ–çš„æµç¨‹</strong></h3><p>â€‹    1.    <strong>å¯¼å…¥ä¾èµ–çš„åŒ…</strong></p><p>æŒ‰ç…§åŒ…ä¾èµ–çš„æ‹“æ‰‘æ’åºåŠ è½½å…¶ä»–åŒ…ã€‚ä¾èµ–åŒ…ä¼šä¼˜å…ˆåˆå§‹åŒ–ï¼Œé¿å…ä¾èµ–æœªåˆå§‹åŒ–çš„é—®é¢˜ã€‚</p><p>â€‹    2.    <strong>åˆå§‹åŒ–åŒ…ä¸­çš„å…¨å±€å˜é‡</strong></p><p>åŒ…ä¸­å£°æ˜çš„æ‰€æœ‰å…¨å±€å˜é‡æŒ‰ç…§å£°æ˜é¡ºåºä¾æ¬¡åˆå§‹åŒ–ã€‚</p><p>â€‹    3.    <strong>æ‰§è¡Œ</strong> init <strong>å‡½æ•°</strong></p><p>å¦‚æœæœ‰å¤šä¸ª init å‡½æ•°ï¼ˆå¯ä»¥åˆ†å¸ƒåœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼‰ï¼Œå®ƒä»¬ä¼šæŒ‰ç…§æ–‡ä»¶é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</p><h3 id="åŒ…åˆå§‹åŒ–çš„ç‰¹ç‚¹"><a href="#åŒ…åˆå§‹åŒ–çš„ç‰¹ç‚¹" class="headerlink" title="åŒ…åˆå§‹åŒ–çš„ç‰¹ç‚¹"></a><strong>åŒ…åˆå§‹åŒ–çš„ç‰¹ç‚¹</strong></h3><p>â€‹    â€¢    æ¯ä¸ªåŒ…åªåˆå§‹åŒ–ä¸€æ¬¡ï¼Œæ— è®ºè¢«å¯¼å…¥å¤šå°‘æ¬¡ã€‚</p><p>â€‹    â€¢    åˆå§‹åŒ–é¡ºåºç”±ä¾èµ–å…³ç³»å†³å®šï¼Œä¾èµ–é“¾è¶Šé è¿‘åº•å±‚çš„åŒ…è¶Šæ—©åˆå§‹åŒ–ã€‚</p><h2 id="å˜é‡çš„åˆå§‹åŒ–"><a href="#å˜é‡çš„åˆå§‹åŒ–" class="headerlink" title="å˜é‡çš„åˆå§‹åŒ–"></a><strong>å˜é‡çš„åˆå§‹åŒ–</strong></h2><p><strong>å˜é‡åˆå§‹åŒ–çš„èŒè´£</strong></p><p>â€‹    1.    <strong>åˆ†é…å­˜å‚¨ç©ºé—´</strong>ï¼šä¸ºå˜é‡åˆ†é…å†…å­˜ã€‚</p><p>â€‹    2.    <strong>è®¾ç½®é»˜è®¤å€¼</strong>ï¼šä¸ºæœªæ˜¾å¼åˆå§‹åŒ–çš„å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼ˆå¦‚æ•´å‹ä¸º 0ï¼Œå­—ç¬¦ä¸²ä¸º â€œâ€ï¼ŒæŒ‡é’ˆä¸º nilï¼‰ã€‚</p><p>â€‹    3.    <strong>æ‰§è¡Œæ˜¾å¼åˆå§‹åŒ–é€»è¾‘</strong>ï¼šå¯¹å˜é‡èµ‹äºˆå¼€å‘è€…å®šä¹‰çš„åˆå§‹å€¼ã€‚</p><p><strong>å˜é‡åˆå§‹åŒ–çš„æµç¨‹</strong></p><p>â€‹    1.    é¦–å…ˆæ‰§è¡Œ<strong>å¸¸é‡çš„åˆå§‹åŒ–</strong>ã€‚</p><p>â€‹    2.    ç„¶åæ˜¯<strong>å…¨å±€å˜é‡çš„åˆå§‹åŒ–</strong>ã€‚</p><p>1.<strong>é»˜è®¤åˆå§‹åŒ–</strong></p><p>å£°æ˜å˜é‡æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼èµ‹å€¼ï¼Œå˜é‡ä¼šè¢«åˆå§‹åŒ–ä¸ºé›¶å€¼ã€‚ä¾‹å¦‚ï¼š</p><p>â€‹    â€¢    æ•´å‹ï¼š0</p><p>â€‹    â€¢    æµ®ç‚¹å‹ï¼š0.0</p><p>â€‹    â€¢    å¸ƒå°”å‹ï¼šfalse</p><p>â€‹    â€¢    å­—ç¬¦ä¸²ï¼šâ€â€</p><p>â€‹    â€¢    æŒ‡é’ˆ/å¼•ç”¨ç±»å‹ï¼šnil</p><p>â€‹    2.<strong>æ˜¾å¼åˆå§‹åŒ–</strong></p><p>å¦‚æœå£°æ˜å˜é‡æ—¶æœ‰èµ‹å€¼ï¼Œåˆ™ç›´æ¥åº”ç”¨èµ‹å€¼é€»è¾‘ã€‚</p><p>â€‹    3.<strong>è®¡ç®—ä¾èµ–å…³ç³»</strong></p><p>å¦‚æœåˆå§‹åŒ–å€¼ä¾èµ–äºå…¶ä»–å˜é‡ï¼ŒGo ä¼šæŒ‰æ‹“æ‰‘æ’åºçš„ä¾èµ–é¡ºåºå…ˆåˆå§‹åŒ–ä¾èµ–çš„å˜é‡ã€‚</p><h2 id="å¾ªç¯ä¾èµ–çš„è§£å†³"><a href="#å¾ªç¯ä¾èµ–çš„è§£å†³" class="headerlink" title="å¾ªç¯ä¾èµ–çš„è§£å†³"></a>å¾ªç¯ä¾èµ–çš„è§£å†³</h2><h3 id="åŒ…çº§å¾ªç¯ä¾èµ–ï¼ˆå‘ç”Ÿåœ¨ä¸åŒåŒ…ä¹‹é—´ï¼‰"><a href="#åŒ…çº§å¾ªç¯ä¾èµ–ï¼ˆå‘ç”Ÿåœ¨ä¸åŒåŒ…ä¹‹é—´ï¼‰" class="headerlink" title="åŒ…çº§å¾ªç¯ä¾èµ–ï¼ˆå‘ç”Ÿåœ¨ä¸åŒåŒ…ä¹‹é—´ï¼‰"></a><strong>åŒ…çº§å¾ªç¯ä¾èµ–</strong>ï¼ˆå‘ç”Ÿåœ¨ä¸åŒåŒ…ä¹‹é—´ï¼‰</h3><blockquote><p>ä¸èƒ½é€šè¿‡å»¶è¿Ÿåˆå§‹åŒ–æ¥è§£å†³ï¼Œå› ä¸º import é˜¶æ®µå·²ç»ä¼šæ£€æµ‹åˆ°ä¾èµ–å…³ç³»ï¼Œæ— æ³•é€šè¿‡è¿è¡Œæ—¶æ¨è¿Ÿåˆå§‹åŒ–æ¥é¿å…å¾ªç¯ä¾èµ–ã€‚</p></blockquote><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><p>æ¥å£è§£è€¦ï¼šé€šè¿‡å¼•å…¥æ¥å£æ¥è§£é™¤ç›´æ¥çš„åŒ…çº§ä¾èµ–ï¼Œè§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ã€‚</p><p>é‡æ„è®¾è®¡ï¼šé€šè¿‡é‡æ–°è®¾è®¡åŒ…çš„ç»“æ„ï¼Œå°†å…±åŒä¾èµ–çš„éƒ¨åˆ†æå–åˆ°ä¸€ä¸ªæ–°çš„åŒ…ä¸­ï¼Œæ¶ˆé™¤å¾ªç¯ä¾èµ–ã€‚</p><h3 id="å˜é‡çº§å¾ªç¯ä¾èµ–ï¼ˆå‘ç”Ÿåœ¨åŒä¸€ä¸ªåŒ…ä¹‹ä¸­ï¼‰"><a href="#å˜é‡çº§å¾ªç¯ä¾èµ–ï¼ˆå‘ç”Ÿåœ¨åŒä¸€ä¸ªåŒ…ä¹‹ä¸­ï¼‰" class="headerlink" title="å˜é‡çº§å¾ªç¯ä¾èµ–ï¼ˆå‘ç”Ÿåœ¨åŒä¸€ä¸ªåŒ…ä¹‹ä¸­ï¼‰"></a><strong>å˜é‡çº§å¾ªç¯ä¾èµ–</strong>ï¼ˆå‘ç”Ÿåœ¨åŒä¸€ä¸ªåŒ…ä¹‹ä¸­ï¼‰</h3><p>å¯ä»¥ä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–æ¥è§£å†³</p><blockquote><p><strong>å»¶è¿Ÿåˆå§‹åŒ–</strong>ï¼ˆLazy Initializationï¼‰æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ¨¡å¼ï¼ŒæŒ‡å˜é‡çš„åˆå§‹åŒ–æ¨è¿Ÿåˆ°å®é™…ä½¿ç”¨æ—¶æ‰è¿›è¡Œï¼Œè€Œä¸æ˜¯åœ¨ç¨‹åºå¯åŠ¨æˆ–å˜é‡å£°æ˜æ—¶ç«‹å³å®Œæˆã€‚è¿™ç§æ–¹å¼å¯ä»¥ä¼˜åŒ–èµ„æºä½¿ç”¨ï¼Œé¿å…ä¸å¿…è¦çš„åˆå§‹åŒ–ï¼Œå¹¶è§£å†³æŸäº›å¾ªç¯ä¾èµ–æˆ–æ‰§è¡Œé¡ºåºçš„é—®é¢˜ã€‚</p></blockquote><p><strong>æ¨è¿Ÿåˆå§‹åŒ–çš„æ ¸å¿ƒæœºåˆ¶</strong></p><ol><li><strong>å£°æ˜é˜¶æ®µä¸åˆå§‹åŒ–</strong></li></ol><p>å˜é‡åœ¨å£°æ˜æ—¶åªåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œä¿ç•™é»˜è®¤çš„é›¶å€¼ï¼ˆå¦‚ 0ã€â€â€ æˆ– nilï¼‰ï¼Œè€Œå®é™…çš„å€¼èµ‹äºˆé€»è¾‘è¢«æ¨è¿Ÿåˆ°åç»­çš„æŸä¸ªè¿è¡Œæ—¶é˜¶æ®µã€‚</p><ol><li><strong>è¿è¡Œæ—¶å®Œæˆåˆå§‹åŒ–</strong></li></ol><p>å€ŸåŠ©å‡½æ•°æˆ– init å‡½æ•°ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è®¾ç½®å˜é‡çš„å€¼ã€‚è¿™å¯ä»¥ç¡®ä¿å˜é‡çš„åˆå§‹åŒ–é¡ºåºåœ¨è¿è¡Œæ—¶è¢«æ˜ç¡®æ§åˆ¶ï¼Œé¿å…ä¾èµ–å°šæœªåˆå§‹åŒ–çš„å€¼ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> A <span class="type">string</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getA</span><span class="params">()</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> A == <span class="string">&quot;&quot;</span> &#123; <span class="comment">// æ£€æŸ¥æ˜¯å¦å·²åˆå§‹åŒ–</span></span><br><span class="line">        A = <span class="string">&quot;Hello from A&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> A</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(getA()) <span class="comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶åˆå§‹åŒ– A</span></span><br><span class="line">    fmt.Println(getA()) <span class="comment">// ä¹‹åç›´æ¥è¿”å›å·²åˆå§‹åŒ–çš„å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Açš„åˆå§‹åŒ–ä¼šå‘ç”Ÿåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨Açš„æ—¶å€™ï¼Œè¿™æ ·å¯ä»¥é¿å…ç¼–è¯‘æ—¶å€™åˆå§‹åŒ–å˜é‡æ—¶å‡ºç°çš„å¾ªç¯ä¾èµ–</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;goå˜é‡åˆå§‹åŒ–é€»è¾‘&quot;&gt;&lt;a href=&quot;#goå˜é‡åˆå§‹åŒ–é€»è¾‘&quot; class=&quot;headerlink&quot; title=&quot;goå˜é‡åˆå§‹åŒ–é€»è¾‘&quot;&gt;&lt;/a&gt;goå˜é‡åˆå§‹åŒ–é€»è¾‘&lt;/h1&gt;&lt;p&gt;Go çš„å˜é‡åˆå§‹åŒ–é‡‡ç”¨</summary>
      
    
    
    
    <category term="åç«¯" scheme="https://daoxuan.cc/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="go" scheme="https://daoxuan.cc/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>å¿«é€Ÿè¿ç§»goé¡¹ç›®</title>
    <link href="https://daoxuan.cc/posts/63511/"/>
    <id>https://daoxuan.cc/posts/63511/</id>
    <published>2024-12-22T15:19:43.000Z</published>
    <updated>2025-03-24T06:45:36.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="å¿«é€Ÿè¿ç§»goé¡¹ç›®"><a href="#å¿«é€Ÿè¿ç§»goé¡¹ç›®" class="headerlink" title="å¿«é€Ÿè¿ç§»goé¡¹ç›®"></a>å¿«é€Ÿè¿ç§»goé¡¹ç›®</h1><ul><li>åœ¨æœ¬åœ°é¡¹ç›®ä¸­ï¼Œä½¿ç”¨<code>go mod tidy</code>æ•´ç†æ¨¡å—ä¾èµ–</li></ul><blockquote><p>go mod tidy æ˜¯ Go è¯­è¨€ä¸­ç”¨äºæ•´ç†æ¨¡å—ä¾èµ–å…³ç³»çš„å‘½ä»¤ã€‚å®ƒä¼šç¡®ä¿ä½ çš„é¡¹ç›®çš„ go.mod å’Œ go.sum æ–‡ä»¶ä¿æŒå¹²å‡€å’Œå‡†ç¡®ã€‚</p></blockquote><ul><li>å°†é¡¹ç›®è¿ç§»åˆ°æ–°çš„ä¸»æœºä¸Šä¹‹ååœ¨é¡¹ç›®è·Ÿç›®å½•è¿è¡Œ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go build</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™å¦‚æœå¡åœ¨äº†é‚£é‡Œï¼Œæ›´æ¢goä»£ç†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GOPROXY=https://goproxy.cn</span><br></pre></td></tr></table></figure><p>é‡æ–°è¿è¡Œ<code>go build</code></p><p>è¿™æ—¶ä¼šå°†goé¡¹ç›®æ‰€éœ€è¦çš„ä¾èµ–è‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£…ï¼Œä¹‹åç›´æ¥è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶å¼€å¯é¡¹ç›®å°±å¯ä»¥äº†</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;å¿«é€Ÿè¿ç§»goé¡¹ç›®&quot;&gt;&lt;a href=&quot;#å¿«é€Ÿè¿ç§»goé¡¹ç›®&quot; class=&quot;headerlink&quot; title=&quot;å¿«é€Ÿè¿ç§»goé¡¹ç›®&quot;&gt;&lt;/a&gt;å¿«é€Ÿè¿ç§»goé¡¹ç›®&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;åœ¨æœ¬åœ°é¡¹ç›®ä¸­ï¼Œä½¿ç”¨</summary>
      
    
    
    
    <category term="åç«¯" scheme="https://daoxuan.cc/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="åç«¯" scheme="https://daoxuan.cc/tags/%E5%90%8E%E7%AB%AF/"/>
    
    <category term="go" scheme="https://daoxuan.cc/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢rssæ›´æ–°è®°å½•</title>
    <link href="https://daoxuan.cc/posts/14505/"/>
    <id>https://daoxuan.cc/posts/14505/</id>
    <published>2024-12-14T07:57:16.000Z</published>
    <updated>2025-03-24T06:45:13.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="åšå®¢rssæ›´æ–°è®°å½•"><a href="#åšå®¢rssæ›´æ–°è®°å½•" class="headerlink" title="åšå®¢rssæ›´æ–°è®°å½•"></a>åšå®¢rssæ›´æ–°è®°å½•</h1><blockquote><p>ä½¿ç”¨<a href="https://docs.rsshub.app/">rsshub</a>ç¼–å†™äº†è¯¥åšå®¢çš„rssè®¢é˜…</p></blockquote><h2 id="è®¢é˜…æ–¹å¼"><a href="#è®¢é˜…æ–¹å¼" class="headerlink" title="è®¢é˜…æ–¹å¼"></a>è®¢é˜…æ–¹å¼</h2><p>å¯ä»¥é€šè¿‡<code>/daoxuan</code>æ¥è®¢é˜…æœ¬åšå®¢ï¼Œå¦‚æœ<code>https://rsshub.app/daoxuan</code>è¿™ä¸ªåœ°å€ä¸é€šçš„è¯å¯ä»¥<a href="https://docs.rsshub.app/zh/deploy/">è‡ªå»ºä¸€ä¸ªrsshub</a>æˆ–è€…<a href="https://docs.rsshub.app/zh/guide/instances">ä½¿ç”¨å…¬å…±å®ä¾‹</a></p><h2 id="æ–‡æ¡£åœ°å€"><a href="#æ–‡æ¡£åœ°å€" class="headerlink" title="æ–‡æ¡£åœ°å€"></a>æ–‡æ¡£åœ°å€</h2><p>å¯ä»¥åœ¨<code>https://docs.rsshub.app/zh/routes/blog#é“å®£çš„çª</code>è¿™é‡Œæ‰¾åˆ°è®¢é˜…è·¯ç”±</p><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>æ²¡æœ‰å†™æŠ“å–å…¨éƒ¨æ–‡ç« çš„é€»è¾‘ï¼Œåªæ˜¯æŠ“å–äº†é¦–é¡µæœ€æ–°çš„10ç¯‡æ–‡ç« ã€‚</p><p>å¦‚æœä¸çŸ¥é“rssè®¢é˜…æ˜¯ä»€ä¹ˆçš„è¯ï¼Œå¯ä»¥çœ‹ä¸‹è¿™ä¸ªæ–‡ç« <br><a href="https://blog.zhheo.com/p/9158a43c.html">RSSä¸Šæ‰‹æ•™ç¨‹ï¼šèšåˆè‡ªå·±çš„ä¿¡æ¯æ”¶é›†æ¸ é“ï¼ŒRSSHubã€FreshRSSã€NetNewsWir</a></p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>è·Ÿæœ‹å‹äº¤æµçªç„¶å‘ç°åŸæ¥hexoæœ‰rssè®¢é˜…æ’ä»¶ï¼Œä¹Ÿæäº†ä¸€ä¸‹è®¢é˜…åœ°å€ä¸º<code>https://daoxuan.cc/atom.xml</code></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;åšå®¢rssæ›´æ–°è®°å½•&quot;&gt;&lt;a href=&quot;#åšå®¢rssæ›´æ–°è®°å½•&quot; class=&quot;headerlink&quot; title=&quot;åšå®¢rssæ›´æ–°è®°å½•&quot;&gt;&lt;/a&gt;åšå®¢rssæ›´æ–°è®°å½•&lt;/h1&gt;&lt;blockquote&gt;
&lt;</summary>
      
    
    
    
    
    <category term="åšå®¢" scheme="https://daoxuan.cc/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>fatal: unable to access &#39;https://github.com/username/repo.git/&#39;: GnuTLS recv error (-110): The TLS connection was non-properly terminated.</title>
    <link href="https://daoxuan.cc/posts/27467/"/>
    <id>https://daoxuan.cc/posts/27467/</id>
    <published>2024-12-12T15:26:52.000Z</published>
    <updated>2025-03-25T01:38:29.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="fatal-unable-to-access-â€˜https-github-com-username-repo-git-â€˜-GnuTLS-recv-error-110-The-TLS-connection-was-non-properly-terminated"><a href="#fatal-unable-to-access-â€˜https-github-com-username-repo-git-â€˜-GnuTLS-recv-error-110-The-TLS-connection-was-non-properly-terminated" class="headerlink" title="fatal: unable to access â€˜https://github.com/username/repo.git/â€˜: GnuTLS recv error (-110): The TLS connection was non-properly terminated."></a>fatal: unable to access â€˜<a href="https://github.com/username/repo.git/">https://github.com/username/repo.git/</a>â€˜: GnuTLS recv error (-110): The TLS connection was non-properly terminated.</h1><p>è§£å†³æ–¹æ¡ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get install gnutls-bin</span><br><span class="line">git config --global http.sslVerify <span class="literal">false</span></span><br><span class="line">git config --global http.postBuffer 1048576000</span><br></pre></td></tr></table></figure><ol><li>å®‰è£…gnutls-bin</li><li>ç¦ç”¨å…¨å±€SSLéªŒè¯</li><li>å¢å¤§ http.postBuffer çš„å¤§å°ï¼Œhttp.postBuffer å†³å®šäº† Git å‘è¿œç¨‹æœåŠ¡å™¨å‘é€æ•°æ®æ—¶çš„ç¼“å†²åŒºå¤§å°ï¼Œé»˜è®¤å€¼ä¸º 1MBã€‚å°†ç¼“å†²åŒºå¤§å°å¢å¤§åˆ° 1GBï¼ˆ1048576000 å­—èŠ‚ï¼‰å¯ä»¥è§£å†³å› æ•°æ®é‡å¤§å¯¼è‡´çš„æ¨é€ä¸­æ–­é—®é¢˜ã€‚</li></ol></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;fatal-unable-to-access-â€˜https-github-com-username-repo-git-â€˜-GnuTLS-recv-error-110-The-TLS-connection</summary>
      
    
    
    
    <category term="æŠ¥é”™" scheme="https://daoxuan.cc/categories/%E6%8A%A5%E9%94%99/"/>
    
    
    <category term="æŠ¥é”™" scheme="https://daoxuan.cc/tags/%E6%8A%A5%E9%94%99/"/>
    
  </entry>
  
  <entry>
    <title>æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ</title>
    <link href="https://daoxuan.cc/posts/5430/"/>
    <id>https://daoxuan.cc/posts/5430/</id>
    <published>2024-12-11T11:08:51.000Z</published>
    <updated>2025-03-24T06:46:41.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ"><a href="#æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ" class="headerlink" title="æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ"></a>æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ</h1><blockquote><p>æ˜¨å¤©å’Œå¥³æœ‹å‹çªç„¶å‘ç”Ÿäº†çŸ›ç›¾ï¼Œå…¶å®å†²çªæ—¶é—´æ€»ä½“ä¹Ÿä¸åˆ°ä¸¤åˆ†é’Ÿï¼Œèµ·å› æ˜¯å› ä¸ºæˆ‘è¯´äº†ä¸€å¥è¯å¥³æœ‹å‹åˆšå¼€å§‹æ²¡æœ‰å¬æ¸…ï¼Œåç»­åœ¨æˆ‘å¤šæ¬¡å¼ºè°ƒä¹‹åï¼Œå¥¹ç»§ç»­æŒ‰ç…§å¥¹å¬é”™çš„è¯è®²è¯ï¼Œè€Œæˆ‘å¤§å£°çš„è´¨é—®å¥¹åˆ°åº•æœ‰æ²¡æœ‰å¬æ¸…æˆ‘è¯´è¯ã€‚</p><p>ä¹‹åè¯´äº†å‡ å¥è¯è®°ä¸æ¸…äº†ï¼Œä¸è¿‡éšåå¥¹æŒ‚æ–­äº†ç”µè¯ã€‚</p><p>æˆ‘åœ¨å¾®ä¿¡é‡Œé¢å›å¤äº†ä¸€å¥æœ‰ç—…å§</p><p><img src="https://easyimage.daoxuan.cc/i/2024/12/11/u905lz.png" alt="" style="zoom: 67%;" /></p><p>ç„¶åæˆ‘ä»¬ä¸€æ™šä¸Šæ²¡æœ‰å‘æ¶ˆæ¯ï¼Œç›´åˆ°ç¬¬äºŒå¤©çš„ä¸‹åˆå››ç‚¹</p><p><img src="https://easyimage.daoxuan.cc/i/2024/12/11/uarbr7.png" alt="" style="zoom:50%;" /></p></blockquote><p>äº‹æƒ…ç»è¿‡ä¾¿æ˜¯å¦‚æ­¤ï¼Œå½“æ—¶æˆ‘æ­£åœ¨ä¸Šè¯¾ï¼Œæ‰€ä»¥æ²¡æœ‰é€‰æ‹©å›å¤ï¼Œå› ä¸ºä¸€å¥ä¸¤å¥è¯´ä¸æ¸…ã€‚</p><p>ä¸‹è¯¾åä¾¿ç»™å¥¹æ‰“äº†ç”µè¯ï¼Œå¥¹å¼€å£çš„ç¬¬ä¸€å¥è¯æ˜¯ä¸ºä»€ä¹ˆå·å·å–äº†å¥¹ç»™æˆ‘ä¹°çš„è¢œå­ï¼ŒæŒºå¯çˆ±çš„ï¼Œèƒ½çœ‹å‡ºæ¥å¥¹å¹¶ä¸æƒ³å’Œæˆ‘æœ‰çŸ›ç›¾ï¼Œä¹Ÿæ²¡æœ‰å¾ˆç”Ÿæ°”ã€‚</p><p>ä¸è¿‡å¾ˆå¿«æˆ‘ä»¬å°±å¯¹æ˜¨å¤©çš„äº‹æƒ…è¿›è¡Œäº†è®ºè¯ï¼Œè®ºè¯è¿‡ç¨‹ä¾¿ä¸å†èµ˜è¿°ï¼Œæ€»ä¹‹æ˜¯ç†æ€§è¾©è®ºä¸æ„Ÿæ€§è¾©è®ºçš„å¤æ‚äº¤ç»‡ï¼Œç†æ€§è§’åº¦ä¸æ²¾é“ç†ä¾¿ä¼šä»æ„Ÿæ€§è§’åº¦å»è¯´ï¼Œè¿™å¾ˆæ­£å¸¸ã€‚</p><p>ç»“æœæˆ‘å¹¶æ²¡æœ‰é“æ­‰ï¼Œæˆ‘ä¸æƒ³é“æ­‰ï¼Œåœ¨è¿™ç§ä¸¤äººéƒ½æœ‰ç‚¹é—®é¢˜çš„å±€é¢ã€‚</p><p>è¿™é€šç”µè¯å…¶å®ä¸äº†äº†ä¹‹ç®—æ˜¯ã€‚</p><p>ä½†æ˜¯å¾ˆå¿«å¥¹åƒå¹³æ—¶ä¸€æ ·ç»™æˆ‘å‘æ¶ˆæ¯</p><p><img src="https://easyimage.daoxuan.cc/i/2024/12/11/ugc9yg.jpg" alt=""></p><p>å½“ç„¶ï¼Œè¿™å¹¶ä¸ä»£è¡¨å¥¹ä½å¤´äº†ï¼Œæˆ–è€…æ˜¯åœ¨æ„Ÿæƒ…ä¸­å‘å¾®çš„ä¸€æ–¹ï¼Œæˆ‘ä»¬åœ¨ä¸€èµ·è¿˜æœ‰åå¤šå¤©å°±4å‘¨å¹´äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§ç£¨åˆåçš„ç»“æœï¼Œæˆ‘ä»¬éƒ½çŸ¥é“è¿™ä»¶äº‹æƒ…æ²¡ä»€ä¹ˆï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å»äº‰ï¼Ÿ</p><p>æ­£å¦‚é¢˜ç›®æ‰€è¨€ï¼Œæˆ‘å¼€å§‹æ€è€ƒï¼Œæƒ…ä¾£ä¹‹å‰ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿåœ¨è¿™ç§éƒ½è®¤ä¸ºè‡ªå·±æœ‰ç‚¹é“ç†çš„æƒ…å†µä¸‹ã€‚</p><p>è¯´é‡è¦çš„è¯æœ‰å®ƒçš„é“ç†ï¼š</p><p>ä¸€æ–¹é¢ï¼Œå…ˆæ‰¿è®¤é”™è¯¯çš„é‚£ä¸€æ–¹ï¼Œä¾¿æœ‰ä¸€ç§åœ¨æ„Ÿæƒ…ä¸­åœ°ä½ä½ä¸‹çš„æ„Ÿè§‰ï¼Œä¸€æ¬¡ä¸¤æ¬¡å½“ç„¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¯ä»¥è¯´æ˜è¿™æ˜¯ä¸€ä¸ªæ¸©æŸ”å¤§åº¦çš„äººï¼Œå…ˆè¿›è¡Œè®©æ­¥ï¼Œå¸Œæœ›æ„Ÿæƒ…ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œä½†é—®é¢˜æ˜¯æˆ‘ä»¬æ€»è¦ä¸€èµ·ç”Ÿæ´»ï¼Œä¸€ç›´ä¸€èµ·ç”Ÿæ´»ï¼Œæ¯æ¬¡éƒ½æ˜¯åŒä¸€ä¸ªäººè®©æ­¥çš„è¯ä¹Ÿæ€»ä¼šä¸å¯¹åŠ²çš„ã€‚æ‰€ä»¥æˆ‘åœ¨è€ƒè™‘è®©æ­¥çš„æ—¶å€™ï¼Œä¹Ÿä¼šè€ƒè™‘åˆ°ä»¥åæ˜¯å¦ä¹Ÿéœ€è¦è¿™æ ·ï¼Œäºæ˜¯åšæŒè‡ªå·±çš„ç«‹åœºã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œæ¯æ¬¡çŸ›ç›¾çš„å‡ºç°éƒ½è¯´æ˜äº†ä¸€å®šçš„é—®é¢˜ï¼Œæˆ‘ä»¬æ˜¯éœ€è¦å»æ·±ç©¶å…¶çœŸæ­£çš„åŸå› çš„ï¼Œç„¶åè¿›è¡Œæ”¹æ­£ï¼Œè¿™æ ·æ„Ÿæƒ…æ‰èƒ½é•¿ä¹…ã€‚</p><p>å¦‚æœè¯´ä¸é‡è¦çš„è¯ï¼š</p><p>æ„Ÿè§‰ï¼Œå½“çœŸçš„æ˜¯äº‰è®ºå‡ºæ¥çš„å¯¹é”™çš„è¯ï¼Œå¤±è´¥çš„é‚£ä¸€æ–¹ä¸ä¼šå¾ˆèˆ’æœï¼Œè€Œèƒœåˆ©çš„ä¸€æ–¹ä¹Ÿä¸ä¼šå¾ˆå¼€å¿ƒï¼ˆå½“ç„¶å¦‚æœè¾©è®ºèƒœåˆ©å°±æ´‹æ´‹å¾—æ„çš„è¯ï¼Œå…¶å®å°±å¾ˆä¸å¯¹åŠ²äº†ï¼‰ï¼Œæœ¬æ¥å°±æ˜¯ç›¸çˆ±çš„ä¸¤ä¸ªäººï¼Œå¹²å˜›è¦åƒç«äº‰å¯¹æ‰‹ä¸€æ ·å»äº‰è®ºå‘¢ï¼Ÿçœ‹ä¼¼åˆ†å‡ºèƒœè´Ÿï¼Œå®åˆ™ä¸¤è´¥ä¿±ä¼¤ã€‚</p><p>äººæ˜¯å¤æ‚çš„åŠ¨ç‰©ï¼Œæ„Ÿæƒ…åˆ™æ›´æ˜¯å¤æ‚ï¼Œæˆ‘å¯ä»¥èŠ±å››å¹´æ—¶é—´æ‘¸é€å¥³æœ‹å‹çš„æ€§æ ¼ï¼Œæˆ‘æ¸…æ¥šçš„çŸ¥é“æ€ä¹ˆåšå¯ä»¥å¿«é€Ÿç»“æŸè¿™ä»¶å°äº‹ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å»åšã€‚å› ä¸ºæˆ‘çŸ¥é“æ„Ÿæƒ…ä¸åšé¢˜ä¸åŒï¼Œä¸èƒ½å¦‚åŒåšé¢˜ä¸€èˆ¬ï¼šâ€œæœ‰å…¬å¼ï¼Œç§’äº†ï¼â€ï¼Œ</p><p>æˆ‘å¯Ÿè§‰åˆ°è‡ªå·±å¾ˆçŸ›ç›¾ï¼Œå› æ­¤ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘éœ€è¦ç†ä¸€ç†è‡ªå·±çš„æ€è·¯ï¼Œéœ€è¦æ€è€ƒï¼Œä»¥ä¸€ä¸ªè®¤çœŸçš„æ€åº¦å»æ€è€ƒï¼Œ</p><p>æ‰€ä»¥ï¼Œæƒ…ä¾£ä¹‹å‰ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ</p><p>æˆ‘è§‰å¾—ï¼Œæ‹çˆ±çš„ä¸¤ä¸ªäººçš„äº‹æƒ…ï¼Œè§‚å¿µç»Ÿä¸€æ‰æ˜¯æœ€é‡è¦çš„ï¼Œå› æ­¤â€œå¯¹ä¸é”™é‡ä¸é‡è¦â€å¹¶ä¸é‡è¦ï¼Œæˆ‘ä»¬ä¸¤ä¸ªéƒ½è§‰å¾—é‡è¦çš„è¯ï¼Œå®ƒä¾¿æ˜¯é‡è¦çš„ï¼Œéƒ½è§‰å¾—æ— æ‰€è°“çš„è¯ï¼Œå®ƒä¾¿ä¸é‡è¦ã€‚</p><p>æ‰€ä»¥è¿˜æ˜¯é™ä¸‹å¿ƒæ¥ä¸€èµ·èŠä¸ªå¤©å§</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;æƒ…ä¾£ä¹‹é—´ï¼Œå¯¹ä¸é”™çœŸçš„é‡è¦ä¹ˆ</summary>
      
    
    
    
    <category term="æ‹çˆ±" scheme="https://daoxuan.cc/categories/%E6%81%8B%E7%88%B1/"/>
    
    
    <category term="æ‹çˆ±" scheme="https://daoxuan.cc/tags/%E6%81%8B%E7%88%B1/"/>
    
  </entry>
  
  <entry>
    <title>butterflyé­”æ”¹æ—¶å€™æŠ¥é”™</title>
    <link href="https://daoxuan.cc/posts/51950/"/>
    <id>https://daoxuan.cc/posts/51950/</id>
    <published>2024-12-08T16:00:49.000Z</published>
    <updated>2024-12-08T16:00:49.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><div class="tip "><p>å¯¹äºä¸€ä¸ªå‰ç«¯çŸ¥è¯†å…¨é ç”¨çš„æ—¶å€™å­¦çš„åç«¯èœèœï¼Œæœ€å¤´ç–¼çš„è«è¿‡äºä»¿ç…§å¤§ä½¬æ›´æ”¹æºç ä¹‹å<code>hexo g</code>æŠ¥é”™</p></div><blockquote><p>ä»Šå¤©åˆ†äº«ä¸€ä¸ªé”™è¯¯</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Only named blocks and mixins can appear at the top level of an extending template</span><br></pre></td></tr></table></figure><h1 id="è¿™ä¸ªé”™è¯¯çš„æ­£è§„è§£ç­”æ˜¯è¿™æ ·çš„"><a href="#è¿™ä¸ªé”™è¯¯çš„æ­£è§„è§£ç­”æ˜¯è¿™æ ·çš„" class="headerlink" title="è¿™ä¸ªé”™è¯¯çš„æ­£è§„è§£ç­”æ˜¯è¿™æ ·çš„"></a>è¿™ä¸ªé”™è¯¯çš„æ­£è§„è§£ç­”æ˜¯è¿™æ ·çš„</h1><p>Pugçš„æ¨¡æ¿ç»§æ‰¿æ˜¯ä¸€é¡¹å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¯è®©æ‚¨å°†å¤æ‚çš„é¡µé¢æ¨¡æ¿ç»“æ„æ‹†åˆ†ä¸ºæ›´å°ï¼Œæ›´ç®€å•çš„æ–‡ä»¶ã€‚ ä½†æ˜¯ï¼Œå¦‚æœå°†è®¸å¤šæ¨¡æ¿é“¾æ¥åœ¨ä¸€èµ·ï¼Œåˆ™å¯èƒ½ä¼šä½¿é¡µé¢å¤æ‚å¾—ä¸å¯ç»´æŠ¤ã€‚</p><p>è¯·æ³¨æ„ï¼Œåªæœ‰å‘½åå—<code>(block)</code>å’Œæ··åˆå®šä¹‰å¯ä»¥å‡ºç°åœ¨å­æ¨¡æ¿çš„é¡¶å±‚ï¼ˆæœªç¼©è¿›ï¼‰ï¼Œé¡¶å±‚ä¸èƒ½å‡ºç°å…¶ä»–å†…å®¹ï¼Œå¦‚<code>lin()</code>ï¼Œ<code>script</code>ï¼Œå’Œæ™®é€šçš„æ ‡ç­¾å¦‚<code>div(class=&quot;content&quot;)</code>ã€‚ è¿™ä¸ªå¾ˆé‡è¦ï¼ å¦åˆ™ä¼šæŠ¥é”™ï¼š<code>Only named blocks and mixins can appear at the top level of an extending template</code>ã€‚çˆ¶æ¨¡æ¿å®šä¹‰é¡µé¢çš„æ•´ä½“ç»“æ„ï¼Œå­æ¨¡æ¿åªèƒ½é™„åŠ ï¼Œæ·»åŠ æˆ–æ›¿æ¢ç‰¹å®šçš„æ ‡è®°å’Œé€»è¾‘å—ã€‚ å¦‚æœå­æ¨¡æ¿è¯•å›¾åœ¨å—å¤–æ·»åŠ å†…å®¹ï¼ŒPugå°†æ— æ³•çŸ¥é“å°†å…¶æ”¾ç½®åœ¨æœ€ç»ˆé¡µé¢çš„ä½•å¤„ã€‚</p><p>ä½¿ç”¨æœªç¼“å†²çš„ä»£ç ï¼Œå¦‚æœéœ€è¦åœ¨å­æ¨¡å—ä¸­ä½¿ç”¨å˜é‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸‹é¢å‡ ç§ä¸åŒçš„æ–¹æ³•ï¼š</p><ul><li>å°†å˜é‡æ·»åŠ åˆ°Pugé€‰é¡¹å¯¹è±¡ï¼Œæˆ–åœ¨çˆ¶æ¨¡æ¿çš„æœªç¼“å†²ä»£ç ä¸­å®šä¹‰å®ƒä»¬ã€‚ å­æ¨¡æ¿å°†ç»§æ‰¿è¿™äº›å˜é‡ã€‚</li><li>åœ¨å­æ¨¡æ¿çš„å—ä¸­å®šä¹‰å˜é‡ã€‚ æ‰©å±•æ¨¡æ¿å¿…é¡»è‡³å°‘åŒ…å«ä¸€ä¸ªå—ï¼Œå¦åˆ™å°†ä¸ºç©º-åªéœ€åœ¨æ­¤å¤„å®šä¹‰å˜é‡å³å¯ã€‚</li></ul><p>å‡ºäºåŒæ ·çš„åŸå› ï¼ŒPugçš„ç¼“å†²æ³¨é‡Šä¸èƒ½å‡ºç°åœ¨æ‰©å±•æ¨¡æ¿çš„é¡¶å±‚ï¼šå®ƒä»¬äº§ç”Ÿçš„HTMLæ³¨é‡Šåœ¨ç”Ÿæˆçš„HTMLä¸­æ— å¤„æ¸²æŸ“ã€‚ ï¼ˆä½†æ˜¯ï¼Œæ— ç¼“å†²çš„Pugæ³¨é‡Šä»ç„¶å¯ä»¥ï¼‰</p><blockquote><p>æˆ‘çš„ä¸€ä¸ªæ„šè ¢çš„é”™è¯¯æ˜¯ï¼šåœ¨åšå¤‡ä»½æ–¹é¢è‡ªä»¥ä¸ºæ˜¯äº†ã€‚</p></blockquote><p>é‰´äºä»¥å¾€åšDjangoé¡¹ç›®çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæˆ‘ä»¥ä¸º<code>\\</code>è¿™ç§æ³¨é‡Šåœ¨ä»€ä¹ˆæ ¼å¼çš„æ–‡ä»¶éƒ½è¡Œå¾—é€šï¼Œåªç”¨ç®€å•å¿«æ·é”®<kbd>Ctrl</kbd> + <kbd>/</kbd>å°±å¯ä»¥å¤§åŠŸå‘Šæˆï¼ŒæˆåŠŸå¤‡ä»½ï¼Œäº‹å®ä¸Šåœ¨<code>png</code>æ ¼å¼çš„æ–‡æœ¬ä¸­æˆ‘åƒäº†äº</p><h1 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h1><p>æ¯ç§æ–‡ä»¶çš„æ³¨é‡Šæ–¹å¼ä¸åŒï¼Œä¸€å®šä¸è¦è‡ªä»¥ä¸ºæ˜¯ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;div class=&quot;tip &quot;&gt;&lt;p&gt;å¯¹äºä¸€ä¸ªå‰ç«¯çŸ¥è¯†å…¨é ç”¨çš„æ—¶å€™å­¦çš„åç«¯èœèœï¼Œæœ€å¤´ç–¼çš„è«è¿‡äºä»¿ç…§å¤§ä½¬æ›´æ”¹æºç ä¹‹å&lt;code&gt;hexo g&lt;/code&gt;æŠ¥é”™&lt;/p&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»Š</summary>
      
    
    
    
    <category term="æŠ¥é”™" scheme="https://daoxuan.cc/categories/%E6%8A%A5%E9%94%99/"/>
    
    
    <category term="butterfly" scheme="https://daoxuan.cc/tags/butterfly/"/>
    
    <category term="æŠ¥é”™" scheme="https://daoxuan.cc/tags/%E6%8A%A5%E9%94%99/"/>
    
  </entry>
  
  <entry>
    <title>Beegoå¯åŠ¨ï¼ï¼ï¼</title>
    <link href="https://daoxuan.cc/posts/3200/"/>
    <id>https://daoxuan.cc/posts/3200/</id>
    <published>2024-10-28T12:48:56.000Z</published>
    <updated>2025-03-24T06:48:05.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="beegoå¯åŠ¨ï¼ï¼ï¼"><a href="#beegoå¯åŠ¨ï¼ï¼ï¼" class="headerlink" title="beegoå¯åŠ¨ï¼ï¼ï¼"></a>beegoå¯åŠ¨ï¼ï¼ï¼</h1><h2 id="Beegoæ ¸å¿ƒåŒ…"><a href="#Beegoæ ¸å¿ƒåŒ…" class="headerlink" title="Beegoæ ¸å¿ƒåŒ…"></a>Beegoæ ¸å¿ƒåŒ…</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> get -u github.com/beego/beego/v2</span><br></pre></td></tr></table></figure><h2 id="beeå·¥å…·"><a href="#beeå·¥å…·" class="headerlink" title="beeå·¥å…·"></a>beeå·¥å…·</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> install github.com/beego/bee/v2@latest</span><br></pre></td></tr></table></figure><h2 id="æŠŠ-GOPATH-bin-æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­"><a href="#æŠŠ-GOPATH-bin-æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­" class="headerlink" title="æŠŠ $GOPATH/bin æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­"></a>æŠŠ <code>$GOPATH/bin</code> æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­</h2><p>macï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:$GOPATH/bin</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨beeåˆ›å»ºé¡¹ç›®"><a href="#ä½¿ç”¨beeåˆ›å»ºé¡¹ç›®" class="headerlink" title="ä½¿ç”¨beeåˆ›å»ºé¡¹ç›®"></a>ä½¿ç”¨beeåˆ›å»ºé¡¹ç›®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bee new [é¡¹ç›®åç§°]</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œé¡¹ç›®"><a href="#è¿è¡Œé¡¹ç›®" class="headerlink" title="è¿è¡Œé¡¹ç›®"></a>è¿è¡Œé¡¹ç›®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bee run</span><br></pre></td></tr></table></figure><h2 id="app-conf"><a href="#app-conf" class="headerlink" title="app.conf"></a>app.conf</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">appname = beego</span><br><span class="line">httpport = 8080</span><br><span class="line">runmode = dev</span><br><span class="line"></span><br><span class="line"># å¤„ç†JSONè¯·æ±‚å‚æ•°</span><br><span class="line">copyrequestbody = true</span><br><span class="line"></span><br><span class="line"># ç¦æ­¢è‡ªåŠ¨æ¸²æŸ“æ¨¡æ¿</span><br><span class="line">autorender = false</span><br><span class="line">#åŒ…å«MySQLé…ç½®æ–‡ä»¶</span><br><span class="line">include &quot;mysql.conf&quot;</span><br><span class="line"></span><br><span class="line">sessionon = true # å¼€å¯session</span><br><span class="line">sessionname = &quot;beegosessionID&quot; # beegosessionID</span><br><span class="line">sessiongcmaxlifetime = 3600 # sessionè¿‡æœŸæ—¶é—´</span><br><span class="line">SessionCookieLifeTime = 3600 # session id çš„è¿‡æœŸæ—¶é—´ï¼Œå› ä¸ºå…¶ä¿å­˜åœ¨cookieä¸­</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;beegoå¯åŠ¨ï¼ï¼ï¼&quot;&gt;&lt;a href=&quot;#beegoå¯åŠ¨ï¼ï¼ï¼&quot; class=&quot;headerlink&quot; title=&quot;beegoå¯åŠ¨ï¼ï¼ï¼&quot;&gt;&lt;/a&gt;beegoå¯åŠ¨ï¼ï¼ï¼&lt;/h1&gt;&lt;h2 id=&quot;Be</summary>
      
    
    
    
    
    <category term="Beego" scheme="https://daoxuan.cc/tags/Beego/"/>
    
  </entry>
  
  <entry>
    <title>Windowsè¿œç¨‹è¿æ¥æ–¹æ¡ˆï¼ˆå…¬ç½‘ï¼‰</title>
    <link href="https://daoxuan.cc/posts/26473/"/>
    <id>https://daoxuan.cc/posts/26473/</id>
    <published>2024-09-26T17:06:20.000Z</published>
    <updated>2025-03-25T01:34:21.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>è‡ªä»å…¥äº†MacBookä¹‹åï¼Œæˆ‘çš„Windowså°±é•¿æœŸå…¥ä½åœ¨å®¿èˆäº†ï¼Œå¹³æ—¶ä½¿ç”¨è¿œç¨‹è¿æ¥ä½¿ç”¨ï¼Œä¸è¿‡æ­£ç›´å›½åº†èŠ‚ï¼Œå‡ºå»ç©è‡ªç„¶æ˜¯å¸¦ç€MacBookè€Œä¸æ˜¯æˆ‘çš„Windowsæ¿ç –æ¸¸æˆæœ¬ï¼ŒçœŸå¤Ÿæ²‰çš„ã€‚åœ¨å¤–é¢ä¸èƒ½é€šè¿‡å†…ç½‘è¿æ¥Windowsï¼ˆæ²¡æœ‰å»ºä»£ç†ï¼‰ï¼Œå› æ­¤æœç´¢äº†ä¸€ä¸‹å†…ç½‘ç©¿é€æ–¹æ¡ˆã€‚</p><h2 id="å…¥æ‰‹cpolar"><a href="#å…¥æ‰‹cpolar" class="headerlink" title="å…¥æ‰‹cpolar"></a>å…¥æ‰‹<code>cpolar</code></h2><p>åœ°å€ï¼š<a href="https://www.cpolar.com/"><code>cpolar</code>å®˜ç½‘</a></p><p>å¯¹äºWindowsæ¥è¯´æ­¥éª¤å¤æ‚ï¼š</p><ol><li>ç™»å½•å®˜ç½‘ï¼Œæ³¨å†Œè´¦å·</li><li>ä¸‹è½½Windowsç‰ˆæœ¬çš„<code>cpolar</code></li><li>è§£å‹å®‰è£…</li><li>åœ¨æœ¬åœ°æµè§ˆå™¨è®¿é—®127.0.0.1:9200ç™»å½•web UIç•Œé¢ï¼ˆä½¿ç”¨çš„å°±æ˜¯åˆšåˆšæ³¨å†Œçš„è´¦å·ï¼‰</li><li>æ ¹æ®è‡ªå·±éœ€æ±‚åˆ›å»ºéš§é“å°±å¥½ï¼ˆé»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªåç§°ä¸º<code>remoteDesktop</code>çš„éš§é“ï¼Œç›´æ¥å¯åŠ¨å°±è¡Œï¼‰</li><li>å¯åŠ¨éš§é“</li></ol><p>åˆ†é…çš„éšæœºåŸŸåå¯ä»¥é€šè¿‡å®˜ç½‘ç™»å½•æŸ¥çœ‹ï¼Œä¸éœ€è¦ç‰¹æ„å»è®°å¿†</p><h2 id="è¿œç¨‹è¿æ¥"><a href="#è¿œç¨‹è¿æ¥" class="headerlink" title="è¿œç¨‹è¿æ¥"></a>è¿œç¨‹è¿æ¥</h2><p>macç«¯æˆ‘ä½¿ç”¨çš„æ˜¯Windows Appè¿™ä¸ªè½¯ä»¶ï¼ˆæœ€è¿‘åˆšåˆšæ›´æ–°ï¼‰ï¼Œä¹‹å‰å«Microsoft remote desktop</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>ä½“éªŒä¸Šæ¥è®²è¿˜æ˜¯è›®æµç•…çš„ï¼Œä¹‹å‰ç”¨è¿‡æ¨±èŠ±<code>frp</code>å†…ç½‘ç©¿é€ï¼Œé‚£ä¸ªä¹Ÿä¸é”™ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;è‡ªä»å…¥äº†MacBookä¹‹åï¼Œæˆ‘çš„Windowså°±é•¿æœŸå…¥ä½åœ¨å®¿èˆäº†ï¼Œå¹³æ—¶ä½¿ç”¨è¿œç¨‹</summary>
      
    
    
    
    
    <category term="å·¥ä½œæµ" scheme="https://daoxuan.cc/tags/%E5%B7%A5%E4%BD%9C%E6%B5%81/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³åœ¨remoteappä¸­edgeæ‰“ä¸å¼€çš„é—®é¢˜</title>
    <link href="https://daoxuan.cc/posts/52000/"/>
    <id>https://daoxuan.cc/posts/52000/</id>
    <published>2024-06-16T16:55:01.000Z</published>
    <updated>2025-03-24T06:50:01.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><p>åœ¨remoteappä¸­ç‚¹å‡»edgeæ‰“ä¸å¼€</p><p><strong>åˆ†æåŸå› ï¼š</strong></p><p>remoteappè¿æ¥æœåŠ¡ç«¯æœºå™¨æ—¶ä¼šä½¿ç”¨ä¸€ä¸ªç”¨æˆ·å¯¹æœåŠ¡ç«¯è¿›è¡Œç™»å½•</p><p>è¿œç¨‹æ¡Œé¢è¿æ¥ä¸­é‡å¤ä½¿ç”¨åŒä¸€ç”¨æˆ·ç™»å½•æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹æ–°è¿æ¥ä¼šé¡¶æ‰æ—§è¿æ¥ã€‚å¦‚æœå…è®¸åŒä¸€ç”¨æˆ·å¤šé‡ç™»é™†ï¼Œåˆ™ä¼šå»ºç«‹å¤šä¸ª sessionï¼Œå¹¶å­˜ã€‚ä½†å¤šä¸ª session ä¹‹é—´å†…å®¹å¹¶ä¸å…±äº«ã€‚<br>æˆ‘ä»¬ç§°ä¹‹ä¸ºSession Shadowing Modeï¼ˆä¼šè¯é‡å½±æ¨¡å¼ï¼‰</p><p>ç„¶è€Œæ— è®ºæœ‰å¤šå°‘ä¸ªsessionï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æœºå­å§‹ç»ˆæ˜¯åŒä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸å¯ä»¥å¤šå¼€çš„åº”ç”¨ä¾‹å¦‚å¾®ä¿¡ï¼Œå¦‚æœå·²ç»åœ¨ä¸€ä¸ªsessionä¸­æ‰“å¼€äº†ï¼Œé‚£ä¹ˆåœ¨å¦ä¸€ä¸ªsessionä¸­ä¾¿æ— æ³•æ‰“å¼€ã€‚</p><blockquote><p>æ‰€ä»¥æˆ‘æ¨æµ‹æ˜¯å› ä¸ºedgeå§‹ç»ˆåœ¨åå°è¿è¡Œå¹¶ä¸”å¼€æœºè‡ªå¯ï¼Œå› ä¸ºå…³é”®é‡å¯ä¹‹åä¾ç„¶æ— æ³•ä½¿ç”¨<code>remoteapp</code>æ‰“å¼€</p></blockquote><p>æŸ¥çœ‹edgeè®¾ç½®ï¼šedge://settings/system</p><p>å‘ç°æœ‰ä¸€ä¸ªï¼šå¯åŠ¨å¢å¼ºé…ç½®é¡¹ï¼Œé˜…è¯»åŸç†åå‘ç°ï¼Œå› ä¸ºè¿™ä¸ªé…ç½®å¯¼è‡´edgeæœ‰è¿›ç¨‹å¼€æœºè‡ªå¯ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><p>æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å…³é—­å¯åŠ¨å¢å¼ºå³å¯ã€‚</p><p>PSï¼šæ€»ç»“èµ·æ¥å°±æ˜¯ä¸å…è®¸å¤šå¼€çš„åº”ç”¨å¼€æœºè‡ªå¯çš„è¯å°±æ— æ³•ä½¿ç”¨<code>remoteapp</code>è¿æ¥ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;p&gt;åœ¨remoteappä¸­ç‚¹å‡»edgeæ‰“ä¸å¼€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆ†æåŸå› ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;remoteappè¿æ¥æœåŠ¡ç«¯æœºå™¨æ—¶ä¼šä½¿ç”¨ä¸€ä¸ªç”¨æˆ·å¯¹æœåŠ¡ç«¯è¿›è¡Œç™»å½•&lt;/p&gt;
&lt;p&gt;è¿œç¨‹æ¡Œé¢è¿æ¥ä¸­é‡</summary>
      
    
    
    
    
    <category term="remoteapp" scheme="https://daoxuan.cc/tags/remoteapp/"/>
    
  </entry>
  
  <entry>
    <title>æ£€éªŒå¯†ç å¼ºåº¦python</title>
    <link href="https://daoxuan.cc/posts/16342/"/>
    <id>https://daoxuan.cc/posts/16342/</id>
    <published>2024-06-03T07:59:56.000Z</published>
    <updated>2025-03-24T06:49:42.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">check_password</span>(<span class="params">self, password</span>):</span><br><span class="line">    score = <span class="number">0</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ä¸€ã€å¯†ç é•¿åº¦:</span></span><br><span class="line"><span class="string">        5 åˆ†: å°äºç­‰äº 4 ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="string">        10 åˆ†: 5 åˆ° 7 å­—ç¬¦</span></span><br><span class="line"><span class="string">        25 åˆ†: å¤§äºç­‰äº 8 ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        äºŒã€å­—æ¯:</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        0 åˆ†: æ²¡æœ‰å­—æ¯</span></span><br><span class="line"><span class="string">        10 åˆ†: å…¨éƒ½æ˜¯å°ï¼ˆå¤§ï¼‰å†™å­—æ¯20 åˆ†: å¤§å°å†™æ··åˆå­—æ¯</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        ä¸‰ã€æ•°å­—:</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        0åˆ†: æ²¡æœ‰æ•°å­—</span></span><br><span class="line"><span class="string">        10åˆ†: 1 ä¸ªæ•°å­—</span></span><br><span class="line"><span class="string">        20åˆ†: å¤§äºç­‰äº 3ä¸ªæ•°å­—</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        å››ã€ç¬¦å·:</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        0åˆ†: æ²¡æœ‰ç¬¦å·</span></span><br><span class="line"><span class="string">        10åˆ†: 1ä¸ªç¬¦å·</span></span><br><span class="line"><span class="string">        25åˆ†: å¤§äº1ä¸ªç¬¦å·</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        äº”ã€å¥–åŠ±:</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        2åˆ†: å­—æ¯å’Œæ•°å­—</span></span><br><span class="line"><span class="string">        3åˆ†: å­—æ¯ã€æ•°å­—å’Œç¬¦å·</span></span><br><span class="line"><span class="string">        5åˆ†: å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç¬¦å·</span></span><br><span class="line"><span class="string">    :param password: å¯†ç </span></span><br><span class="line"><span class="string">    :return: åˆ†æ•°</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># é•¿åº¦</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(password) &lt;= <span class="number">4</span>:</span><br><span class="line">        score += <span class="number">5</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="number">5</span> &lt;= <span class="built_in">len</span>(password) &lt;= <span class="number">7</span>:</span><br><span class="line">        score += <span class="number">10</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        score += <span class="number">25</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å­—æ¯</span></span><br><span class="line">    <span class="keyword">if</span> password.isalpha():</span><br><span class="line">        score += <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> password.islower() <span class="keyword">or</span> password.isupper():</span><br><span class="line">        score += <span class="number">10</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        score += <span class="number">20</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ•°å­—</span></span><br><span class="line">    <span class="keyword">if</span> password.isdigit():</span><br><span class="line">        score += <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.isdigit()]) &gt;= <span class="number">3</span>:</span><br><span class="line">        score += <span class="number">20</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        score += <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç¬¦å·</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.isalnum()]) == <span class="number">0</span>:</span><br><span class="line">        score += <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> <span class="keyword">not</span> i.isalnum()]) == <span class="number">1</span>:</span><br><span class="line">        score += <span class="number">10</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        score += <span class="number">25</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¥–åŠ±</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.isalpha()]) &gt; <span class="number">0</span> <span class="keyword">and</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.isdigit()]) &gt; <span class="number">0</span>:</span><br><span class="line">        score += <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.isalpha()]) &gt; <span class="number">0</span> <span class="keyword">and</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.isdigit()]) &gt; <span class="number">0</span> <span class="keyword">and</span> <span class="built_in">len</span>(</span><br><span class="line">            [i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> <span class="keyword">not</span> i.isalnum()]) &gt; <span class="number">0</span>:</span><br><span class="line">        score += <span class="number">3</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.islower()]) &gt; <span class="number">0</span> <span class="keyword">and</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.isupper()]) &gt; <span class="number">0</span> <span class="keyword">and</span> <span class="built_in">len</span>(</span><br><span class="line">            [i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> i.isdigit()]) &gt; <span class="number">0</span> <span class="keyword">and</span> <span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> password <span class="keyword">if</span> <span class="keyword">not</span> i.isalnum()]) &gt; <span class="number">0</span>:</span><br><span class="line">        score += <span class="number">5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> score</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    
    <category term="python" scheme="https://daoxuan.cc/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>å…­çº§ç¬”è®°</title>
    <link href="https://daoxuan.cc/posts/44613/"/>
    <id>https://daoxuan.cc/posts/44613/</id>
    <published>2024-06-02T16:10:18.000Z</published>
    <updated>2024-12-09T17:21:50.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><p><strong>is vital to å¯¹è‡³å…³é‡è¦</strong></p><p>overall å…¨ä½“çš„</p><p>overlook å¿½è§†</p><p>affect å½±å“</p><p>regardless of ä¸ç®¡</p><p>have a great impact on å¯¹ Â·Â·Â· æœ‰å·¨å¤§å½±å“</p><p>productivity ç”Ÿäº§ç‡</p><p>motivated æœ‰ç§¯ææ€§çš„</p><p><strong>cope with å¯¹ä»˜</strong></p><p>gratitude æ„Ÿè°¢</p><p>contentment æ»¡è¶³</p><p>resilient æœ‰é€‚åº”åŠ›çš„ make sb. resilient to stress and adversity é€†å¢ƒ</p><p>empathetic æœ‰åŒæ„Ÿçš„ </p><p>compassionate å¯Œæœ‰åŒæƒ…å¿ƒçš„</p><p>conflict å†²çª</p><p>pay more attention to é‡è§†</p><p>society ç¤¾ä¼š</p><p>regret åæ‚”</p><p>forgive åŸè°…</p><p>terribleå¯æ€•çš„</p><p>up to now ç›´åˆ°ç°åœ¨</p><p>surpassè¶…è¿‡èƒœè¿‡</p><p>previously ä»¥å‰åœ°</p><p>volume é‡</p><p>affirm è¯æ˜ï¼Œè¯å®</p><p>formidable ä»¤äººæƒŠå¹çš„</p><p>distinct ä¸åŒçš„</p><p>overstate å¤¸å¤§</p><p>domain é¢†åŸŸ</p><p>prospect æœŸç›¼</p><p>correspond ä¸€è‡´ï¼Œè”ç³»</p><p>impact å½±å“</p><p>be anything but  ç»å¯¹ä¸æ˜¯</p><p>conversely ç›¸ååœ°</p><p>evidentæ˜æ˜¾çš„</p><p>evidence è¯æ˜ï¼Œè¿¹è±¡</p><p>virtue ç¾å¾·</p><p>thus å› æ­¤</p><p>cultural æ–‡åŒ–çš„</p><p>global å…¨çƒçš„</p><p>market è¶…å¸‚ï¼Œå¸‚åœº</p><p>increasinglyæ¸æ¸åœ°</p><p>overseas åœ¨æµ·å¤–</p><p>abroad åœ¨å›½å¤–</p><p>rapid è¿…é€Ÿçš„</p><p>consumer æ¶ˆè´¹è€…</p><p>foreign å¤–å›½çš„</p><p>trade è´¸æ˜“</p><p>export å‡ºå£</p><p>import è¿›å£</p><p>a number of ä¸€æ‰¹</p><p>enterpriseä¼ä¸š</p><p>brand å“ç‰Œ</p><p>international å›½é™…çš„</p><p>influence å½±å“ v or n</p><p>sale é”€å”®é‡</p><p>publication å‡ºç‰ˆç‰©</p><p>literature æ–‡å­¦</p><p>animation åŠ¨æ¼«</p><p>government æ”¿åºœ</p><p>introduce æ¨è¡Œ</p><p>a series of ä¸€ç³»åˆ—</p><p>policy æ”¿ç­–</p><p>enhance åŠ å¼º</p><p>promote ä¿ƒè¿›</p><p>essential é‡è¦</p><p>harmonious å’Œè°çš„</p><p>conflict å†²çª</p><p>perspectiveè§†è§’</p><p>outcome ç»“æœ</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;p&gt;&lt;strong&gt;is vital to å¯¹è‡³å…³é‡è¦&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;overall å…¨ä½“çš„&lt;/p&gt;
&lt;p&gt;overlook å¿½è§†&lt;/p&gt;
&lt;p&gt;affect å½±å“&lt;/p&gt;
&lt;p&gt;regardles</summary>
      
    
    
    
    
    <category term="è‹±è¯­" scheme="https://daoxuan.cc/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>è§‚å½±æœ€ä½³ä½ç½®</title>
    <link href="https://daoxuan.cc/posts/9815/"/>
    <id>https://daoxuan.cc/posts/9815/</id>
    <published>2024-02-22T13:21:50.000Z</published>
    <updated>2024-12-08T16:00:47.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><blockquote><p>ä»¥ä¸‹å†…å®¹é€‰å–è‡ªé’æ˜¥å±±ä¸œå…¬ä¼—å·</p></blockquote><p><strong>2Dç”µå½±</strong></p><p>æ ¹æ®ç¾å›½ç”µå½±ç”µè§†å·¥ç¨‹å¸ˆåä¼šå…¬å¸ƒçš„æœ€ä½³è§‚å½±ä½ç½®å‡†åˆ™ï¼Œè§‚çœ‹2Dç”µå½±ï¼Œ<strong>é¦–å…ˆéœ€è¦ç”»é¢å°½é‡å æ»¡è§†é‡ï¼Œè§‚ä¼—ä¸å±å¹•ä¸¤ä¾§çš„è§†çº¿å¤¹è§’è‡³å°‘è¦â‰¥36Â°ï¼Œ</strong>ç¤ºæ„å›¾å¦‚ä¸‹ã€‚</p><p><img src="https://picture.daoxuan.cc/image/202402222156676.png" alt="å›¾ç‰‡"></p><p>å…¶æ¬¡ï¼Œä¸ºé¿å…é€ æˆé¢ˆæ¤ç–²åŠ³ï¼Œ<strong>è§‚ä¼—ä¸é“¶å¹•æ°´å¹³çº¿ä¹‹é—´çš„ä»°è§’ä¸å®œè¶…è¿‡35Â°ï¼Œ</strong>ç¤ºæ„å›¾å¦‚ä¸‹ã€‚</p><p><img src="https://picture.daoxuan.cc/image/202402222156076.png" alt="å›¾ç‰‡"></p><p>åŸºäºè¿™ä¸¤æ¡åŸåˆ™ï¼Œä¸é“¶å¹•ä¸€ä¾§æ°´å¹³å¤¹è§’è¿‡å°çš„åä¸¤ä¾§çš„åº§ä½ã€ä»°è§’è¿‡å¤§çš„æœ€å‰æ’åº§ä½ã€ç¦»å±å¹•å¤ªè¿œä¸”ç¦»åç½®éŸ³å“è¿‡è¿‘çš„æœ€åæ’åº§ä½ï¼Œéƒ½ä¼šå½±å“è§‚å½±è§†å¬æ•ˆæœä½“éªŒï¼Œæ‰€ä»¥è¦æƒ³è·å¾—è¾ƒå¥½çš„è§‚å½±ä½“éªŒï¼Œå°±ä¸å®œé€‰æ‹©è¿™å‡ ç§åº§ä½ã€‚</p><p>ç»¼åˆè§†å¬æ•ˆæœæ¥è€ƒè™‘ï¼Œä¸ºæ–¹ä¾¿å¤§å®¶å¿«é€Ÿä½œå‡ºé€‰æ‹©ï¼Œæˆ‘ä»¬å°†ä¸åŒè§„æ ¼çš„å½±å…å¯¹åº”çš„ä½ç½®æ€»ç»“å¦‚ä¸‹ã€‚</p><p><strong>Â·</strong> å¦‚æœæ˜¯8~14æ’çš„å°å…ï¼Œæœ€å¥½é€‰æ‹©ç¬¬äº”ã€å…­æ’å‰åå±…ä¸­ä½ç½®ï¼›</p><p><strong>Â·</strong> å¦‚æœæ˜¯15~20æ’çš„ä¸­å…ï¼Œæœ€å¥½é€‰æ‹©ç¬¬ä¸ƒã€å…«æ’å‰åå±…ä¸­ä½ç½®ï¼›</p><p><strong>Â·</strong> å¦‚æœæ˜¯21~25æ’çš„å¤§å…æˆ–è€…IMAXå…ï¼Œæœ€å¥½é€‰æ‹©ç¬¬ä¹ã€åæ’å‰åå±…ä¸­ä½ç½®ã€‚</p><p><strong>3Dç”µå½±</strong></p><p>ç”±äº3Dçœ¼é•œä¼šå°†é“¶å¹•äº®åº¦å‰Šå¼±40%å·¦å³ï¼Œæ‰€ä»¥è§‚çœ‹3Dç”µå½±æ—¶ï¼Œä¸ºäº†æ›´å¥½çš„è§†è§‰æ•ˆæœï¼Œ<strong>åº”è¯¥ååœ¨é“¶å¹•ä¸æ”¾æ˜ çª—å£é—´1/2çš„ä½ç½®ï¼Œ</strong>ç¤ºæ„å›¾å¦‚ä¸‹ã€‚</p><p><img src="https://picture.daoxuan.cc/image/202402222156510.png" alt="å›¾ç‰‡"></p><p>ç”µå½±é™¢ä¸­åŒä¸€æ”¾æ˜ å…ä¸åŒä½ç½®çš„ç¥¨ä»·ä¸åŒï¼Œä¹Ÿæ˜¯æ ¹æ®è§‚å½±æ•ˆæœå†³å®šçš„ï¼Œä¸è¿‡ï¼Œç”±äºæ¯ä¸ªäººçš„è§‚å½±éœ€æ±‚ä¸å°½ç›¸åŒï¼Œå…·ä½“è¯¥æ€ä¹ˆé€‰æ‹©è¿˜è¦ç»“åˆè‡ªèº«éœ€æ±‚æ¥å†³å®šã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;blockquote&gt;
&lt;p&gt;ä»¥ä¸‹å†…å®¹é€‰å–è‡ªé’æ˜¥å±±ä¸œå…¬ä¼—å·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;2Dç”µå½±&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç¾å›½ç”µå½±ç”µè§†å·¥ç¨‹å¸ˆåä¼šå…¬å¸ƒçš„æœ€ä½³è§‚å½±ä½ç½®å‡†åˆ™ï¼Œè§‚çœ‹2</summary>
      
    
    
    
    
    <category term="æœ‰è¶£çš„çŸ¥è¯†" scheme="https://daoxuan.cc/tags/%E6%9C%89%E8%B6%A3%E7%9A%84%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>djangoå¦‚ä½•å°†jwtçš„tokenä½œä¸ºå‚æ•°ä¼ é€’éªŒè¯èº«ä»½</title>
    <link href="https://daoxuan.cc/posts/64064/"/>
    <id>https://daoxuan.cc/posts/64064/</id>
    <published>2024-01-29T14:05:06.000Z</published>
    <updated>2024-12-08T16:00:50.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><blockquote><p>æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å°†access_tokenä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè€Œä¸æ˜¯æºå¸¦è¯·æ±‚å¤´ä¸­</p><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè±å…å°†jwtéªŒè¯ï¼Œç„¶åå°†å‚æ•°ä¸­çš„tokenæ”¾åˆ°è¯·æ±‚å¤´ä¸­ï¼Œ</p><p>ç„¶åä½¿ç”¨å®˜æ–¹å‡½æ•°æ‰‹åŠ¨éªŒè¯ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">from rest_framework_simplejwt.authentication import JWTAuthentication</span><br><span class="line"> # è±å…éªŒè¯</span><br><span class="line"> permission_classes = [AllowAny]</span><br><span class="line"></span><br><span class="line"> def parse(self, request, token):</span><br><span class="line">     authentication = JWTAuthentication()</span><br><span class="line">     request.META[&#x27;HTTP_AUTHORIZATION&#x27;] = &#x27;Bearer &#x27; + token</span><br><span class="line">     user, token = authentication.authenticate(request)</span><br><span class="line">     return user</span><br><span class="line">    </span><br><span class="line"> def get(self, request):</span><br><span class="line">     # è·å–åˆ°getæ–¹æ³•çš„å‚æ•°</span><br><span class="line">     params = request.query_params</span><br><span class="line">     # id = request.user.id</span><br><span class="line">     # print(id)</span><br><span class="line">     if not params.get(&#x27;token&#x27;):</span><br><span class="line">         return Response(&#123;&#x27;msg&#x27;: &#x27;tokenæœªä¼ å…¥&#x27;, &#x27;code&#x27;: 403&#125;, status=status.HTTP_403_FORBIDDEN)</span><br><span class="line">     else:</span><br><span class="line">         token = params.get(&#x27;token&#x27;)</span><br><span class="line">         # ä¸ºè¯·æ±‚å¤´æ·»åŠ token</span><br><span class="line">         user = self.parse(request, token)</span><br><span class="line"></span><br><span class="line">         # åˆ©ç”¨jwtè§£ætokenå‡½æ•°è¿›è¡Œç™»å½•éªŒè¯å¹¶ä¸”å¾—åˆ°ç”¨æˆ·id</span><br><span class="line">         if not user:</span><br><span class="line">             return Response(&#123;&#x27;msg&#x27;: &#x27;tokenæ— æ•ˆ&#x27;, &#x27;code&#x27;: 403&#125;, status=status.HTTP_403_FORBIDDEN)</span><br></pre></td></tr></table></figure><h2 id="parse"><a href="#parse" class="headerlink" title="parse"></a>parse</h2><p>parseçš„ä¸»è¦ä½œç”¨ä¾¿æ˜¯åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ tokenå¹¶ä¸”è¿›è¡ŒéªŒè¯ï¼Œè¿™ä¹Ÿæ˜¯æ•´ä¸ªæµç¨‹çš„å…³é”®ã€‚</p><h2 id="get"><a href="#get" class="headerlink" title="get"></a>get</h2><p>ä¸‹é¢çš„getæ˜¯drfä¸­getè¯·æ±‚å¤„ç†å‡½æ•°ï¼Œç®—æ˜¯ä½¿ç”¨å®ä¾‹ï¼Œæ— éœ€åœ¨æ„ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;blockquote&gt;
&lt;p&gt;æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å°†access_tokenä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè€Œä¸æ˜¯æºå¸¦è¯·æ±‚å¤´ä¸­&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè±å…å°†jwtéªŒè¯ï¼Œç„¶åå°†å‚æ•°ä¸­çš„tokenæ”¾åˆ°è¯·æ±‚å¤´ä¸­ï¼Œ&lt;/p&gt;
&lt;p&gt;ç„¶</summary>
      
    
    
    
    
    <category term="django" scheme="https://daoxuan.cc/tags/django/"/>
    
  </entry>
  
  <entry>
    <title>pythonè“æ¡¥æ¯åˆ·é¢˜ç¬”è®°</title>
    <link href="https://daoxuan.cc/posts/55779/"/>
    <id>https://daoxuan.cc/posts/55779/</id>
    <published>2024-01-28T15:06:04.000Z</published>
    <updated>2024-12-08T16:00:51.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><blockquote><p>æœªå®Œå¾…ç»­</p></blockquote><h1 id="pythonè“æ¡¥æ¯åˆ·é¢˜å¤‡å¿˜å½•"><a href="#pythonè“æ¡¥æ¯åˆ·é¢˜å¤‡å¿˜å½•" class="headerlink" title="pythonè“æ¡¥æ¯åˆ·é¢˜å¤‡å¿˜å½•"></a>pythonè“æ¡¥æ¯åˆ·é¢˜å¤‡å¿˜å½•</h1><h2 id="1-å­—ç¬¦é€†åº"><a href="#1-å­—ç¬¦é€†åº" class="headerlink" title="1.  å­—ç¬¦é€†åº"></a>1.  å­—ç¬¦é€†åº</h2><p>å­—ç¬¦ä¸²åˆ‡å‰²ï¼š[-1::-1]</p><blockquote><p>[èµ·å§‹ä½ç½®:ç»“æŸä½ç½®:æ­¥å¹…]  PSï¼šè´Ÿå·è¡¨ç¤ºå€’åº</p></blockquote><h2 id="2-æ°´ä»™èŠ±æ•°"><a href="#2-æ°´ä»™èŠ±æ•°" class="headerlink" title="2. æ°´ä»™èŠ±æ•°"></a>2. æ°´ä»™èŠ±æ•°</h2><p><code>//</code>è¡¨ç¤ºæ•´é™¤, <code>/</code>è¡¨ç¤ºæ­£å¸¸é™¤æ³•ï¼Œ<code>%</code>è¡¨ç¤ºæ±‚ä½™æ•°</p><h2 id="3-Pythonå†…ç½®çš„mapå‡½æ•°"><a href="#3-Pythonå†…ç½®çš„mapå‡½æ•°" class="headerlink" title="3. Pythonå†…ç½®çš„mapå‡½æ•°"></a>3. Pythonå†…ç½®çš„mapå‡½æ•°</h2><h3 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h3><p>map() ä¼šæ ¹æ®æä¾›çš„å‡½æ•°å¯¹æŒ‡å®šåºåˆ—åšæ˜ å°„ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•° function ä»¥å‚æ•°åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨ function å‡½æ•°ï¼Œè¿”å›åŒ…å«æ¯æ¬¡ function å‡½æ•°è¿”å›å€¼çš„æ–°åˆ—è¡¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def square(x) : Â  Â  Â  Â  # è®¡ç®—å¹³æ–¹æ•°</span><br><span class="line">... Â  Â  return x ** 2</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; map(square, [1,2,3,4,5]) Â  Â # è®¡ç®—åˆ—è¡¨å„ä¸ªå…ƒç´ çš„å¹³æ–¹</span><br><span class="line">&lt;map object at 0x100d3d550&gt; Â  Â  # è¿”å›è¿­ä»£å™¨</span><br><span class="line">&gt;&gt;&gt; list(map(square, [1,2,3,4,5])) Â  # ä½¿ç”¨ list() è½¬æ¢ä¸ºåˆ—è¡¨</span><br><span class="line">[1, 4, 9, 16, 25]</span><br><span class="line">&gt;&gt;&gt; list(map(lambda x: x ** 2, [1, 2, 3, 4, 5])) Â  # ä½¿ç”¨ lambda åŒ¿åå‡½æ•°</span><br><span class="line">[1, 4, 9, 16, 25]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœä¸¤ä¸ªå‚æ•°å°±ä¸¤ä¸ªåºåˆ—ï¼ŒæŒ‰ç…§å¯¹åº”ä½ç½®è¾“å…¥å‰é¢çš„å‡½æ•°</p></blockquote><h2 id="4-å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡º"><a href="#4-å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="4. å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡º"></a>4. å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡º</h2><p>print(â€œæ ¼å¼åŒ–å­—ç¬¦ä¸²â€%å˜é‡1)<br>print(â€œæ ¼å¼åŒ–å­—ç¬¦ä¸²â€%(å˜é‡1,å˜é‡2ï¼Œâ€¦))</p><p><strong>%d ç”¨0è¡¥é½</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">student_no = 1</span><br><span class="line">print(&#x27;å­¦ç”Ÿçš„åºå·ä¸º:%03d&#x27; %student_no</span><br><span class="line">å­¦ç”Ÿçš„åºå·ä¸º:001</span><br></pre></td></tr></table></figure><p><strong>%f å››èˆäº”å…¥</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pi = 3.1415926</span><br><span class="line">print(&#x27;åœ†å‘¨ç‡ä¸ºï¼š%f&#x27; % pi) #é»˜è®¤è¾“å‡ºå°æ•°ç‚¹åé¢6ä½</span><br><span class="line">print(&#x27;åœ†å‘¨ç‡ä¸ºï¼š%.0f&#x27; % pi) </span><br><span class="line">print(&#x27;åœ†å‘¨ç‡ä¸ºï¼š%.2f&#x27; % pi) </span><br><span class="line">print(&#x27;åœ†å‘¨ç‡ä¸ºï¼š%.3f&#x27; % pi) </span><br><span class="line">print(&#x27;åœ†å‘¨ç‡ä¸ºï¼š%.8f&#x27; % pi) #ä¸è¶³ä½ç”¨0è¡¥è¶³</span><br></pre></td></tr></table></figure><script type="math/tex; mode=display">åœ†å‘¨ç‡ä¸ºï¼š3.141593åœ†å‘¨ç‡ä¸ºï¼š3åœ†å‘¨ç‡ä¸ºï¼š3.14åœ†å‘¨ç‡ä¸ºï¼š3.142åœ†å‘¨ç‡ä¸ºï¼š3.1415960</script><h2 id="5-å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰"><a href="#5-å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰" class="headerlink" title="5. å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰"></a>5. å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰</h2><p>å¯ä»¥ç›´æ¥ç”¨<code>==</code>æ¥åˆ¤æ–­æ˜¯å¦å®Œå…¨ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨<code>.lower()</code>æ¥ä½¿å­—ç¬¦ä¸²å˜æˆå°å†™ï¼Œç”¨<code>.upper()</code>æŠŠå­—ç¬¦ä¸²å˜æˆå¤§å†™ã€‚</p><h2 id="6-Pythonåœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨forå¾ªç¯"><a href="#6-Pythonåœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨forå¾ªç¯" class="headerlink" title="6. Pythonåœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨forå¾ªç¯"></a>6. Pythonåœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨forå¾ªç¯</h2><p><strong>1ã€[expression for iter_val in iterable]</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ä¼ ç»Ÿå†™æ³•ï¼š</span><br><span class="line"></span><br><span class="line">L = []</span><br><span class="line">for i in range(1,11):</span><br><span class="line">    L.append(i**2)</span><br><span class="line">print(L)</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">åˆ—è¡¨è§£æï¼š</span><br><span class="line"></span><br><span class="line">L = [i**2 for i in range(1,11)]</span><br><span class="line">print(L)</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>2ã€[expression for iter_val in iterable if cond_expr]</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ä¼ ç»Ÿå†™æ³•ï¼š</span><br><span class="line"></span><br><span class="line">L = []</span><br><span class="line">for i in range(1,11):</span><br><span class="line">    if i**2 &gt; 50:</span><br><span class="line">        L.append(i**2)</span><br><span class="line">print(L)</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[64, 81, 100]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åˆ—è¡¨è§£æï¼š</span><br><span class="line"></span><br><span class="line">L = [i**2 for i in range(1,11) if i**2 &gt;50]</span><br><span class="line">print(L)</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[64, 81, 100]</span><br></pre></td></tr></table></figure><h2 id="7-åˆå¹¶åˆ—è¡¨"><a href="#7-åˆå¹¶åˆ—è¡¨" class="headerlink" title="7. åˆå¹¶åˆ—è¡¨"></a>7. åˆå¹¶åˆ—è¡¨</h2><blockquote><p>å°†åˆ—è¡¨ä¸­å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">my_list = [<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot;World&quot;</span>]</span><br><span class="line">result_string = <span class="string">&#x27;&#x27;</span>.join(my_list)</span><br><span class="line"><span class="built_in">print</span>(result_string)</span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„æ˜¯å­—ç¬¦ä¸²ï¼Œä¸æ˜¯åˆ—è¡¨</p><blockquote><p>å°†å¤šä¸ªåˆ—è¡¨åˆå¹¶ä¸ºä¸€ä¸ªåˆ—è¡¨</p></blockquote><p>ç›´æ¥ç›¸åŠ å³å¯</p><h2 id="8"><a href="#8" class="headerlink" title="8."></a>8.</h2><p><strong>å­åºåˆ—ä¸åŒäºå­ä¸²ï¼Œå­ä¸²è¦æ±‚å…ƒç´ åœ¨åŸåºåˆ—ä¸­æ˜¯è¿ç»­çš„ï¼Œè€Œå­åºåˆ—ä¸è¦æ±‚è¿ç»­ã€‚</strong></p><h2 id="9"><a href="#9" class="headerlink" title="9."></a>9.</h2><p>åœ¨ Python ä¸­ï¼Œ<code>round()</code> æ˜¯ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºå¯¹æ•°å­—è¿›è¡Œå››èˆäº”å…¥ã€‚<code>round()</code> å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¦å››èˆäº”å…¥çš„æ•°å­—å’Œä¿ç•™çš„å°æ•°ä½æ•°ã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">round</span>(number, ndigits)</span><br></pre></td></tr></table></figure></p><ul><li><code>number</code> æ˜¯è¦å››èˆäº”å…¥çš„æ•°å­—</li><li><code>ndigits</code> æ˜¯è¦ä¿ç•™çš„å°æ•°ä½æ•°ï¼ˆå¯ä»¥ä¸ºè´Ÿæ•°ï¼Œè¡¨ç¤ºè¦å››èˆäº”å…¥åˆ°å°æ•°ç‚¹å·¦è¾¹çš„ä½æ•°ï¼‰</li></ul><p>å¦‚æœ <code>ndigits</code> å‚æ•°è¢«çœç•¥ï¼Œ<code>round()</code> å‡½æ•°ä¼šå°† <code>number</code> å››èˆäº”å…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">number1 = <span class="number">3.14159</span></span><br><span class="line">rounded_number1 = <span class="built_in">round</span>(number1, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(rounded_number1)  <span class="comment"># è¾“å‡º: 3.14</span></span><br><span class="line"></span><br><span class="line">number2 = <span class="number">10.6789</span></span><br><span class="line">rounded_number2 = <span class="built_in">round</span>(number2)</span><br><span class="line"><span class="built_in">print</span>(rounded_number2)  <span class="comment"># è¾“å‡º: 11</span></span><br><span class="line"></span><br><span class="line">number3 = <span class="number">1234.5678</span></span><br><span class="line">rounded_number3 = <span class="built_in">round</span>(number3, -<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(rounded_number3)  <span class="comment"># è¾“å‡º: 1200</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™äº›ç¤ºä¾‹ä¸­ï¼Œ<code>round()</code> å‡½æ•°æ ¹æ®æä¾›çš„ <code>ndigits</code> å‚æ•°å››èˆäº”å…¥äº†ä¸åŒçš„æ•°å­—ï¼Œå¹¶è¿”å›ç»“æœã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;blockquote&gt;
&lt;p&gt;æœªå®Œå¾…ç»­&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;pythonè“æ¡¥æ¯åˆ·é¢˜å¤‡å¿˜å½•&quot;&gt;&lt;a href=&quot;#pythonè“æ¡¥æ¯åˆ·é¢˜å¤‡å¿˜å½•&quot; class=&quot;headerlink&quot; t</summary>
      
    
    
    
    
    <category term="python" scheme="https://daoxuan.cc/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>å¤§è‹±ä¸‰ç¿»è¯‘</title>
    <link href="https://daoxuan.cc/posts/16961/"/>
    <id>https://daoxuan.cc/posts/16961/</id>
    <published>2024-01-02T15:09:55.000Z</published>
    <updated>2024-12-08T16:00:47.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="Unit1"><a href="#Unit1" class="headerlink" title="Unit1"></a>Unit1</h1><p>ä¸­å›½æœ‰ä¸€å¥è¯ï¼Œå«â€œäººè´µæœ‰è‡ªçŸ¥ä¹‹æ˜â€ã€‚è¿™ä¸ªè§‚å¿µçš„ æœ€æ—©æå‡ºè€…æ˜¯è€å­ã€‚è€å­åœ¨ã€Šé“å¾·ç»ã€‹é‡Œè¯´â€œçŸ¥äººè€…æ™ºï¼Œè‡ªçŸ¥è€…æ˜â€ã€‚æœ‰â€œè‡ªçŸ¥ä¹‹æ˜â€æ˜¯æŒ‡äººåº”è¯¥å¯¹è‡ªå·±æœ‰æ­£ç¡®çš„è®¤è¯†ï¼Œäº†è§£è‡ªèº«çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œæ¸…é†’åœ°çŸ¥é“è‡ªå·±èƒ½åšä»€ä¹ˆã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">As the Chinese saying goes, it is important to know oneself. The first person to put forward this idea was Laozi, who wrote in his book DaoDe jing :&quot;A person who knows others is intelligent, but a person who knows himself is insightful.&quot; To know oneself is to have a corret understanding of oneself, including one&#x27;s strengths and limitations, and to be clear-minded about what one can do.</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æŠŠäººçš„è‡ªçŸ¥è§†ä¸ºâ€œè´µâ€ï¼Œå¯è§åšåˆ°â€œè‡ªçŸ¥â€æ˜¯å¤šä¹ˆçš„ä¸æ˜“ã€‚â€œè‡ªçŸ¥ä¹‹æ˜â€æ˜¯ä¸€ç§äººç”Ÿå“²å­¦ï¼Œä¹Ÿæ˜¯ä¸€ç§å“å¾·ã€‚å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¸æ–­åœ°ä¿®æ­£è‡ªå·±ï¼Œæœç€æ›´é«˜çš„äººç”Ÿç›®æ ‡è¿ˆè¿›ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">we cherish this virtue so much precisely, because it is hard for people to know themselves. Knowing oneself is both part of a philosophy of life and a virtue that can improve oneself and attainment of a higher life goal.</span><br></pre></td></tr></table></figure><h1 id="Unit2"><a href="#Unit2" class="headerlink" title="Unit2"></a>Unit2</h1><p>ä¸çˆ¶è¾ˆç›¸æ¯”ï¼Œç°åœ¨çš„å­©å­åœ¨ç‰©è´¨ç”Ÿæ´»ä¸Šè¦ä¸°å¯Œå¾—å¤šï¼Œä½†åœ¨ç²¾ç¥ä¸Šåˆ™ç•¥æœ‰æ¬ ç¼ºã€‚ä»–ä»¬ä¸å¤ªå¯èƒ½å’Œä¼™ä¼´ä»¬ä¸€èµ·ç©ï¼Œç©å…·å–ä»£ä¼™ä¼´æˆäº†ä»–ä»¬æœ€å¿ å®çš„æœ‹å‹ã€‚ä»–ä»¬çš„çˆ¶æ¯ä»ä¸ç¼ºé’±ç»™ä»–ä»¬ä¹°å„ç§è´µé‡ç©å…·ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Compared to their parents, children now do enjoy a far better material life, but their emotional life seems less satisfying. They are less likely to play with their peers, for toys have replaced their playments as their most loyal friends. Their parents can always afford to buy them all kinds of expensive toys.</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„å¥½å¤„æ˜¯ï¼šä»–ä»¬ä¸å†æ•´å¤©ç¼ ç€çˆ¶æ¯ï¼Œå› ä¸ºç©å…·å’Œç”µå­æ¸¸æˆå‡è½»äº†ä»–ä»¬çš„å­¤ç‹¬æ„Ÿã€‚ä½†ä¹Ÿæœ‰è´Ÿé¢å½±å“ï¼šæ²‰è¿·äºç©å…·å’Œç”µå­æ¸¸æˆä¼šè®©å­©å­è§†åŠ›ä¸‹é™æˆ–è€…è®©ä»–ä»¬ä¸æ„¿æ„ä¸åˆ«äººäº¤æµã€‚è¿™ç§ç°è±¡åº”å¼•èµ·å®¶é•¿å’Œå­¦æ ¡çš„å…³æ³¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The good things about this is that they no longer pester their parents to play with them all day long, because toys and video games have lessened their feelings of loneliness. But there are alse negetive effects: The addiction to toys and video games may cause a child&#x27;s eyesight to deteriorate or make them unwilling to communicate with others. The phenomenona should demand the attention of both parents and schools.</span><br></pre></td></tr></table></figure><h1 id="Unit3"><a href="#Unit3" class="headerlink" title="Unit3"></a>Unit3</h1><p>åœ¨æ•¦ç…Œè«é«˜çªŸï¼Œæœ€è‘—åçš„è‰ºæœ¯æ°ä½œè¦æ•°å£ç”»â€œé£å¤©â€ï¼ˆ flying apsarasï¼‰ã€‚æ•¦ç…Œé£å¤©æ˜¯å°åº¦æ–‡åŒ–å’Œä¸­å›½æ–‡åŒ–å…±åŒå­•è‚²è€Œæˆçš„ã€‚åœ¨å°åº¦ï¼Œè¢«ç§°ä¸ºâ€œé£å¤©â€çš„ç©ºä¸­é£è¡Œçš„å¤©ç¥ï¼ˆcelestial beingsï¼‰å¤šå‡ºç°åœ¨ä½›æ•™çŸ³çªŸå£ç”»ï¼ˆgrotto muralï¼‰ä¸­ï¼Œä¸­å›½é“æ•™ä¼ ç»Ÿåˆ™æŠŠåœ¨ç©ºä¸­é£è¡Œçš„å¤©ç¥ç§°ä¸ºâ€œé£ä»™â€ï¼ˆ flying immortalsï¼‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In the Mogaocaves in Dunhuang, the murals with &quot;flying apsaras&quot; are one of the most well-known artistic masterpiece. The flying apsaras in Dunhuang are product of the intermixing of Indian and Chinese culture</span><br><span class="line">In india, celestial beings called &quot;flying apsaras&quot; appear mostly in grotto mural, while in the Chinese Daoist tradition, flying celestial beings are known as &quot;flying immortals&quot;</span><br></pre></td></tr></table></figure><p>é­æ™‹å—åŒ—æœæ—¶ï¼Œä½›æ•™åˆä¼ å…¥ä¸­å›½ï¼Œå£ç”»ä¸­çš„é£ä»™å¼€å§‹è¢«ç§°ä¸ºâ€œé£å¤©â€ã€‚åæ¥ï¼Œéšç€ä½›æ•™åœ¨ä¸­å›½çš„æ·±å…¥å‘å±•ï¼Œä½›æ•™çš„é£å¤©å’Œé“æ•™çš„é£ä»™åœ¨è‰ºæœ¯å½¢è±¡ä¸Šç›¸äº’èåˆã€‚æ•¦ç…Œè«é«˜çªŸçš„é£å¤©æ˜¯ä¸­å›½å¤ä»£è‰ºæœ¯å®¶çš„æ°ä½œï¼Œæ˜¯ä¸–ç•Œè‰ºæœ¯å²çš„å¥‡è¿¹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">During Wei, Jin and Northern and Southern dynasties, when the introduction of Buddhism in China was at an early stage, people began to call flying immortals in murals &quot;flying apsaras&quot;. Later, with the development of Buddhism in China, the artistic images of Buddhist flying apsaras and Daoist flying immortals merged with each other.</span><br><span class="line">The flying apsaras in Dunhuang grotto mural are most ingenious creation of ancient Chinese artists, and a miracle in the history of world art.</span><br></pre></td></tr></table></figure><h1 id="Unit4"><a href="#Unit4" class="headerlink" title="Unit4"></a>Unit4</h1><p>ç›®å‰ï¼Œä¸­å›½è€å¹´äººå£å±…ä¸–ç•Œç¬¬ä¸€ï¼Œå·²ç»è¿›å…¥è€é¾„åŒ–ç¤¾ä¼šã€‚è€Œä¸­å›½ç°åœ¨æ­£å¤„äºç¤¾ä¼šè½¬å‹æœŸï¼Œå»ºç«‹ä¸€ä¸ªå®Œæ•´çš„ç¤¾ä¼šç¦åˆ©ä½“ç³»ä»éœ€å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´ï¼Œå› æ­¤ä¸­å›½çš„å…»è€é—®é¢˜è¾ƒä¸ºç‰¹æ®Šã€‚é¢„è®¡åœ¨ä»ŠååŠä¸ªä¸–çºªï¼Œå®¶åº­å…»è€ä»ç„¶æ˜¯ä¸­å›½ä¸»æµçš„å…»è€æ¨¡å¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Now, China, with the largest population of elderly people in the world, has become an ageing society. Meanwhile, China is alse a country undergoing social transition. It will be a long time before a sound social welfare system can be established, which means that China is in a unique situation when it comes to care of its ageing population. It is predicted that in the next 50 years, family care for the aged will still be the main way in China.</span><br></pre></td></tr></table></figure><p>å­æ•¬çˆ¶æ¯ï¼ˆfilial pietyï¼‰ä¸€ç›´æ˜¯ä¸­å›½ä¼ ç»Ÿä¼¦ç†é“å¾·ï¼ˆethicsï¼‰çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚åœ¨å½“ä»Šè¿™æ ·ä¸€ä¸ªè€é¾„åŒ–çš„ç¤¾ä¼šä¸­ï¼Œå¼˜æ‰¬å­é“å°±æ˜¾å¾—æ›´åŠ é‡è¦ï¼Œå› ä¸ºåœ¨é¼“åŠ±äººä»¬å¯¹å®¶é‡Œçš„è€äººæä¾›æ—¥å¸¸ç…§é¡¾å’Œæƒ…æ„Ÿæ…°è—‰æ–¹é¢ï¼Œå­é“ä»å°†èµ·å…³é”®æ€§çš„ä½œç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Filial piety has always been a significant part of traditional Chinese ethics. In today&#x27;s ageing society, it will be all the more important to promote the virtue of filial piety, as it will continue to play a key role in encouraging people to take good care of their elderly family members by providing daily care and emotional support.</span><br></pre></td></tr></table></figure><h1 id="Unit5"><a href="#Unit5" class="headerlink" title="Unit5"></a>Unit5</h1><p>å¥³æ€§æ˜¯åŠ³åŠ¨åŠ›å¸‚åœºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ä½†æ˜¯å½“å‰åŠ³åŠ¨å°±ä¸šä¸­çš„æ€§åˆ«æ­§è§†ä»ç„¶å­˜åœ¨ï¼Œè¿™ä¸æˆ‘å›½æ„å»ºå’Œè°ç¤¾ä¼šçš„è¦æ±‚èƒŒé“è€Œé©°ã€‚å°±åŠ³åŠ¨è€…è€Œè¨€ï¼Œä¸èƒ½äººå°½å…¶æ‰ï¼Œä¸ä»…é€ æˆäººåŠ›èµ„æœ¬æŠ•èµ„çš„æµªè´¹ï¼Œè¿˜ä¼šä½¿å¥¹ä»¬å¯¹ç¤¾ä¼šå…¬æ­£äº§ç”Ÿæ€€ç–‘ï¼›</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Women are an important part of the labour force.But gender discrimination in the job market still exists, and serves as a counter force to the building of a harmonious society. As far as employees are concerned, jobs that do not suit their talents will not noly give rise to a waste of the investment in human capital, but alse cause them to lose faith in social justice.</span><br></pre></td></tr></table></figure><p>å°±ç”¨äººå•ä½è€Œè¨€ï¼Œæ€§åˆ«æ­§è§†ä¸ä»…ç ´åäººæ‰é€‰æ‹”çš„ç¨‹åºï¼Œé€ æˆäººæ‰æµªè´¹ï¼Œä¹Ÿä¼šä¸åˆ©äºäººä»¬æ­£ç¡®ç†è§£ä½•ä¸ºæ­£å¸¸è¿è½¬çš„å¸‚åœºï¼›å°±ç¤¾ä¼šè€Œè¨€ï¼Œæ€§åˆ«æ­§è§†ä¸ä»…å¹²æ‰°äººåŠ›èµ„æºçš„æ­£å¸¸æµåŠ¨ï¼Œè¿˜ä¼šç ´åå°±ä¸šå¸‚åœºçš„å…¬å¹³ç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">As for employers, gender discrimination will not noly destroy the process of selecting talent, and waste talent, but also harm the perception of a people of a properly functioning market. On the level of society, gender discrimination not only disturb proper distribution of human resources, and damage a fair environment in the job market.</span><br></pre></td></tr></table></figure><h1 id="Unit6"><a href="#Unit6" class="headerlink" title="Unit6"></a>Unit6</h1><p>æ˜¥èŠ‚æ˜¯ä¸­å›½æœ€é‡è¦çš„ä¼ ç»ŸèŠ‚æ—¥ã€‚ä½†è¿‘å¹´æ¥ï¼Œå¾ˆå¤šäººéƒ½æŠ±æ€¨è¿‡å¹´çš„æ°”æ°›è¶Šæ¥è¶Šæ·¡ï¼Œå·²ç»å¾ˆéš¾æ„Ÿå—åˆ°è®°å¿†ä¸­è¿‡å¹´çš„é‚£ç§ç¾å¥½æ„Ÿè§‰äº†ã€‚äº‹å®ä¸Šï¼Œæ˜¥èŠ‚åœ¨è¿‡å»ä¹‹æ‰€ä»¥æ˜¾å¾—é‡è¦ï¼Œæ˜¯å› ä¸ºåªæœ‰åˆ°äº†æ˜¥èŠ‚äººä»¬æ‰èƒ½äº«ç¾é£Ÿã€ç©¿æ–°è¡£ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The Spring Festival is the most important traditional holiday in China. But in recent years, many people have complained that the celebratory atmostphere of lunar New Year is not as strong as it used to be, and it is hard for them to regain that wonderful feeling in their memories. In fact, in the past, it was only during the Spring Festival that people could enjoy delicious food and wear new clothes.This explains why the holiday was so important to Chinese people.</span><br></pre></td></tr></table></figure><p>è€Œéšç€ä¸­å›½ç»æµçš„è¿…é€Ÿå‘å±•ï¼Œäººä»¬çš„ç‰©è´¨ç”Ÿæ´»è¶Šæ¥è¶Šä¸°å¯Œï¼Œäººä»¬åº†ç¥æ˜¥èŠ‚çš„æ–¹å¼ä¹Ÿå‘ç”Ÿäº†ä¸€äº›å˜åŒ–ã€‚æ¯”å¦‚è¯´ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©è¿‡å¹´æ—¶å¤–å‡ºæ—…æ¸¸ã€‚ä½†æ— è®ºå¦‚ä½•ï¼Œå¯¹äºä¸­å›½äººæ¥è¯´ï¼Œæ˜¥èŠ‚çš„é‡è¦æ€§æ˜¯ä¸å¯æ›¿ä»£çš„ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">But with whe rapid development of the Chinese economy and an increasingly rich material life, the ways in which Chinese people celebrate the Spring festival have changed. For intance, more and more people choose to travel during the Spring Festival. Nonetheless, for Chinese people, the Spring Festival play an irreplaceable role in their culture.</span><br></pre></td></tr></table></figure><h1 id="Unit7"><a href="#Unit7" class="headerlink" title="Unit7"></a>Unit7</h1><p>ä¸­å›½æ˜¯ä¸–ç•Œä¸Šè‡ªç„¶ç¾å®³è¾ƒä¸ºä¸¥é‡çš„å›½å®¶ä¹‹ä¸€ã€‚åœ¨å’Œå¹³æ—¶æœŸï¼ŒæŠ¢é™©æ•‘ç¾æ˜¯ä¸­å›½å†›é˜Ÿçš„ä¸€é¡¹é‡è¦ä»»åŠ¡ã€‚ä¸­å›½å†›é˜Ÿæ˜¯æŠ¢é™©æ•‘ç¾çš„çªå‡»åŠ›é‡ï¼Œæ‰¿æ‹…æœ€ç´§æ€¥ã€æœ€è‰°éš¾ã€æœ€å±é™©çš„æ•‘æ´ä»»åŠ¡ã€‚ä¸­å›½å†›äººéƒ½æ˜¯æŠ±ç€æ‰“ä»—çš„å¿ƒæ€åœ¨æ•‘ç¾ï¼Œç”šè‡³å†’ç€ç”Ÿå‘½å±é™©æŠ¢æ•‘ç¾æ°‘ã€‚æ¯å½“è§£æ”¾å†›æŠµè¾¾ç¾åŒºï¼Œç¾¤ä¼—éƒ½çƒ­çƒˆæ¬¢è¿ï¼Œæ„Ÿåˆ°æ— æ¯”æ¬£æ…°ã€‚ä¸­å›½å†›é˜Ÿåœ¨å†æ¬¡ç¾éš¾æ•‘æ´ä¸­è¡¨ç°å‡ºçš„ç»„ç»‡æ€§ã€ä¸“ä¸šæ€§ã€é«˜æ•ˆæ€§èµ¢å¾—äº†äººæ°‘ç¾¤ä¼—çš„ä¿¡ä»»å’Œèµèª‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">China is one of the countries that are most affected by natural disasters. In peace time, rescue and relief work is an important mission of the Chinese army. China&#x27;s armed forces always form task forces of rescue and relief work, taking on the most urgent, most difficult and most dangerous jobs. Chinese army perform their rescue and relief work as if they were fighting a war, sometimes even at the risk of their own lives. whenever the People&#x27;s liberation Army arrives at an area hit by a natural disaster, the local people will welcome them warmly and feel greatly relieved, The sense of organization, professionalism and efficiency they have displayed has helped them win the trust and praise of the public.</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;Unit1&quot;&gt;&lt;a href=&quot;#Unit1&quot; class=&quot;headerlink&quot; title=&quot;Unit1&quot;&gt;&lt;/a&gt;Unit1&lt;/h1&gt;&lt;p&gt;ä¸­å›½æœ‰ä¸€å¥è¯ï¼Œå«â€œäººè´µæœ‰è‡ªçŸ¥ä¹‹æ˜â€ã€‚è¿™ä¸ªè§‚å¿µçš„ æœ€æ—©æ</summary>
      
    
    
    
    
    <category term="English" scheme="https://daoxuan.cc/tags/English/"/>
    
  </entry>
  
  <entry>
    <title>Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼</title>
    <link href="https://daoxuan.cc/posts/64089/"/>
    <id>https://daoxuan.cc/posts/64089/</id>
    <published>2024-01-02T13:52:15.000Z</published>
    <updated>2024-12-08T16:00:49.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼"><a href="#Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼" class="headerlink" title="Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼"></a>Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼</h1><blockquote><p>æœ¬ç¯‡æ–‡ç« ç”¨äºå¿«é€Ÿé…ç½®å‡ºæœ¬äººä¹ æƒ¯çš„Djangoä½¿ç”¨é…ç½®</p></blockquote><h2 id="settings-py"><a href="#settings-py" class="headerlink" title="settings.py"></a>settings.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Django settings for itstudio_backstage project.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Generated by &#x27;django-admin startproject&#x27; using Django 4.1.4.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For more information on this file, see</span></span><br><span class="line"><span class="string">https://docs.djangoproject.com/en/4.1/topics/settings/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For the full list of settings and their values, see</span></span><br><span class="line"><span class="string">https://docs.djangoproject.com/en/4.1/ref/settings/</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"></span><br><span class="line"><span class="comment"># Build paths inside the project like this: BASE_DIR / &#x27;subdir&#x27;.</span></span><br><span class="line">BASE_DIR = Path(__file__).resolve().parent.parent</span><br><span class="line"></span><br><span class="line">conf = configparser.RawConfigParser()</span><br><span class="line"></span><br><span class="line">conf.read(os.path.join(BASE_DIR, <span class="string">&quot;config.ini&quot;</span>), encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="comment"># Quick-start development settings - unsuitable for production</span></span><br><span class="line"><span class="comment"># See https://docs.djangoproject.com/en/4.1/howto/deployment/checklist/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SECURITY WARNING: keep the secret key used in production secret!</span></span><br><span class="line">SECRET_KEY = conf.get(<span class="string">&quot;Django&quot;</span>, <span class="string">&quot;SECRET_KEY&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># SECURITY WARNING: don&#x27;t run with debug turned on in production!</span></span><br><span class="line">DEBUG = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">ALLOWED_HOSTS = [<span class="string">&quot;*&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Application definition</span></span><br><span class="line"></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;simpleui&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;rest_framework&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">MIDDLEWARE = [</span><br><span class="line">    <span class="string">&#x27;django.middleware.security.SecurityMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.middleware.common.CommonMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth.middleware.AuthenticationMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages.middleware.MessageMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.middleware.clickjacking.XFrameOptionsMiddleware&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"><span class="comment"># todo å°†###æ›¿æ¢ä¸ºé¡¹ç›®å</span></span><br><span class="line">ROOT_URLCONF = <span class="string">&#x27;###.urls&#x27;</span></span><br><span class="line"></span><br><span class="line">TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;BACKEND&#x27;</span>: <span class="string">&#x27;django.template.backends.django.DjangoTemplates&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;DIRS&#x27;</span>: [BASE_DIR / <span class="string">&#x27;templates&#x27;</span>]</span><br><span class="line">        ,</span><br><span class="line">        <span class="string">&#x27;APP_DIRS&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">&#x27;OPTIONS&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;context_processors&#x27;</span>: [</span><br><span class="line">                <span class="string">&#x27;django.template.context_processors.debug&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;django.template.context_processors.request&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;django.contrib.auth.context_processors.auth&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;django.contrib.messages.context_processors.messages&#x27;</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line">sys.path.insert(<span class="number">0</span>, os.path.join(BASE_DIR, <span class="string">&#x27;apps&#x27;</span>))</span><br><span class="line"><span class="comment">#todo å°†###æ›¿æ¢ä¸ºé¡¹ç›®åç§°</span></span><br><span class="line">WSGI_APPLICATION = <span class="string">&#x27;###.wsgi.application&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Database</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/4.1/ref/settings/#databases</span></span><br><span class="line"></span><br><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: conf.get(<span class="string">&quot;database&quot;</span>, <span class="string">&quot;ENGINE&quot;</span>),</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: conf.get(<span class="string">&quot;database&quot;</span>, <span class="string">&quot;NAME&quot;</span>),</span><br><span class="line">        <span class="string">&#x27;USER&#x27;</span>: conf.get(<span class="string">&quot;database&quot;</span>, <span class="string">&quot;USER&quot;</span>),</span><br><span class="line">        <span class="string">&#x27;PASSWORD&#x27;</span>: conf.get(<span class="string">&quot;database&quot;</span>, <span class="string">&quot;PASSWORD&quot;</span>),</span><br><span class="line">        <span class="string">&#x27;HOST&#x27;</span>: conf.get(<span class="string">&quot;database&quot;</span>, <span class="string">&quot;HOST&quot;</span>),</span><br><span class="line">        <span class="string">&#x27;PORT&#x27;</span>: <span class="number">3306</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password validation</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/4.1/ref/settings/#auth-password-validators</span></span><br><span class="line"></span><br><span class="line">AUTH_PASSWORD_VALIDATORS = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;django.contrib.auth.password_validation.UserAttributeSimilarityValidator&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;django.contrib.auth.password_validation.MinimumLengthValidator&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;django.contrib.auth.password_validation.CommonPasswordValidator&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;django.contrib.auth.password_validation.NumericPasswordValidator&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Internationalization</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/4.1/topics/i18n/</span></span><br><span class="line"></span><br><span class="line">LANGUAGE_CODE = <span class="string">&#x27;zh-Hans&#x27;</span></span><br><span class="line"></span><br><span class="line">TIME_ZONE = <span class="string">&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"></span><br><span class="line">USE_I18N = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">USE_TZ = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Static files (CSS, JavaScript, Images)</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/4.1/howto/static-files/</span></span><br><span class="line"></span><br><span class="line">STATIC_URL = <span class="string">&#x27;static/&#x27;</span></span><br><span class="line">STATIC_ROOT = os.path.join(BASE_DIR, <span class="string">&#x27;static&#x27;</span>)</span><br><span class="line">MEDIA_URL = <span class="string">&#x27;/media/&#x27;</span></span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">&#x27;media&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Default primary key field type</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/4.1/ref/settings/#default-auto-field</span></span><br><span class="line"></span><br><span class="line">DEFAULT_AUTO_FIELD = <span class="string">&#x27;django.db.models.BigAutoField&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="config-ini"><a href="#config-ini" class="headerlink" title="config.ini"></a>config.ini</h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢åˆ›å»ºconfig.ini</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[database]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">ENGINE</span> = django.db.backends.mysql</span><br><span class="line"></span><br><span class="line"><span class="attr">NAME</span> = ouchelper</span><br><span class="line"></span><br><span class="line"><span class="attr">USER</span> = dx2331lxz</span><br><span class="line"></span><br><span class="line"><span class="attr">PASSWORD</span> = <span class="number">1314521</span></span><br><span class="line"></span><br><span class="line"><span class="attr">HOST</span> = localhost</span><br><span class="line"></span><br><span class="line"><span class="section">[Django]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">SECRET_KEY</span> = <span class="string">&#x27;django-insecure-68*wwg-r$@p72!y9exi+z+9z0lxy3am0l=1@u(6)1$je7plxqq&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‹è½½ç±»åº“"><a href="#ä¸‹è½½ç±»åº“" class="headerlink" title="ä¸‹è½½ç±»åº“"></a>ä¸‹è½½ç±»åº“</h2><ul><li>simpleui</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-simpleui -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><ul><li>rest_framework</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install djangorestframework</span><br></pre></td></tr></table></figure><ul><li>mysqlclient</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install mysqlclient</span><br></pre></td></tr></table></figure><ul><li>simplejwt</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install djangorestframework-simplejwt</span><br></pre></td></tr></table></figure><h2 id="views-py"><a href="#views-py" class="headerlink" title="views.py"></a>views.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, HttpResponse</span><br><span class="line"><span class="comment"># from . import serializer, models</span></span><br><span class="line"><span class="comment"># from utils import email</span></span><br><span class="line"><span class="keyword">from</span> rest_framework.views <span class="keyword">import</span> APIView</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> status, pagination  <span class="comment"># çŠ¶æ€å’Œåˆ†é¡µ</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure><h2 id="serializer-py"><a href="#serializer-py" class="headerlink" title="serializer.py"></a>serializer.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Serializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        <span class="comment"># model = models.</span></span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br></pre></td></tr></table></figure><h2 id="urls-py"><a href="#urls-py" class="headerlink" title="urls.py"></a>urls.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line"><span class="keyword">from</span> django.conf.urls.static <span class="keyword">import</span> static</span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)</span><br></pre></td></tr></table></figure><h2 id="jwtéƒ¨åˆ†"><a href="#jwtéƒ¨åˆ†" class="headerlink" title="jwtéƒ¨åˆ†"></a>jwtéƒ¨åˆ†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># jwt</span></span><br><span class="line"><span class="keyword">from</span> rest_framework.permissions <span class="keyword">import</span> AllowAny</span><br><span class="line"><span class="keyword">from</span> rest_framework.permissions <span class="keyword">import</span> IsAuthenticated</span><br><span class="line"><span class="keyword">from</span> rest_framework_simplejwt.authentication <span class="keyword">import</span> JWTAuthentication, JWTTokenUserAuthentication</span><br><span class="line"><span class="keyword">from</span> rest_framework_simplejwt.views <span class="keyword">import</span> TokenObtainPairView</span><br><span class="line"><span class="keyword">from</span> rest_framework_simplejwt.tokens <span class="keyword">import</span> RefreshToken</span><br></pre></td></tr></table></figure><blockquote><p>å¿«é€Ÿjwt</p></blockquote><ul><li>settings</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta</span><br><span class="line">REST_FRAMEWORK = &#123;</span><br><span class="line">    <span class="string">&#x27;DEFAULT_AUTHENTICATION_CLASSES&#x27;</span>: [</span><br><span class="line">        <span class="string">&#x27;rest_framework_simplejwt.authentication.JWTTokenUserAuthentication&#x27;</span>,  <span class="comment"># ä½¿ç”¨rest_framework_simplejwtéªŒè¯èº«ä»½</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&#x27;DEFAULT_PERMISSION_CLASSES&#x27;</span>: [</span><br><span class="line">        <span class="string">&#x27;rest_framework.permissions.IsAuthenticated&#x27;</span>  <span class="comment"># é»˜è®¤æƒé™ä¸ºéªŒè¯ç”¨æˆ·</span></span><br><span class="line">        <span class="comment"># &#x27;rest_framework.permissions.AllowAny&#x27;</span></span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># simplejwt</span></span><br><span class="line">SIMPLE_JWT = &#123;</span><br><span class="line">    <span class="string">&#x27;REFRESH_TOKEN_LIFETIME&#x27;</span>: timedelta(days=<span class="number">7</span>),</span><br><span class="line">    <span class="string">&#x27;ACCESS_TOKEN_LIFETIME&#x27;</span>: timedelta(minutes=<span class="number">60</span>),</span><br><span class="line">    <span class="string">&#x27;ROTATE_REFRESH_TOKENS&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>urls</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥ simplejwt æä¾›çš„å‡ ä¸ªéªŒè¯è§†å›¾ç±»</span></span><br><span class="line"><span class="keyword">from</span> rest_framework_simplejwt.views <span class="keyword">import</span> (</span><br><span class="line">    TokenObtainPairView,</span><br><span class="line">    TokenRefreshView,</span><br><span class="line">    TokenVerifyView</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="è·¨åŸŸ"><a href="#è·¨åŸŸ" class="headerlink" title="è·¨åŸŸ"></a>è·¨åŸŸ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-cors-headers</span><br></pre></td></tr></table></figure><h3 id="åœ¨-APP-ä¸­æ³¨å†Œ"><a href="#åœ¨-APP-ä¸­æ³¨å†Œ" class="headerlink" title="åœ¨ APP ä¸­æ³¨å†Œ"></a>åœ¨ APP ä¸­æ³¨å†Œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    ...,</span><br><span class="line">    &quot;corsheaders&quot;,</span><br><span class="line">    ...,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ ä¸­é—´ä»¶"><a href="#æ·»åŠ ä¸­é—´ä»¶" class="headerlink" title="æ·»åŠ ä¸­é—´ä»¶"></a>æ·»åŠ ä¸­é—´ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MIDDLEWARE = [</span><br><span class="line">    ...,</span><br><span class="line">    &quot;corsheaders.middleware.CorsMiddleware&quot;,</span><br><span class="line">    &quot;django.middleware.common.CommonMiddleware&quot;,</span><br><span class="line">    ...,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="é…ç½®å…è®¸é€šè¿‡çš„åŸŸå"><a href="#é…ç½®å…è®¸é€šè¿‡çš„åŸŸå" class="headerlink" title="é…ç½®å…è®¸é€šè¿‡çš„åŸŸå"></a>é…ç½®å…è®¸é€šè¿‡çš„åŸŸå</h3><p>é€šè¿‡é…ç½® CORS_ALLOWED_ORIGINS æ·»åŠ é€šè¿‡çš„åŸŸå</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CORS_ALLOWED_ORIGINS = [</span><br><span class="line">    &quot;https://example.com&quot;,</span><br><span class="line">    &quot;https://sub.example.com&quot;,</span><br><span class="line">    &quot;http://localhost:8080&quot;,</span><br><span class="line">    &quot;http://127.0.0.1:9000&quot;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œé…ç½® CORS_ALLOWED_ORIGIN_REGEXESï¼Œå³å¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CORS_ALLOWED_ORIGIN_REGEXES = [</span><br><span class="line">    r&quot;^https://\w+\.example\.com$&quot;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>çˆ±ç‰¹åˆä½œçš„æƒ…å†µå¤šåŠæ˜¯åç«¯éƒ¨ç½²ä¸ŠæœåŠ¡å™¨ï¼Œç„¶åå‰ç«¯åœ¨æœ¬åœ°å¯¹æ¥åï¼Œæ‰“åŒ…ä»£ç åå‘ç»™åç«¯éƒ¨ç½²ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®ä¸€ä¸‹å…è®¸å†…ç½‘ IP å…è®¸è·¨åŸŸã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if DEBUG:</span><br><span class="line">    CORS_ALLOWED_ORIGIN_REGEXES = [</span><br><span class="line">        # å…è®¸å†…ç½‘IPåŠæ‰€æœ‰ç«¯å£ï¼Œç”¨äºè°ƒè¯•</span><br><span class="line">        r&quot;^http://((127\.0\.0\.1)|(localhost)|(10\.\d&#123;1,3&#125;\.\d&#123;1,3&#125;\.\d&#123;1,3&#125;)|(172\.((1[6-9])|(2\d)|(3[01]))\.\d&#123;1,3&#125;\.\d&#123;1,3&#125;)|(192\.168\.\d&#123;1,3&#125;\.\d&#123;1,3&#125;))(:\d+)&#123;0,1&#125;$&quot;,</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure><p>æ³¨æ„ä¸Šçº¿ä¹‹åï¼Œéœ€è¦å°†åŸŸå / IP + ç«¯å£ æ·»åŠ åˆ°ç™½åå•å†…</p><p>å…è®¸è·¨åŸŸè®¤è¯<br>é…ç½® CORS_ALLOW_CREDENTIALS</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CORS_ALLOW_CREDENTIALS = True</span><br></pre></td></tr></table></figure><h2 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomPagination</span>(pagination.PageNumberPagination):</span><br><span class="line">    page_size = <span class="number">10</span>  <span class="comment"># æ¯é¡µæ˜¾ç¤ºçš„æ•°æ®æ¡æ•°</span></span><br><span class="line">    page_size_query_param = <span class="string">&#x27;page_size&#x27;</span>  <span class="comment"># é¡µé¢æ•°é‡å‚æ•°åç§°è®¾ç½®</span></span><br><span class="line">    max_page_size = <span class="number">100</span></span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨å®ä¾‹"><a href="#ä½¿ç”¨å®ä¾‹" class="headerlink" title="ä½¿ç”¨å®ä¾‹"></a>ä½¿ç”¨å®ä¾‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">users = models.UserInfo.objects.<span class="built_in">filter</span>(roles=<span class="number">3</span>)</span><br><span class="line">paginator = CustomPagination()</span><br><span class="line">paginated_queryset = paginator.paginate_queryset(users, request)</span><br><span class="line">serializers = serializer.RegisterSerializer(paginated_queryset, many=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">return</span> paginator.get_paginated_response(serializers.data)</span><br></pre></td></tr></table></figure><h2 id="é…ç½®å›¾ç‰‡ä¸Šä¼ "><a href="#é…ç½®å›¾ç‰‡ä¸Šä¼ " class="headerlink" title="é…ç½®å›¾ç‰‡ä¸Šä¼ "></a>é…ç½®å›¾ç‰‡ä¸Šä¼ </h2><p><code>pip install Pillow</code></p><p><strong>settings.py</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">STATIC_URL = <span class="string">&#x27;static/&#x27;</span></span><br><span class="line">STATIC_ROOT = os.path.join(BASE_DIR, <span class="string">&#x27;static&#x27;</span>)</span><br><span class="line">MEDIA_URL = <span class="string">&#x27;/media/&#x27;</span></span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">&#x27;media&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æ ¹ç›®å½•ä¸‹é¢åˆ›å»ºmediaã€staticæ–‡ä»¶å¤¹</p><p><strong>urls</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥settings</span></span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å…¥static</span></span><br><span class="line"><span class="keyword">from</span> django.conf.urls.static <span class="keyword">import</span> static</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">urlpatterns = [</span><br><span class="line">  `````</span><br><span class="line">] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼&quot;&gt;&lt;a href=&quot;#Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼&quot; class=&quot;headerlink&quot; title=&quot;Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼&quot;&gt;&lt;/a&gt;Djangoï¼Œå¯åŠ¨ï¼ï¼ï¼&lt;/h1&gt;&lt;b</summary>
      
    
    
    
    
    <category term="Django" scheme="https://daoxuan.cc/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>django_rest_framework_simplejwtå¦‚ä½•æ›´æ”¹tokençš„é»˜è®¤è¿‡æœŸæ—¶é—´</title>
    <link href="https://daoxuan.cc/posts/10030/"/>
    <id>https://daoxuan.cc/posts/10030/</id>
    <published>2023-11-02T12:47:46.000Z</published>
    <updated>2024-12-08T16:00:49.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><div class="tip cogs"><p>ä¹¦å†™å‰è¨€</p></div><blockquote><p>jwtçš„tokenè¿‡æœŸæ—¶é—´æ˜¯åœ¨settings.pyä¸­è®¾ç½®çš„ï¼Œå¯æ˜¯å´ä¸æ˜¯djangoé¡¹ç›®çš„settings.pyä¸­è®¾ç½®çš„ï¼Œdjangoé¡¹ç›®çš„settings.pyä¸ä¼šè¦†ç›–jwtçš„settingsï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨jwtæ¨¡å—ä¸­çš„settings.pyæ›´æ”¹è¿‡æœŸæ—¶é—´</p></blockquote><h1 id="æœ¬åœ°"><a href="#æœ¬åœ°" class="headerlink" title="æœ¬åœ°"></a>æœ¬åœ°</h1><p><img src="https://picture.daoxuan.cc/image/202311022224296.webp" alt="2f738bd4b31c8701a18ba8c4ec28892f0708283851c3"></p><h2 id="æ‰¾åˆ°settings-py"><a href="#æ‰¾åˆ°settings-py" class="headerlink" title="æ‰¾åˆ°settings.py"></a>æ‰¾åˆ°settings.py</h2><p><code>L:\djangoProject\publicvenv\venv\Lib\sitepackages\rest_framework_simplejwt\settings.py</code></p><p>è¿™ä¸ªæ˜¯æˆ‘æœ¬åœ°çš„è·¯å¾„ï¼Œå®é™…ä¸Šåªéœ€è¦è¿™ä¸€æ®µå°±å¤Ÿäº†</p><blockquote><p>\venv\Lib\sitepackages\rest_framework_simplejwt\settings.py</p></blockquote><h2 id="æ›´æ”¹é…ç½®"><a href="#æ›´æ”¹é…ç½®" class="headerlink" title="æ›´æ”¹é…ç½®"></a>æ›´æ”¹é…ç½®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">DEFAULTS = &#123;</span><br><span class="line">    <span class="string">&quot;ACCESS_TOKEN_LIFETIME&quot;</span>: timedelta(minutes=<span class="number">60</span>),</span><br><span class="line">    <span class="string">&quot;REFRESH_TOKEN_LIFETIME&quot;</span>: timedelta(days=<span class="number">30</span>),</span><br><span class="line">    <span class="string">&quot;ROTATE_REFRESH_TOKENS&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">&quot;BLACKLIST_AFTER_ROTATION&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">&quot;UPDATE_LAST_LOGIN&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">&quot;ALGORITHM&quot;</span>: <span class="string">&quot;HS256&quot;</span>,</span><br><span class="line">    <span class="string">&quot;SIGNING_KEY&quot;</span>: settings.SECRET_KEY,</span><br><span class="line">    <span class="string">&quot;VERIFYING_KEY&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;AUDIENCE&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">    <span class="string">&quot;ISSUER&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">    <span class="string">&quot;JSON_ENCODER&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">    <span class="string">&quot;JWK_URL&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">    <span class="string">&quot;LEEWAY&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;AUTH_HEADER_TYPES&quot;</span>: (<span class="string">&quot;Bearer&quot;</span>,),</span><br><span class="line">    <span class="string">&quot;AUTH_HEADER_NAME&quot;</span>: <span class="string">&quot;HTTP_AUTHORIZATION&quot;</span>,</span><br><span class="line">    <span class="string">&quot;USER_ID_FIELD&quot;</span>: <span class="string">&quot;id&quot;</span>,</span><br><span class="line">    <span class="string">&quot;USER_ID_CLAIM&quot;</span>: <span class="string">&quot;user_id&quot;</span>,</span><br><span class="line">    <span class="string">&quot;USER_AUTHENTICATION_RULE&quot;</span>: <span class="string">&quot;rest_framework_simplejwt.authentication.default_user_authentication_rule&quot;</span>,</span><br><span class="line">    <span class="string">&quot;AUTH_TOKEN_CLASSES&quot;</span>: (<span class="string">&quot;rest_framework_simplejwt.tokens.AccessToken&quot;</span>,),</span><br><span class="line">    <span class="string">&quot;TOKEN_TYPE_CLAIM&quot;</span>: <span class="string">&quot;token_type&quot;</span>,</span><br><span class="line">    <span class="string">&quot;JTI_CLAIM&quot;</span>: <span class="string">&quot;jti&quot;</span>,</span><br><span class="line">    <span class="string">&quot;TOKEN_USER_CLASS&quot;</span>: <span class="string">&quot;rest_framework_simplejwt.models.TokenUser&quot;</span>,</span><br><span class="line">    <span class="string">&quot;SLIDING_TOKEN_REFRESH_EXP_CLAIM&quot;</span>: <span class="string">&quot;refresh_exp&quot;</span>,</span><br><span class="line">    <span class="string">&quot;SLIDING_TOKEN_LIFETIME&quot;</span>: timedelta(minutes=<span class="number">5</span>),</span><br><span class="line">    <span class="string">&quot;SLIDING_TOKEN_REFRESH_LIFETIME&quot;</span>: timedelta(days=<span class="number">1</span>),</span><br><span class="line">    <span class="string">&quot;TOKEN_OBTAIN_SERIALIZER&quot;</span>: <span class="string">&quot;rest_framework_simplejwt.serializers.TokenObtainPairSerializer&quot;</span>,</span><br><span class="line">    <span class="string">&quot;TOKEN_REFRESH_SERIALIZER&quot;</span>: <span class="string">&quot;rest_framework_simplejwt.serializers.TokenRefreshSerializer&quot;</span>,</span><br><span class="line">    <span class="string">&quot;TOKEN_VERIFY_SERIALIZER&quot;</span>: <span class="string">&quot;rest_framework_simplejwt.serializers.TokenVerifySerializer&quot;</span>,</span><br><span class="line">    <span class="string">&quot;TOKEN_BLACKLIST_SERIALIZER&quot;</span>: <span class="string">&quot;rest_framework_simplejwt.serializers.TokenBlacklistSerializer&quot;</span>,</span><br><span class="line">    <span class="string">&quot;SLIDING_TOKEN_OBTAIN_SERIALIZER&quot;</span>: <span class="string">&quot;rest_framework_simplejwt.serializers.TokenObtainSlidingSerializer&quot;</span>,</span><br><span class="line">    <span class="string">&quot;SLIDING_TOKEN_REFRESH_SERIALIZER&quot;</span>: <span class="string">&quot;rest_framework_simplejwt.serializers.TokenRefreshSlidingSerializer&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¯¦ç»†é…ç½®æƒ…å†µå¯ä»¥çœ‹è¿™ä¸ªå®˜æ–¹æ–‡æ¡£<a href="https://django-rest-framework-simplejwt.readthedocs.io/en/latest/settings.html">Settings â€” Simple JWT 5.2.2.post30+gfaf92e8 documentation (django-rest-framework-simplejwt.readthedocs.io)</a></p></blockquote><h1 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h1><h2 id="æ‰¾åˆ°settings-py-1"><a href="#æ‰¾åˆ°settings-py-1" class="headerlink" title="æ‰¾åˆ°settings.py"></a>æ‰¾åˆ°settings.py</h2><blockquote><p>æˆ‘æ˜¯åœ¨å®å¡”é¢æ¿é‡Œé¢éƒ¨ç½²çš„é¡¹ç›®ï¼Œé‚£ä¹ˆå…³é”®çš„é—®é¢˜å°±æ˜¯ï¼Œæˆ‘å»å“ªé‡Œæ‰èƒ½æ‰¾åˆ°ï¼Œå®å¡”é¡¹ç›®æŠŠrequirementsé‡Œé¢çš„åŒ…ä¸‹è½½åˆ°äº†å“ªé‡Œï¼Ÿ</p></blockquote><p><img src="https://picture.daoxuan.cc/image/202311022113634.png" alt="image-20231102210324538"></p><p>åˆ©ç”¨Pythoné¡¹ç›®ç®¡ç†å™¨åˆ›å»ºé¡¹ç›®çš„æ—¶å€™ä¼šè‡ªåŠ¨åœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ªvenvæ–‡ä»¶å¤¹ï¼ˆå‰é¢æœ‰ä¸€å †å­—ç¬¦çš„è¿™ä¸ªï¼‰ï¼ŒPythonçš„åŒ…éƒ½ä¸‹è½½åˆ°äº†è¿™é‡Œ</p><p><code>bd83ca6cc23aeab97630bfebbc8d5a84_venv/lib/python3.9/site-packages</code></p><p>æŒ‰ç…§è¿™ä¸ªè·¯å¾„æ¥ï¼Œä½ è¦æ‰¾çš„çš„åŒ…éƒ½åœ¨è¿™é‡Œ</p><p>åœ¨è¿™é‡Œé¢æ‰¾åˆ°<code>rest_framework_simplejwt\settings.py</code>å°±å¥½äº†</p><h2 id="æ›´æ”¹é…ç½®-1"><a href="#æ›´æ”¹é…ç½®-1" class="headerlink" title="æ›´æ”¹é…ç½®"></a>æ›´æ”¹é…ç½®</h2><p>åŒä¸Š</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;div class=&quot;tip cogs&quot;&gt;&lt;p&gt;ä¹¦å†™å‰è¨€&lt;/p&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;jwtçš„tokenè¿‡æœŸæ—¶é—´æ˜¯åœ¨settings.pyä¸­è®¾ç½®çš„ï¼Œå¯æ˜¯å´ä¸æ˜¯djangoé¡¹ç›®çš„setting</summary>
      
    
    
    
    
    <category term="django" scheme="https://daoxuan.cc/tags/django/"/>
    
  </entry>
  
  <entry>
    <title>djangoæ•°æ®åº“è®²è¯¾æ–‡æ¡ˆ</title>
    <link href="https://daoxuan.cc/posts/59715/"/>
    <id>https://daoxuan.cc/posts/59715/</id>
    <published>2023-10-28T15:44:52.000Z</published>
    <updated>2025-03-25T01:55:31.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h2 id="è¯¾ç¨‹å‰æœŸå‡†å¤‡"><a href="#è¯¾ç¨‹å‰æœŸå‡†å¤‡" class="headerlink" title="è¯¾ç¨‹å‰æœŸå‡†å¤‡"></a>è¯¾ç¨‹å‰æœŸå‡†å¤‡</h2><blockquote><p>é»˜è®¤æ•°æ®åº“é…ç½®sqlite</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    &#x27;default&#x27;: &#123;</span><br><span class="line">        &#x27;ENGINE&#x27;: &#x27;django.db.backends.sqlite3&#x27;,</span><br><span class="line">        &#x27;NAME&#x27;: BASE_DIR / &#x27;db.sqlite3&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹ä¸ºmysql</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    &#x27;default&#x27;: &#123;</span><br><span class="line">        &#x27;ENGINE&#x27;: &#x27;django.db.backends.mysql&#x27;,</span><br><span class="line">        &#x27;NAME&#x27;: MYSQL_DB_NAME,</span><br><span class="line">        &#x27;USER&#x27;: MYSQL_DB_USER,</span><br><span class="line">        &#x27;PASSWORD&#x27;: MYSQL_DB_PASSWORD,</span><br><span class="line">        &#x27;HOST&#x27;: &#x27;127.0.0.1&#x27;,</span><br><span class="line">        &#x27;PORT&#x27;: 3306,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åˆ›å»ºapp</p><p><code>startapp &lt;app_label&gt;</code></p><p>ä¸‹è½½mysqlclient</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = (</span><br><span class="line">    &#x27;django.contrib.admin&#x27;,</span><br><span class="line">    &#x27;django.contrib.auth&#x27;,</span><br><span class="line">    &#x27;django.contrib.contenttypes&#x27;,</span><br><span class="line">    &#x27;django.contrib.sessions&#x27;,</span><br><span class="line">    &#x27;django.contrib.messages&#x27;,</span><br><span class="line">    &#x27;django.contrib.staticfiles&#x27;,</span><br><span class="line">    &#x27;app01&#x27;, # æ·»åŠ æ­¤é¡¹</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºbookç±»</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class Book(models.Model): </span><br><span class="line">Â  Â  id = models.AutoField(primary_key=True) # id ä¼šè‡ªåŠ¨åˆ›å»º,å¯ä»¥æ‰‹åŠ¨å†™å…¥</span><br><span class="line">Â  Â  title = models.CharField(max_length=32) # ä¹¦ç±åç§°</span><br><span class="line">Â  Â  price = models.DecimalField(max_digits=5, decimal_places=2) # ä¹¦ç±ä»·æ ¼ </span><br><span class="line">Â  Â  publish = models.CharField(max_length=32) # å‡ºç‰ˆç¤¾åç§° </span><br><span class="line">Â  Â  pub_date = models.DateField() # å‡ºç‰ˆæ—¶é—´</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">makemigrations</span><br><span class="line">migrate</span><br></pre></td></tr></table></figure><h3 id="é…ç½®url"><a href="#é…ç½®url" class="headerlink" title="é…ç½®url"></a>é…ç½®url</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">urlpatterns = [</span><br><span class="line">    path(&#x27;add_book/&#x27;, views.add_book),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h3><ul><li>view.py</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from django.shortcuts import render,HttpResponse</span><br><span class="line">from app01 import models </span><br><span class="line">def add_book(request):</span><br><span class="line">    book = models.Book(title=&quot;èœé¸Ÿæ•™ç¨‹&quot;,price=300,publish=&quot;èœé¸Ÿå‡ºç‰ˆç¤¾&quot;,pub_date=&quot;2008-8-8&quot;) </span><br><span class="line">    book.save()</span><br><span class="line">    return HttpResponse(&quot;&lt;p&gt;æ•°æ®æ·»åŠ æˆåŠŸï¼&lt;/p&gt;&quot;)</span><br><span class="line">    </span><br><span class="line"># def add_book(request):</span><br><span class="line">#     books = models.Book.objects.create(title=&quot;å¦‚æ¥ç¥æŒ&quot;,price=200,publish=&quot;åŠŸå¤«å‡ºç‰ˆç¤¾&quot;,pub_date=&quot;2010-10-10&quot;) </span><br><span class="line">#     print(books, type(books)) # Book object (18) </span><br><span class="line">#     return HttpResponse(&quot;&lt;p&gt;æ•°æ®æ·»åŠ æˆåŠŸï¼&lt;/p&gt;&quot;)</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><p><code>all()</code>, <code>filter</code>, <code>exclude()</code>, <code>get()</code>, <code>order_by()</code>, <code>first()</code>, <code>__contains</code>, <code>__range</code></p><h3 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h3><ul><li><p>ä½¿ç”¨æ¨¡å‹ç±»çš„ <strong>å¯¹è±¡.delete()</strong></p></li><li><p>ä½¿ç”¨ QuerySet <strong>ç±»å‹æ•°æ®.delete()</strong></p></li></ul><h3 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h3><ul><li>```<br>æ¨¡å‹ç±»çš„å¯¹è±¡.å±æ€§ = æ›´æ”¹çš„å±æ€§å€¼<br>æ¨¡å‹ç±»çš„å¯¹è±¡.save()<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* QuerySet ç±»å‹æ•°æ®.update(å­—æ®µå=æ›´æ”¹çš„æ•°æ®)</span><br><span class="line"></span><br><span class="line">&gt; `objects` æ˜¯è¯¥æ¨¡å‹çš„é»˜è®¤ç®¡ç†å™¨ã€‚é€šè¿‡è¿™ä¸ªç®¡ç†å™¨ï¼Œä½ å¯ä»¥æ‰§è¡Œå„ç§æ•°æ®åº“æŸ¥è¯¢æ“ä½œ</span><br><span class="line"></span><br><span class="line">SQLè¯­å¥</span><br><span class="line"></span><br></pre></td></tr></table></figure>insert into app02_publish(name,city,email) values (â€œåå±±å‡ºç‰ˆç¤¾â€, â€œåå±±â€, â€œhs@163.comâ€), (â€œæ˜æ•™å‡ºç‰ˆç¤¾â€, â€œé»‘æœ¨å´–â€, â€œmj@163.comâ€)</li></ul><h1 id="å…ˆæ’å…¥-authordetail-è¡¨ä¸­å¤šæ•°æ®"><a href="#å…ˆæ’å…¥-authordetail-è¡¨ä¸­å¤šæ•°æ®" class="headerlink" title="å…ˆæ’å…¥ authordetail è¡¨ä¸­å¤šæ•°æ®"></a>å…ˆæ’å…¥ authordetail è¡¨ä¸­å¤šæ•°æ®</h1><p>insert into app02_authordetail(gender,tel,addr,birthday) values (1,13432335433,â€åå±±â€,â€1994-5-23â€), (1,13943454554,â€é»‘æœ¨å´–â€,â€1961-8-13â€), (0,13878934322,â€é»‘æœ¨å´–â€,â€1996-5-20â€) </p><h1 id="å†å°†æ•°æ®æ’å…¥-authorï¼Œè¿™æ ·-author-æ‰èƒ½æ‰¾åˆ°-authordetail"><a href="#å†å°†æ•°æ®æ’å…¥-authorï¼Œè¿™æ ·-author-æ‰èƒ½æ‰¾åˆ°-authordetail" class="headerlink" title="å†å°†æ•°æ®æ’å…¥ authorï¼Œè¿™æ · author æ‰èƒ½æ‰¾åˆ° authordetail"></a>å†å°†æ•°æ®æ’å…¥ authorï¼Œè¿™æ · author æ‰èƒ½æ‰¾åˆ° authordetail</h1><p>insert into app02_author(name,age,au_detail_id) values (â€œä»¤ç‹å†²â€,25,1), (â€œä»»æˆ‘è¡Œâ€,58,2), (â€œä»»ç›ˆç›ˆâ€,23,3)<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¤šè¡¨å®ä¾‹</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>class Book(models.Model):<br>    title = models.CharField(max_length=32)<br>    price = models.DecimalField(max_digits=5, decimal_places=2)<br>    pub_date = models.DateField()<br>    publish = models.ForeignKey(â€œPublishâ€, on_delete=models.CASCADE)<br>    authors = models.ManyToManyField(â€œAuthorâ€)</p><p>class Publish(models.Model):<br>    name = models.CharField(max_length=32)<br>    city = models.CharField(max_length=64)<br>    email = models.EmailField()</p><p>class Author(models.Model):<br>    name = models.CharField(max_length=32)<br>    age = models.SmallIntegerField()<br>    au_detail = models.OneToOneField(â€œAuthorDetailâ€, on_delete=models.CASCADE)</p><p>class AuthorDetail(models.Model):<br>    gender_choices = (<br>        (0, â€œå¥³â€),<br>        (1, â€œç”·â€),<br>        (2, â€œä¿å¯†â€),<br>    )<br>    gender = models.SmallIntegerField(choices=gender_choices)<br>    tel = models.CharField(max_length=32)<br>    addr = models.CharField(max_length=64)<br>    birthday = models.DateField()<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![img](https://www.runoob.com/wp-content/uploads/2020/05/Django-orm2_1.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¡¨ä¸è¡¨ç›´æ¥çš„å…³ç³»</span><br><span class="line"></span><br><span class="line">![img](https://www.runoob.com/wp-content/uploads/2020/05/orm11.png)</span><br><span class="line"></span><br><span class="line">### ä¸€å¯¹å¤š</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>def add_book(request):</p><pre><code>#  è·å–å‡ºç‰ˆç¤¾å¯¹è±¡pub_obj = models.Publish.objects.filter(pk=1).first()#  ç»™ä¹¦ç±çš„å‡ºç‰ˆç¤¾å±æ€§publishä¼ å‡ºç‰ˆç¤¾å¯¹è±¡book = models.Book.objects.create(title=&quot;èœé¸Ÿæ•™ç¨‹&quot;, price=200, pub_date=&quot;2010-10-10&quot;, publish=pub_obj)print(book, type(book))return HttpResponse(book)</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><p>def add_book(request):</p><pre><code>#  è·å–å‡ºç‰ˆç¤¾å¯¹è±¡pub_obj = models.Publish.objects.filter(pk=1).first()#  è·å–å‡ºç‰ˆç¤¾å¯¹è±¡çš„idpk = pub_obj.pk#  ç»™ä¹¦ç±çš„å…³è”å‡ºç‰ˆç¤¾å­—æ®µ publish_id ä¼ å‡ºç‰ˆç¤¾å¯¹è±¡çš„idbook = models.Book.objects.create(title=&quot;å†²çµå‰‘æ³•&quot;, price=100, pub_date=&quot;2004-04-04&quot;, publish_id=pk)print(book, type(book))return HttpResponse(book)</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; å°å†™è¡¨å_set</span><br><span class="line"></span><br><span class="line">åœ¨ Django ä¸­ï¼Œå½“ä½ å®šä¹‰ä¸€ä¸ªæ¨¡å‹ï¼ˆModelï¼‰å¹¶åˆ›å»ºä¸ä¹‹å…³è”çš„å¤–é”®æˆ–å¤šå¯¹å¤šå…³ç³»ï¼ˆForeignKey æˆ– ManyToManyFieldï¼‰æ—¶ï¼ŒDjango ä¼šè‡ªåŠ¨ä¸ºä½ çš„æ¨¡å‹ç”Ÿæˆä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§çš„å‘½åè§„åˆ™æ˜¯å°å†™çš„ç›®æ ‡æ¨¡å‹åç§°åŠ ä¸Š &quot;_set&quot;ã€‚</span><br><span class="line"></span><br><span class="line">è¿™ä¸ªå±æ€§å…è®¸ä½ åœ¨æŸ¥è¯¢ä¸­è®¿é—®ä¸å½“å‰æ¨¡å‹ç›¸å…³çš„å¯¹è±¡é›†åˆã€‚è¿™é€šå¸¸ç”¨äºåå‘å…³è”ï¼Œå…è®¸ä½ é€šè¿‡å¤–é”®æˆ–å¤šå¯¹å¤šå…³ç³»æŸ¥æ‰¾ä¸å½“å‰æ¨¡å‹ç›¸å…³çš„å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨å°å†™çš„ç›®æ ‡æ¨¡å‹åç§°åŠ ä¸Š &quot;_set&quot; è®¿é—®ä¸å½“å‰æ¨¡å‹ç›¸å…³çš„å¯¹è±¡é›†åˆï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>from django.db import models</p><p>class Author(models.Model):<br>    name = models.CharField(max_length=100)</p><p>class Book(models.Model):<br>    title = models.CharField(max_length=100)<br>    author = models.ForeignKey(Author, on_delete=models.CASCADE)</p><h1 id="åˆ›å»ºä½œè€…å’Œä¹¦ç±å¯¹è±¡"><a href="#åˆ›å»ºä½œè€…å’Œä¹¦ç±å¯¹è±¡" class="headerlink" title="åˆ›å»ºä½œè€…å’Œä¹¦ç±å¯¹è±¡"></a>åˆ›å»ºä½œè€…å’Œä¹¦ç±å¯¹è±¡</h1><p>author = Author.objects.create(name=â€™John Smithâ€™)<br>book1 = Book.objects.create(title=â€™Book 1â€™, author=author)<br>book2 = Book.objects.create(title=â€™Book 2â€™, author=author)</p><h1 id="é€šè¿‡-Author-æ¨¡å‹çš„å°å†™åç§°-â€œ-setâ€-è®¿é—®ä¸ä½œè€…ç›¸å…³çš„ä¹¦ç±"><a href="#é€šè¿‡-Author-æ¨¡å‹çš„å°å†™åç§°-â€œ-setâ€-è®¿é—®ä¸ä½œè€…ç›¸å…³çš„ä¹¦ç±" class="headerlink" title="é€šè¿‡ Author æ¨¡å‹çš„å°å†™åç§° + â€œ_setâ€ è®¿é—®ä¸ä½œè€…ç›¸å…³çš„ä¹¦ç±"></a>é€šè¿‡ Author æ¨¡å‹çš„å°å†™åç§° + â€œ_setâ€ è®¿é—®ä¸ä½œè€…ç›¸å…³çš„ä¹¦ç±</h1><p>books = author.book_set.all()</p><h1 id="æ‰“å°ä½œè€…çš„ä¹¦ç±"><a href="#æ‰“å°ä½œè€…çš„ä¹¦ç±" class="headerlink" title="æ‰“å°ä½œè€…çš„ä¹¦ç±"></a>æ‰“å°ä½œè€…çš„ä¹¦ç±</h1><p>for book in books:<br>    print(book.title)</p><h1 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º:"></a>è¾“å‡º:</h1><h1 id="Book-1"><a href="#Book-1" class="headerlink" title="Book 1"></a>Book 1</h1><h1 id="Book-2"><a href="#Book-2" class="headerlink" title="Book 2"></a>Book 2</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## å¤šå¯¹å¤š</span><br><span class="line"></span><br><span class="line">åœ¨ Django ä¸­ï¼Œå¤šå¯¹å¤šï¼ˆMany-to-Manyï¼‰å…³ç³»ç”¨äºå»ºç«‹æ¨¡å‹ä¹‹é—´çš„å¤šå¯¹å¤šå…³è”ã€‚è¿™æ„å‘³ç€ä¸€ä¸ªæ¨¡å‹çš„å®ä¾‹å¯ä»¥ä¸å¤šä¸ªå¦ä¸€ä¸ªæ¨¡å‹çš„å®ä¾‹å…³è”ï¼Œå¹¶åä¹‹äº¦ç„¶ã€‚å¤šå¯¹å¤šå…³ç³»åœ¨è®¸å¤šåº”ç”¨ä¸­éƒ½å¾ˆå¸¸è§ï¼Œä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªéŸ³ä¹åº”ç”¨ä¸­ï¼Œæ­Œæ›²å¯ä»¥æœ‰å¤šä¸ªæ ‡ç­¾ï¼Œè€Œæ ‡ç­¾ä¹Ÿå¯ä»¥åº”ç”¨åˆ°å¤šé¦–æ­Œæ›²ã€‚</span><br><span class="line"></span><br><span class="line">ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨ Django ä¸­å®šä¹‰å’Œä½¿ç”¨å¤šå¯¹å¤šæ•°æ®è¡¨çš„åŸºæœ¬æ­¥éª¤ï¼š</span><br><span class="line"></span><br><span class="line">1. **å®šä¹‰æ¨¡å‹**ï¼šé¦–å…ˆï¼Œä½ éœ€è¦å®šä¹‰ä¸¤ä¸ªæˆ–æ›´å¤šæ¨¡å‹ï¼Œå¹¶åœ¨å…¶ä¸­ä¸€ä¸ªæ¨¡å‹ä¸­åˆ›å»ºå¤šå¯¹å¤šå…³ç³»å­—æ®µï¼Œé€šå¸¸æ˜¯ `models.ManyToManyField` å­—æ®µã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªæ¨¡å‹ï¼š`Song` å’Œ `Tag`ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>   pythonCopy codefrom django.db import models</p><p>   class Song(models.Model):<br>       title = models.CharField(max_length=100)<br>       tags = models.ManyToManyField(â€˜Tagâ€™)</p><p>   class Tag(models.Model):<br>       name = models.CharField(max_length=50)<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. **åˆ›å»ºæ•°æ®**ï¼šä½ å¯ä»¥åˆ›å»ºæ¨¡å‹å®ä¾‹å¹¶å°†å®ƒä»¬ç›¸å…³è”ï¼Œä»¥å»ºç«‹å¤šå¯¹å¤šå…³ç³»ã€‚åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œä½ å¯ä»¥åˆ›å»ºæ­Œæ›²å’Œæ ‡ç­¾çš„å®ä¾‹ï¼Œå¹¶ä½¿ç”¨å¤šå¯¹å¤šå…³ç³»å­—æ®µæ¥æŒ‡å®šå®ƒä»¬ä¹‹é—´çš„å…³è”ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>   pythonCopy coderock = Tag.objects.create(name=â€™Rockâ€™)<br>   pop = Tag.objects.create(name=â€™Popâ€™)</p><p>   song1 = Song.objects.create(title=â€™Song 1â€™)<br>   song1.tags.add(rock)</p><p>   song2 = Song.objects.create(title=â€™Song 2â€™)<br>   song2.tags.add(rock, pop)<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">3. **æŸ¥è¯¢æ•°æ®**ï¼šä½ å¯ä»¥æŸ¥è¯¢å¤šå¯¹å¤šå…³ç³»ä¸­çš„æ•°æ®ï¼ŒæŸ¥æ‰¾ç‰¹å®šæ¨¡å‹å®ä¾‹çš„ç›¸å…³å¯¹è±¡æˆ–åä¹‹äº¦ç„¶ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>   pythonCopy code# æ‰¾åˆ°å…·æœ‰ç‰¹å®šæ ‡ç­¾çš„æ­Œæ›²<br>   rock_songs = Song.objects.filter(tags__name=â€™Rockâ€™)</p><h1 id="æ‰¾åˆ°ç‰¹å®šæ­Œæ›²çš„æ ‡ç­¾"><a href="#æ‰¾åˆ°ç‰¹å®šæ­Œæ›²çš„æ ‡ç­¾" class="headerlink" title="æ‰¾åˆ°ç‰¹å®šæ­Œæ›²çš„æ ‡ç­¾"></a>æ‰¾åˆ°ç‰¹å®šæ­Œæ›²çš„æ ‡ç­¾</h1><p>   song_tags = song1.tags.all()<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. **æ›´æ–°å’Œåˆ é™¤æ•°æ®**ï¼šä½ å¯ä»¥æ›´æ–°å¤šå¯¹å¤šå…³ç³»ï¼Œæ·»åŠ æˆ–åˆ é™¤å…³è”ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸ºç°æœ‰çš„æ­Œæ›²æ·»åŠ æˆ–åˆ é™¤æ ‡ç­¾ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>   pythonCopy code# ä¸ºæ­Œæ›²æ·»åŠ æ ‡ç­¾<br>   song1.tags.add(pop)</p><h1 id="ä¸ºæ­Œæ›²åˆ é™¤æ ‡ç­¾"><a href="#ä¸ºæ­Œæ›²åˆ é™¤æ ‡ç­¾" class="headerlink" title="ä¸ºæ­Œæ›²åˆ é™¤æ ‡ç­¾"></a>ä¸ºæ­Œæ›²åˆ é™¤æ ‡ç­¾</h1><p>   song2.tags.remove(rock)<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">5. **åå‘å…³è”**ï¼šå¤šå¯¹å¤šå…³ç³»å…è®¸åå‘æŸ¥æ‰¾å…³è”æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æŸ¥æ‰¾å…·æœ‰ç‰¹å®šæ ‡ç­¾çš„æ‰€æœ‰æ­Œæ›²ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>   pythonCopy code# æ‰¾åˆ°å…·æœ‰ç‰¹å®šæ ‡ç­¾çš„æ‰€æœ‰æ­Œæ›²<br>   rock_songs = rock.song_set.all()<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### F() æŸ¥è¯¢</span><br><span class="line"></span><br><span class="line">F() çš„å®ä¾‹å¯ä»¥åœ¨æŸ¥è¯¢ä¸­å¼•ç”¨å­—æ®µï¼Œæ¥æ¯”è¾ƒåŒä¸€ä¸ª model å®ä¾‹ä¸­ä¸¤ä¸ªä¸åŒå­—æ®µçš„å€¼ã€‚</span><br><span class="line"></span><br><span class="line">ä¹‹å‰æ„é€ çš„è¿‡æ»¤å™¨éƒ½åªæ˜¯å°†å­—æ®µå€¼ä¸æŸä¸ªå¸¸é‡åšæ¯”è¾ƒï¼Œå¦‚æœæƒ³è¦å¯¹ä¸¤ä¸ªå­—æ®µçš„å€¼åšæ¯”è¾ƒï¼Œå°±éœ€è¦ç”¨åˆ° F()ã€‚</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨å‰è¦å…ˆä» django.db.models å¼•å…¥ F:</span><br><span class="line"></span><br><span class="line">``` python</span><br><span class="line">from django.db.models import F</span><br></pre></td></tr></table></figure></p><p>ç”¨æ³•ï¼š</p><blockquote><p>F(â€œå­—æ®µåç§°â€)</p></blockquote><p>F åŠ¨æ€è·å–å¯¹è±¡å­—æ®µçš„å€¼ï¼Œå¯ä»¥è¿›è¡Œè¿ç®—ã€‚</p><p>Django æ”¯æŒ F() å¯¹è±¡ä¹‹é—´ä»¥åŠ F() å¯¹è±¡å’Œå¸¸æ•°ä¹‹é—´çš„åŠ å‡ä¹˜é™¤å’Œå–ä½™çš„æ“ä½œã€‚</p><p>ä¿®æ”¹æ“ä½œï¼ˆupdateï¼‰ä¹Ÿå¯ä»¥ä½¿ç”¨ F() å‡½æ•°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = models.Book.objects.update(price=F(&quot;price&quot;)+100)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure><h3 id="Q-æŸ¥è¯¢"><a href="#Q-æŸ¥è¯¢" class="headerlink" title="Q() æŸ¥è¯¢"></a>Q() æŸ¥è¯¢</h3><p>ä½¿ç”¨å‰è¦å…ˆä» django.db.models å¼•å…¥ Q:</p><blockquote><p>from django.db.models import Q</p></blockquote><p>ç”¨æ³•ï¼š</p><blockquote><p>Q(æ¡ä»¶åˆ¤æ–­)</p></blockquote><p>ä¾‹å¦‚ï¼š</p><blockquote><p>Q(title__startswith=â€èœâ€)</p></blockquote><p>ä¹‹å‰æ„é€ çš„è¿‡æ»¤å™¨é‡Œçš„å¤šä¸ªæ¡ä»¶çš„å…³ç³»éƒ½æ˜¯ andï¼Œå¦‚æœéœ€è¦æ‰§è¡Œæ›´å¤æ‚çš„æŸ¥è¯¢ï¼ˆä¾‹å¦‚ or è¯­å¥ï¼‰ï¼Œå°±å¯ä»¥ä½¿ç”¨ Q ã€‚</p><p>Q å¯¹è±¡å¯ä»¥ä½¿ç”¨ &amp; | ~ ï¼ˆä¸ æˆ– éï¼‰æ“ä½œç¬¦è¿›è¡Œç»„åˆã€‚</p><p>ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼š~ &amp; |ã€‚</p><p>å¯ä»¥æ··åˆä½¿ç”¨ Q å¯¹è±¡å’Œå…³é”®å­—å‚æ•°ï¼ŒQ å¯¹è±¡å’Œå…³é”®å­—å‚æ•°æ˜¯ç”¨â€andâ€æ‹¼åœ¨ä¸€èµ·çš„ï¼ˆå³å°†é€—å·çœ‹æˆ and ï¼‰ï¼Œä½†æ˜¯ Q å¯¹è±¡å¿…é¡»ä½äºæ‰€æœ‰å…³é”®å­—å‚æ•°çš„å‰é¢ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res=models.Book.objects.filter(Q(price__gt=350)|Q(title__startswith=&quot;èœ&quot;)).values(&quot;title&quot;,&quot;price&quot;)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure><h2 id="é™„åŠ "><a href="#é™„åŠ " class="headerlink" title="é™„åŠ "></a>é™„åŠ </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Meta:</span><br><span class="line">    db_table = &#x27;book&#x27; # å‘½å</span><br><span class="line">    verbose_name = &#x27;å›¾ä¹¦&#x27;  # æ¨¡å‹åˆ«å</span><br><span class="line">    verbose_name_plural = &#x27;å›¾ä¹¦åˆ—è¡¨&#x27;  # æ¨¡å‹çš„å¤æ•°å½¢å¼åˆ«å</span><br></pre></td></tr></table></figure><p><strong>æŠ½è±¡ç±»æ¨¡å‹ï¼ˆAbstract Base Classï¼‰</strong>ï¼š</p><ul><li>æŠ½è±¡ç±»æ¨¡å‹æ˜¯ä¸€ç§ä¸ä¼šè¢«æ•°æ®åº“åˆ›å»ºçš„æ¨¡å‹ã€‚å®ƒä¸ä¼šç”Ÿæˆæ•°æ®åº“è¡¨ï¼Œè€Œä»…ç”¨äºç»§æ‰¿ã€‚</li><li>ç”¨äºå°†å…±äº«çš„å­—æ®µå’Œæ–¹æ³•å°è£…åœ¨ä¸€ä¸ªåŸºç±»ä¸­ï¼Œä»¥ä¾›å¤šä¸ªå­ç±»æ¨¡å‹ç»§æ‰¿å’Œé‡ç”¨ã€‚</li><li>æŠ½è±¡ç±»æ¨¡å‹é€šå¸¸åŒ…å«ä¸€äº›é€šç”¨çš„å­—æ®µå’Œæ–¹æ³•ï¼Œå¯ä»¥åœ¨å¤šä¸ªæ¨¡å‹ä¸­å…±äº«ã€‚</li><li>ä¸èƒ½ç›´æ¥ä½¿ç”¨æŠ½è±¡ç±»æ¨¡å‹åˆ›å»ºæ•°æ®åº“è®°å½•ï¼Œåªèƒ½é€šè¿‡å­ç±»æ¨¡å‹åˆ›å»ºè®°å½•ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">pythonCopy codefrom django.db import models</span><br><span class="line"></span><br><span class="line">class BaseModel(models.Model):</span><br><span class="line">    created_at = models.DateTimeField(auto_now_add=True)</span><br><span class="line">    updated_at = models.DateTimeField(auto_now=True)</span><br><span class="line"></span><br><span class="line">    class Meta:</span><br><span class="line">        abstract = True  # å°†æ¨¡å‹è®¾ç½®ä¸ºæŠ½è±¡ç±»</span><br><span class="line"></span><br><span class="line">class Post(BaseModel):</span><br><span class="line">    title = models.CharField(max_length=100)</span><br><span class="line">    content = models.TextField()</span><br><span class="line"></span><br><span class="line">class Comment(BaseModel):</span><br><span class="line">    post = models.ForeignKey(Post, on_delete=models.CASCADE)</span><br><span class="line">    text = models.TextField()</span><br></pre></td></tr></table></figure><p><strong>ä»£ç†ç±»æ¨¡å‹ï¼ˆProxy Modelï¼‰</strong>ï¼š</p><ul><li>ä»£ç†ç±»æ¨¡å‹æ˜¯ä¸€ä¸ªå·²å­˜åœ¨æ¨¡å‹çš„ä»£ç†ï¼Œå®ƒå¯ä»¥è¢«ç”¨æ¥æ‰©å±•æˆ–ä¿®æ”¹ç°æœ‰æ¨¡å‹çš„è¡Œä¸ºï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åŸå§‹æ¨¡å‹ã€‚</li><li>ä»£ç†ç±»æ¨¡å‹åŸºäºç°æœ‰æ¨¡å‹åˆ›å»ºï¼Œå› æ­¤å®ƒä¸åŸå§‹æ¨¡å‹å…±äº«ç›¸åŒçš„æ•°æ®åº“è¡¨ã€‚</li><li>ä»£ç†ç±»æ¨¡å‹å¯ä»¥ç”¨äºæ·»åŠ æ–°æ–¹æ³•ã€å±æ€§æˆ–å®šåˆ¶æŸ¥è¯¢ï¼Œè€Œä¸ä¼šå¯¹æ•°æ®åº“ç»“æ„äº§ç”Ÿå½±å“ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">pythonCopy codefrom django.db import models</span><br><span class="line"></span><br><span class="line">class MyModel(models.Model):</span><br><span class="line">    name = models.CharField(max_length=100)</span><br><span class="line">    value = models.IntegerField()</span><br><span class="line"></span><br><span class="line">class MyModelProxy(MyModel):</span><br><span class="line">    class Meta:</span><br><span class="line">        proxy = True</span><br><span class="line"></span><br><span class="line">    def double_value(self):</span><br><span class="line">        return self.value * 2</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h2 id=&quot;è¯¾ç¨‹å‰æœŸå‡†å¤‡&quot;&gt;&lt;a href=&quot;#è¯¾ç¨‹å‰æœŸå‡†å¤‡&quot; class=&quot;headerlink&quot; title=&quot;è¯¾ç¨‹å‰æœŸå‡†å¤‡&quot;&gt;&lt;/a&gt;è¯¾ç¨‹å‰æœŸå‡†å¤‡&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;é»˜è®¤æ•°æ®åº“é…ç½®sql</summary>
      
    
    
    
    
    <category term="æ•™ç¨‹" scheme="https://daoxuan.cc/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Mermaidä»å…¥é—¨åˆ°å…¥åœŸâ€”â€”Markdownè¿›é˜¶è¯­æ³•</title>
    <link href="https://daoxuan.cc/posts/58914/"/>
    <id>https://daoxuan.cc/posts/58914/</id>
    <published>2023-09-19T16:37:02.000Z</published>
    <updated>2024-12-08T16:00:51.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><p>CVè‡ª<a href="https://zhuanlan.zhihu.com/p/355997933">Mermaidä»å…¥é—¨åˆ°å…¥åœŸâ€”â€”Markdownè¿›é˜¶è¯­æ³• - çŸ¥ä¹ (zhihu.com)</a></p><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><ul><li>ä»€ä¹ˆæ˜¯Mermaidï¼Ÿ<ul><li>Mermaidæ˜¯ä¸€ç§åŸºäºJavascriptçš„ç»˜å›¾å·¥å…·ï¼Œä½¿ç”¨ç±»ä¼¼äºMarkdownçš„è¯­æ³•ï¼Œä½¿ç”¨æˆ·å¯ä»¥æ–¹ä¾¿å¿«æ·åœ°é€šè¿‡ä»£ç åˆ›å»ºå›¾è¡¨ã€‚</li><li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/mermaid-js/mermaidï¼ˆéœ€è¦å°†æ¢¯å­è®¾ç½®æˆå…¨å±€æ¨¡å¼æ‰èƒ½è®¿é—®ï¼‰">https://github.com/mermaid-js/mermaidï¼ˆéœ€è¦å°†æ¢¯å­è®¾ç½®æˆå…¨å±€æ¨¡å¼æ‰èƒ½è®¿é—®ï¼‰</a></li></ul></li></ul><ul><li><p>æ€ä¹ˆä½¿ç”¨Mermaidï¼Ÿ</p><ul><li>ä½¿ç”¨ç‰¹å®šçš„Mermaidæ¸²æŸ“å™¨ï¼›</li><li><strong>ä½¿ç”¨é›†æˆäº†Mermaidæ¸²æŸ“åŠŸèƒ½çš„Markdownç¼–è¾‘å™¨ï¼Œå¦‚<a href="https://www.typora.io/">Typora</a>ã€‚</strong>ä½¿ç”¨æ—¶ï¼Œéœ€è¦å°†ä»£ç å—çš„è¯­è¨€é€‰æ‹©ä¸ºMermaidã€‚</li></ul><blockquote><p>Typoraæ˜¯å®‡å®™ç¬¬ä¸€ç¬”è®°è½¯ä»¶ï¼Œä¸æ¥å—åé©³</p></blockquote></li><li><p>Mermaidèƒ½ç»˜åˆ¶å“ªäº›å›¾ï¼Ÿ</p><ul><li>é¥¼çŠ¶å›¾ï¼šä½¿ç”¨<code>pie</code>å…³é”®å­—ï¼Œå…·ä½“ç”¨æ³•åæ–‡å°†è¯¦ç»†ä»‹ç»</li><li>æµç¨‹å›¾ï¼šä½¿ç”¨<code>graph</code>å…³é”®å­—ï¼Œå…·ä½“ç”¨æ³•åæ–‡å°†è¯¦ç»†ä»‹ç»</li><li>åºåˆ—å›¾ï¼šä½¿ç”¨<code>sequenceDiagram</code>å…³é”®å­—</li><li>ç”˜ç‰¹å›¾ï¼šä½¿ç”¨<code>gantt</code>å…³é”®å­—</li><li>ç±»å›¾ï¼šä½¿ç”¨<code>classDiagram</code>å…³é”®å­—</li><li>çŠ¶æ€å›¾ï¼šä½¿ç”¨<code>stateDiagram</code>å…³é”®å­—</li><li>ç”¨æˆ·æ—…ç¨‹å›¾ï¼šä½¿ç”¨<code>journey</code>å…³é”®å­—</li></ul></li><li><p>å®ä¾‹ï¼šæœ±å…ƒç’‹å®¶è°±ç®€å›¾ï¼Œåœ†åœˆä»£è¡¨çš‡å¸</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">emperor((æœ±å…«å…«))-.å­.-&gt;father(æœ±äº”å››)-.å­.-&gt;æœ±å››ä¹-.å­.-&gt;æœ±ç™¾å…­</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æœ±é›„è‹±--é•¿å­--&gt;æœ±æ ‡--é•¿å­--&gt;emperor</span><br><span class="line">emperor2((æœ±å…ç‚†))--æ¬¡å­--&gt;æœ±æ ‡</span><br><span class="line">æœ±æ¨‰--æ¬¡å­--&gt;emperor</span><br><span class="line">æœ±æ£¡--ä¸‰å­--&gt;emperor</span><br><span class="line">emperor3((æœ±æ££))--å››å­--&gt;emperor</span><br><span class="line">emperor4((æœ±é«˜ç‚½))--é•¿å­--&gt;emperor3</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯æ¦‚è¿°ï¼Œä¸‹é¢è¯¦ç»†ä»‹ç»é¥¼çŠ¶å›¾å’Œæµç¨‹å›¾çš„è¯­æ³•ã€‚å…¶ä»–å›¾çš„è¯­æ³•å¯è®¿é—®ä¸Šæ–‡ç»™å‡ºçš„é¡¹ç›®åœ°å€ï¼Œè‡ªè¡Œå­¦ä¹ ã€‚ï¼ˆè®°å¾—æŒ‚æ¢¯å­ï¼‰</p><h1 id="é¥¼çŠ¶å›¾"><a href="#é¥¼çŠ¶å›¾" class="headerlink" title="é¥¼çŠ¶å›¾"></a>é¥¼çŠ¶å›¾</h1><ul><li><p>åœ¨çº¿æ¸²æŸ“å™¨ï¼š<a href="https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoicGllXG5cIkRvZ3NcIiA6IDQyLjk2XG5cIkNhdHNcIiA6IDUwLjA1XG5cIlJhdHNcIiA6IDEwLjAxIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0">Online FlowChart &amp; Diagrams Editor</a>ï¼ˆéœ€è¦æ¢¯å­ï¼‰</p></li><li><p>è¯­æ³•</p><ul><li>ä»<code>pie</code>å…³é”®å­—å¼€å§‹å›¾è¡¨</li><li>ç„¶åä½¿ç”¨<code>title</code>å…³é”®å­—åŠå…¶åœ¨å­—ç¬¦ä¸²ä¸­çš„å€¼ï¼Œä¸ºé¥¼å›¾èµ‹äºˆæ ‡é¢˜ã€‚ï¼ˆè¿™æ˜¯<strong>å¯é€‰çš„</strong>ï¼‰</li><li>æ•°æ®éƒ¨åˆ†<ul><li>åœ¨<code>&quot; &quot;</code>å†…å†™ä¸Šåˆ†åŒºåã€‚</li><li>åˆ†åŒºååä½¿ç”¨<code>:</code>ä½œä¸ºåˆ†éš”ç¬¦</li><li>åˆ†éš”ç¬¦åå†™ä¸Šæ•°å€¼ï¼Œæœ€å¤šæ”¯æŒ2ä½å°æ•°â€”â€”æ•°æ®ä¼šä»¥ç™¾åˆ†æ¯”çš„å½¢å¼å±•ç¤º</li></ul></li></ul></li></ul><ul><li>å®ä¾‹</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pie</span><br><span class="line">    title ä¸ºä»€ä¹ˆæ€»æ˜¯å®…åœ¨å®¶é‡Œï¼Ÿ</span><br><span class="line">    &quot;å–œæ¬¢å®…&quot; : 15</span><br><span class="line">    &quot;å¤©æ°”å¤ªçƒ­æˆ–å¤ªå†·&quot; : 20</span><br><span class="line">    &quot;ç©·&quot; : 500</span><br></pre></td></tr></table></figure><h1 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h1><ul><li>åœ¨çº¿æ¸²æŸ“å™¨ï¼š<a href="https://mermaidjs.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggVERcbiAgICBBW0hhcmRdIC0tPnxUZXh0fCBCKFJvdW5kKVxuICAgIEIgLS0-IEN7RGVjaXNpb259XG4gICAgQyAtLT58T25lfCBEW1Jlc3VsdCAxXVxuICAgIEMgLS0-fFR3b3wgRVtSZXN1bHQgMl0iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ">Online FlowChart &amp; Diagrams Editor</a>ï¼ˆéœ€è¦æŒ‚æ¢¯å­ï¼‰</li></ul><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">    A[Start] --&gt; B&#123;Is it?&#125;;</span><br><span class="line">    B -- Yes --&gt; C[OK];</span><br><span class="line">    C --&gt; D[Rethink];</span><br><span class="line">    D --&gt; B;</span><br><span class="line">    B -- No ----&gt; E[End];</span><br></pre></td></tr></table></figure><h2 id="æ–¹å‘"><a href="#æ–¹å‘" class="headerlink" title="æ–¹å‘"></a>æ–¹å‘</h2><p>ç”¨äºå¼€å¤´ï¼Œå£°æ˜æµç¨‹å›¾çš„æ–¹å‘ã€‚</p><ul><li><code>graph</code>æˆ–<code>graph TB</code>æˆ–<code>graph TD</code>ï¼šä»ä¸Šå¾€ä¸‹</li><li><code>graph BT</code>ï¼šä»ä¸‹å¾€ä¸Š</li><li><code>graph LR</code>ï¼šä»å·¦å¾€å³</li><li><code>graph RL</code>ï¼šä»å³å¾€å·¦</li></ul><h2 id="ç»“ç‚¹"><a href="#ç»“ç‚¹" class="headerlink" title="ç»“ç‚¹"></a>ç»“ç‚¹</h2><ul><li>æ— åå­—çš„ç»“ç‚¹ï¼šç›´æ¥å†™å†…å®¹ï¼Œæ­¤æ—¶ç»“ç‚¹è¾¹æ¡†ä¸ºæ–¹å½¢ï¼›èŠ‚ç‚¹å†…å®¹ä¸èƒ½æœ‰ç©ºæ ¼</li><li>æœ‰åå­—çš„ç»“ç‚¹ï¼šèŠ‚ç‚¹ååä¹¦å†™å†…å®¹ï¼Œå†…å®¹å·¦å³æœ‰ç‰¹å®šç¬¦å·ï¼Œç»“ç‚¹è¾¹æ¡†ç”±ç¬¦å·å†³å®šï¼›èŠ‚ç‚¹å†…å®¹å¯ä»¥æœ‰ç©ºæ ¼</li></ul><blockquote><p>ä¸‹é¢çš„å®ä¾‹ä¸­ï¼Œæ²¡æœ‰ä¸ºgraphæŒ‡å®šæ–¹å‘ï¼Œå› æ­¤é»˜è®¤æ˜¯ä»ä¸Šå¾€ä¸‹çš„ã€‚ä½†æ˜¯ç”±äºå„ä¸ªç»“ç‚¹ä¹‹å‰æ²¡æœ‰ç®­å¤´ï¼Œæ‰€ä»¥ä»–ä»¬éƒ½å¤„äºåŒä¸€æ’ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">graph</span><br><span class="line">    é»˜è®¤æ–¹å½¢</span><br><span class="line">    id1[æ–¹å½¢]</span><br><span class="line">    id2(åœ†è¾¹çŸ©å½¢)</span><br><span class="line">    id3([ä½“è‚²åœºå½¢])</span><br><span class="line">    id4[[å­ç¨‹åºå½¢]]</span><br><span class="line">    id5[(åœ†æŸ±å½¢)]</span><br><span class="line">    id6((åœ†å½¢))</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">graph</span><br><span class="line">id1&#123;è±å½¢&#125;</span><br><span class="line">id2&#123;&#123;å…­è§’å½¢&#125;&#125;</span><br><span class="line">id3[/å¹³è¡Œå››è¾¹å½¢/]</span><br><span class="line">id4[\åå‘å¹³è¡Œå››è¾¹å½¢\]</span><br><span class="line">id5[/æ¢¯å½¢\]</span><br><span class="line">id6[\åå‘æ¢¯å½¢/]</span><br></pre></td></tr></table></figure><h2 id="è¿çº¿æ ·å¼"><a href="#è¿çº¿æ ·å¼" class="headerlink" title="è¿çº¿æ ·å¼"></a>è¿çº¿æ ·å¼</h2><ul><li>å®çº¿ç®­å¤´ï¼šåˆ†ä¸ºæ— æ–‡æœ¬ç®­å¤´å’Œæœ‰æ–‡æœ¬ç®­å¤´ï¼Œæœ‰æ–‡æœ¬ç®­å¤´æœ‰2ç§ä¹¦å†™æ ¼å¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">a--&gt;b--æ–‡æœ¬1--&gt;c--&gt;|æ–‡æœ¬2|d</span><br></pre></td></tr></table></figure><ul><li>ç²—å®çº¿ç®­å¤´ï¼šåˆ†ä¸ºæ— æ–‡æœ¬ç®­å¤´å’Œæœ‰æ–‡æœ¬ç®­å¤´</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">a==&gt;b==æ–‡æœ¬==&gt;c</span><br></pre></td></tr></table></figure><ul><li>è™šçº¿ç®­å¤´ï¼šåˆ†ä¸ºæ— æ–‡æœ¬ç®­å¤´å’Œæœ‰æ–‡æœ¬ç®­å¤´</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">a-.-&gt;b-.æ–‡æœ¬.-&gt;c</span><br></pre></td></tr></table></figure><ul><li>æ— ç®­å¤´çº¿ï¼šå³ä»¥ä¸Šä¸‰ç§è¿çº¿å»æ‰ç®­å¤´åçš„å½¢å¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">a---b</span><br><span class="line">b--æ–‡æœ¬1---c</span><br><span class="line">c---|æ–‡æœ¬2|d</span><br><span class="line">d===e</span><br><span class="line">e==æ–‡æœ¬3===f</span><br><span class="line">f-.-g</span><br><span class="line">g-.æ–‡æœ¬.-h</span><br></pre></td></tr></table></figure><ul><li>å…¶ä»–è¿çº¿ï¼šéœ€è¦å°†<code>graph</code>å…³é”®å­—æ”¹ä¸º<code>flowchart</code>ï¼Œé™¤äº†æ–°å¢åŠ çš„è¿çº¿å½¢å¼å¤–ï¼Œä¸Šé¢ä¸‰ç§çº¿çš„æ¸²æŸ“æ•ˆæœä¹Ÿä¼šä¸åŒ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">flowchart LR</span><br><span class="line">    A o--o B</span><br><span class="line">    B &lt;--&gt; C</span><br><span class="line">    C x--x D</span><br><span class="line">    </span><br><span class="line">    æ—§è¿çº¿ --æ–‡æœ¬--&gt; ä¹Ÿä¼šä¸åŒ</span><br></pre></td></tr></table></figure><ul><li>å»¶é•¿è¿çº¿ï¼šå¢åŠ ç›¸åº”å­—ç¬¦å³å¯ï¼Œå¦‚ä¸‹å›¾ä¸­çš„Båˆ°Eï¼Œè¿çº¿ä¸­å¢åŠ äº†ä¸€ä¸ª<code>-</code>ã€‚å­—ç¬¦å¯å¤šæ¬¡æ·»åŠ ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">    A[Start] --&gt; B&#123;Is it?&#125;;</span><br><span class="line">    B --&gt;|Yes| C[OK];</span><br><span class="line">    C --&gt; D[Rethink];</span><br><span class="line">    D --&gt; B;</span><br><span class="line">    B ---&gt;|No| E[End];</span><br></pre></td></tr></table></figure><h2 id="è¿çº¿å½¢å¼"><a href="#è¿çº¿å½¢å¼" class="headerlink" title="è¿çº¿å½¢å¼"></a>è¿çº¿å½¢å¼</h2><ul><li>ç›´é“¾</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">   D[Rethink1&lt;br/&gt;Rethink2] -- text --&gt; B -- text2 --&gt; C</span><br></pre></td></tr></table></figure><ul><li>å¤šé‡é“¾ï¼šå¯ä»¥ä½¿ç”¨<code>&amp;</code>å­—ç¬¦ï¼Œæˆ–å•ä¸ªæè¿°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">graph </span><br><span class="line">   a --&gt; b &amp; c--&gt; d</span><br><span class="line">   </span><br><span class="line">   A &amp; B--&gt; C &amp; D</span><br><span class="line">   </span><br><span class="line">    X --&gt; M</span><br><span class="line">    X --&gt; N</span><br><span class="line">    Y --&gt; M</span><br><span class="line">    Y --&gt; N</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul><li>å­å›¾ï¼šéœ€è¦å°†<code>graph</code>å…³é”®å­—æ”¹ä¸º<code>flowchart</code>ï¼Œåœ¨ä»£ç æ®µçš„å¼€å§‹åŠ å…¥<code>subgraph</code>ï¼Œå°¾éƒ¨åŠ å…¥<code>end</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">flowchart TB</span><br><span class="line">    c1--&gt;a2</span><br><span class="line">    subgraph one</span><br><span class="line">    a1--&gt;a2</span><br><span class="line">    end</span><br><span class="line">    subgraph two</span><br><span class="line">    b1--&gt;b2</span><br><span class="line">    end</span><br><span class="line">    subgraph three</span><br><span class="line">    c1--&gt;c2</span><br><span class="line">    end</span><br><span class="line">    one --&gt; two</span><br><span class="line">    three --&gt; two</span><br><span class="line">    two --&gt; c2</span><br></pre></td></tr></table></figure><ul><li>æ³¨é‡Šï¼šåœ¨è¡Œé¦–åŠ å…¥<code>%%</code>å³å¯ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">%%è¿™æ˜¯ä¸€æ¡æ³¨é‡Šï¼Œåœ¨æ¸²æŸ“å›¾ä¸­ä¸å¯è§</span><br><span class="line">    A[Hard edge] --&gt;|Link text| B(Round edge)</span><br><span class="line">    B --&gt; C&#123;Decision&#125;</span><br><span class="line">    C --&gt;|One| D[Result one]</span><br><span class="line">    C --&gt;|Two| E[Result two]</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;p&gt;CVè‡ª&lt;a href=&quot;https://zhuanlan.zhihu.com/p/355997933&quot;&gt;Mermaidä»å…¥é—¨åˆ°å…¥åœŸâ€”â€”Markdownè¿›é˜¶è¯­æ³• - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;</summary>
      
    
    
    
    
    <category term="Markdown" scheme="https://daoxuan.cc/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>picgoæŠ¥é”™Error: connect ECONNREFUSED 127.0.0.1:443çš„è§£å†³æ–¹å¼</title>
    <link href="https://daoxuan.cc/posts/64135/"/>
    <id>https://daoxuan.cc/posts/64135/</id>
    <published>2023-09-01T03:11:33.000Z</published>
    <updated>2024-12-08T16:00:51.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="picgoæŠ¥é”™Error-connect-ECONNREFUSED-127-0-0-1-443çš„è§£å†³æ–¹å¼"><a href="#picgoæŠ¥é”™Error-connect-ECONNREFUSED-127-0-0-1-443çš„è§£å†³æ–¹å¼" class="headerlink" title="picgoæŠ¥é”™Error: connect ECONNREFUSED 127.0.0.1:443çš„è§£å†³æ–¹å¼"></a>picgoæŠ¥é”™Error: connect ECONNREFUSED 127.0.0.1:443çš„è§£å†³æ–¹å¼</h1><p>å‚è€ƒæ–‡ç« ï¼š</p><p><a href="https://blog.csdn.net/m0_53277621/article/details/125121042">picgoæŠ¥é”™Error: connect ECONNREFUSED 127.0.0.1:443çš„è§£å†³æ–¹å¼_JohnnyassSilverhandçš„åšå®¢-CSDNåšå®¢</a></p><p>å¤„ç†æ–¹å¼ï¼šæ¢dnsåŸŸåè§£ææœåŠ¡å™¨ã€æ¢host</p><p>å…·ä½“è§£å†³æ–¹å¼ï¼š</p><p>æŸ¥æ‰¾ api.github.com çš„æ­£ç¡®åŸŸåï¼ˆä¸è¦ç›´æ¥ pingï¼Œå»ºè®®é€šè¿‡ DNS æŸ¥è¯¢å·¥å…·è¿›è¡ŒæŸ¥è¯¢ï¼‰</p><p>å°†å…¶æ·»åŠ åˆ°å¯¹åº”çš„ hosts æ–‡ä»¶ä¸­</p><p>åœ¨C:\Windows\System32\drivers\etcè·¯å¾„æ‰¾åˆ°hostsæ–‡ä»¶ï¼Œåœ¨æœ«å°¾åŠ å…¥ï¼š</p><p> 140.82.112.6 api.github.com<br> 140.82.114.5 api.github.com<br> //githubåŸŸåä¼šå®šæœŸæ›´æ–°ï¼Œå¦‚æœä¸è¡Œéœ€è¦è‡ªè¡ŒæŸ¥è¯¢<br>åˆ·æ–°æœ¬åœ° dns ç¼“å­˜ï¼šcmdæ‰§è¡Œå‘½ä»¤è¡Œipconfig /flushdns</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;picgoæŠ¥é”™Error-connect-ECONNREFUSED-127-0-0-1-443çš„è§£å†³æ–¹å¼&quot;&gt;&lt;a href=&quot;#picgoæŠ¥é”™Error-connect-ECONNREFUSED-127</summary>
      
    
    
    
    
    <category term="æŠ¥é”™" scheme="https://daoxuan.cc/tags/%E6%8A%A5%E9%94%99/"/>
    
  </entry>
  
  <entry>
    <title>VisualGLM-6B-è¶‹åŠ¨äº‘éƒ¨ç½²</title>
    <link href="https://daoxuan.cc/posts/55030/"/>
    <id>https://daoxuan.cc/posts/55030/</id>
    <published>2023-07-17T16:55:37.000Z</published>
    <updated>2024-12-08T16:00:52.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="VisualGLM-6B-è¶‹åŠ¨äº‘éƒ¨ç½²"><a href="#VisualGLM-6B-è¶‹åŠ¨äº‘éƒ¨ç½²" class="headerlink" title="VisualGLM-6B-è¶‹åŠ¨äº‘éƒ¨ç½²"></a>VisualGLM-6B-è¶‹åŠ¨äº‘éƒ¨ç½²</h1><h2 id="é¡¹ç›®åœ°å€"><a href="#é¡¹ç›®åœ°å€" class="headerlink" title="é¡¹ç›®åœ°å€"></a>é¡¹ç›®åœ°å€</h2><div class="tag link"><a class="link-card" title="GitHub - THUDM/VisualGLM-6B: Chinese and English multimodal conversational language model | å¤šæ¨¡æ€ä¸­è‹±åŒè¯­å¯¹è¯è¯­è¨€æ¨¡å‹" href="https://github.com/THUDM/VisualGLM-6B"><div class="left"><img src="/img/link.png"/></div><div class="right"><p class="text">GitHub - THUDM/VisualGLM-6B: Chinese and English multimodal conversational language model | å¤šæ¨¡æ€ä¸­è‹±åŒè¯­å¯¹è¯è¯­è¨€æ¨¡å‹</p><p class="url">https://github.com/THUDM/VisualGLM-6B</p></div></a></div><div class="tag link"><a class="link-card" title="THUDM/visualglm-6b Â· Hugging Face" href="https://huggingface.co/THUDM/visualglm-6b"><div class="left"><img src="/img/link.png"/></div><div class="right"><p class="text">THUDM/visualglm-6b Â· Hugging Face</p><p class="url">https://huggingface.co/THUDM/visualglm-6b</p></div></a></div><h2 id="å¼€ä¸€å°GPU"><a href="#å¼€ä¸€å°GPU" class="headerlink" title="å¼€ä¸€å°GPU"></a>å¼€ä¸€å°GPU</h2><p>æˆ‘é€‰æ‹©çš„æ˜¯AUTODLï¼ˆå› ä¸ºä¾¿å®œï¼‰ï¼Œæ³¨å†Œç™»å½•ååˆ›å»ºå®¹å™¨å®ä¾‹ã€‚</p><p>è®¾å¤‡çš„è¦æ±‚ï¼š</p><ul><li>â‰¥50Gçš„å†…å­˜</li><li>â‰¥24Gçš„æ˜¾å­˜</li></ul><p>é•œåƒé€‰æ‹©ä¸‹é¢è¿™ä¸€å¥—å°±å¤Ÿç”¨ï¼ˆè‡³å°‘ç°åœ¨æ˜¯ï¼Œä»¥åå¦‚æœä¸é€‚é…äº†å¯ä»¥å¦è¡Œè°ƒæ•´ï¼‰</p><p><img src="https://picture.daoxuan.cc/image/202307180018585.png" alt="image-20230718001845578"></p><blockquote><p>å½“ç„¶ä½ çœ‹å®˜æ–¹æ–‡æ¡£é€‰é…ç½®å°±è¡Œ</p></blockquote><p>åˆ°è¿™é‡Œå‡†å¤‡å·¥ä½œç»“æŸ</p><h2 id="æ‹‰å–æºç "><a href="#æ‹‰å–æºç " class="headerlink" title="æ‹‰å–æºç "></a>æ‹‰å–æºç </h2><p>æ›´æ–°ä¸€ä¸‹Ubuntuæº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></table></figure><p>åœ¨æ•°æ®ç›˜ä¸­å­˜æ”¾æ¨¡å‹ï¼ˆé˜²æ­¢æ”¾ç³»ç»Ÿç›˜å ç”¨å¤ªå¤šç©ºé—´ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd autodl-tmp</span><br></pre></td></tr></table></figure><blockquote><p>autodl-tmpæ˜¯æ•°æ®ç›˜</p></blockquote><p>ç„¶åå°±å¯ä»¥æ‹‰å–æºç äº†ï¼Œæ”¾å“ªé‡Œä½ è‡ªå·±å†³å®š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/THUDM/VisualGLM-6B.git</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ‹‰å–ä¸æˆåŠŸçš„è¯å¯ä»¥å¤šè¯•å‡ æ¬¡</p><h2 id="ä¸‹è½½æ¨¡å‹æ–‡ä»¶"><a href="#ä¸‹è½½æ¨¡å‹æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ¨¡å‹æ–‡ä»¶"></a>ä¸‹è½½æ¨¡å‹æ–‡ä»¶</h2><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£</p><p>éœ€è¦å®‰è£…git-lfs</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install git-lfs</span><br><span class="line">sudo apt install apt-utils</span><br><span class="line">git lfs install</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¦‚æœå‡ºç°ä¸‹é¢è¿™ç§æŠ¥é”™ï¼Œå¯ä»¥å…ˆgit init</p><p>ç„¶åå†git lfs install</p><p><img src="https://img-blog.csdnimg.cn/20190506115804715.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzIxOTM3MTA3,size_16,color_FFFFFF,t_70" alt="img"></p><p>å‡ºç°<code>Git LFS initialized</code>å°±å¯ä»¥äº†å›¾ä¸­ä¹Ÿæœ‰</p><p>ç»§ç»­åœ¨æ–°å»ºçš„æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºå­˜æ”¾æ¨¡å‹æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œç¬”è€…ä¸ºmodel</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir model</span><br><span class="line">cd model</span><br></pre></td></tr></table></figure><p>æ‹‰å–æ¨¡å‹æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://huggingface.co/THUDM/visualglm-6b</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œéœ€è¦ç­‰å¾ˆä¹…ï¼Œå› ä¸ºæ¨¡å‹æ–‡ä»¶å¤§</p></blockquote><h2 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h2><p>è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd VisualGLM-6B</span><br></pre></td></tr></table></figure><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£å¯ä»¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ -r requirements_wo_ds.txt</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ --no-deps &quot;SwissArmyTransformer&gt;=0.3.6&quot;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè¿™ä¸ªä½†æ˜¯æˆ‘è®°å¾—æˆ‘è¿è¡Œä¹‹åå°‘ä¸ªåŒ…ï¼Œåˆ°æ—¶å€™ä½ å¯ä»¥çœ‹ç€æŠ¥é”™åœ¨ä¸‹è½½</p><h2 id="ä¿®æ”¹æ¨¡å‹æ–‡ä»¶åœ°å€"><a href="#ä¿®æ”¹æ¨¡å‹æ–‡ä»¶åœ°å€" class="headerlink" title="ä¿®æ”¹æ¨¡å‹æ–‡ä»¶åœ°å€"></a>ä¿®æ”¹æ¨¡å‹æ–‡ä»¶åœ°å€</h2><p>æ‰¾åˆ°ä½ è¦è¿è¡Œçš„æ–‡ä»¶ï¼Œè¿™é‡Œä»¥web_demo_hf.pyä¸ºä¾‹å­</p><p>æ‰¾åˆ°mainå‡½æ•°ä¿®æ”¹åœ°å€ï¼Œé»˜è®¤æ˜¯<code>THUDM/visualglm-6b</code>ï¼Œä¿®æ”¹æˆè‡ªå·±çš„ï¼Œæˆ‘ä»¬çš„åº”è¯¥æ˜¯â€™/root/autodl-tmp/model/visualglm-6bâ€™</p><p>æŠŠ<code>THUDM/visualglm-6b</code>éƒ½æ›¿æ¢æ‰</p><p>ç„¶åæŠŠæœ€åä¸€è¡Œ<code>demo.queue().launch(share=args.share, inbrowser=True, server_name=&#39;0.0.0.0&#39;, server_port=8080)</code></p><p>è¿™ä¸ªæ›¿æ¢æˆ<code>demo.queue().launch(share=True, inbrowser=True, server_name=&#39;0.0.0.0&#39;, server_port=8080)</code></p><p>è¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¯ä»¥è®¿é—®çš„ç½‘å€äº†</p><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p>åˆ‡æ¢åˆ°VisualGLM-6Bæ–‡ä»¶å¤¹</p><p>è¿è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python web_demo_hf.py</span><br></pre></td></tr></table></figure><p>ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ŒåŠ è½½æ¨¡å‹å®Œæˆåã€‚å¤åˆ¶ç”Ÿæˆçš„é“¾æ¥è¿›è¡Œè®¿é—®å³å¯ã€‚</p><p>æœ‰ä¸€ä¸ªåƒè¿™æ ·çš„url</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://2164b527cc15e257b.gradio.live/</span><br></pre></td></tr></table></figure><h2 id="å¼€ç©"><a href="#å¼€ç©" class="headerlink" title="å¼€ç©"></a>å¼€ç©</h2><p><img src="https://picture.daoxuan.cc/image/202307180054977.jpg" alt="QQå›¾ç‰‡20230718005243"></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;VisualGLM-6B-è¶‹åŠ¨äº‘éƒ¨ç½²&quot;&gt;&lt;a href=&quot;#VisualGLM-6B-è¶‹åŠ¨äº‘éƒ¨ç½²&quot; class=&quot;headerlink&quot; title=&quot;VisualGLM-6B-è¶‹åŠ¨äº‘éƒ¨ç½²&quot;&gt;&lt;/a&gt;V</summary>
      
    
    
    
    
    <category term="VisualGLM-6B" scheme="https://daoxuan.cc/tags/VisualGLM-6B/"/>
    
  </entry>
  
  <entry>
    <title>Django simpleuiåå°é¡µé¢çš„è‡ªå®šä¹‰æ–¹æ³•</title>
    <link href="https://daoxuan.cc/posts/53297/"/>
    <id>https://daoxuan.cc/posts/53297/</id>
    <published>2023-05-21T08:44:26.000Z</published>
    <updated>2024-12-08T16:00:49.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><div class="tip cogs"><p>ä¹¦å†™å‰è¨€</p></div><blockquote><p>æˆ‘æ˜¯å¥½æ–‡ç« çš„æ¬è¿å·¥ï¼Œå®Œå…¨ç…§æ¬Bç«™ä¸€ä½upä¸»å«â€œä¸€å†™ä»£ç å°±å¼€å¿ƒâ€çš„æ–‡ç« ï¼Œæ¬¢è¿å¤§å®¶å»å…³æ³¨ã€‚</p></blockquote><p>@<a href="ä¸€äº›æœ‰ç”¨çš„é…ç½®">TOC</a></p><h1 id="adminç•Œé¢æ±‰åŒ–"><a href="#adminç•Œé¢æ±‰åŒ–" class="headerlink" title="adminç•Œé¢æ±‰åŒ–"></a>adminç•Œé¢æ±‰åŒ–</h1><p>æˆ‘ä»¬éœ€è¦åœ¨setting.pyé…ç½®æ–‡ä»¶é‡Œé¢é…ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">é»˜è®¤adminåå°ç®¡ç†ç•Œé¢æ˜¯è‹±æ–‡çš„ï¼Œå¯¹è‹±è¯­ç›²æ¥è¯´ç”¨èµ·æ¥ä¸æ–¹ä¾¿ã€‚</span><br><span class="line">å¯ä»¥åœ¨settings.pyä¸­è®¾ç½®ï¼š</span><br><span class="line"></span><br><span class="line">LANGUAGE_CODE = <span class="string">&#x27;zh-CN&#x27;</span></span><br><span class="line">TIME_ZONE = <span class="string">&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"><span class="number">1.8</span>ç‰ˆæœ¬ä¹‹åçš„language codeè®¾ç½®ä¸åŒï¼š</span><br><span class="line"></span><br><span class="line">LANGUAGE_CODE = <span class="string">&#x27;zh-hans&#x27;</span></span><br><span class="line">TIME_ZONE = <span class="string">&#x27;Asia/Shanghai&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="https://picture.daoxuan.cc/image/202305211653379.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h1><p>æˆ‘ä»¬æ‰“å¼€adminåå°ï¼Œçœ‹åˆ°çš„åˆ—è¡¨æ˜¯<br><img src="https://picture.daoxuan.cc/image/202305211653499.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="åˆ—è¡¨çš„åŸºæœ¬è®¾ç½®"><a href="#åˆ—è¡¨çš„åŸºæœ¬è®¾ç½®" class="headerlink" title="åˆ—è¡¨çš„åŸºæœ¬è®¾ç½®"></a>åˆ—è¡¨çš„åŸºæœ¬è®¾ç½®</h2><p><img src="https://picture.daoxuan.cc/image/202305211654901.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ³¨å†Œå°åŒºè¡¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TbCommunityAdmin</span>(admin.ModelAdmin):</span><br><span class="line">    <span class="comment"># æ–°å¢å’Œä¿®æ”¹é¡µé¢éœ€è¦å±•ç¤ºçš„å­—æ®µ</span></span><br><span class="line">    fields = (<span class="string">&#x27;code&#x27;</span>,<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;area&#x27;</span>, <span class="string">&#x27;address&#x27;</span>, <span class="string">&#x27;total_buildings&#x27;</span>,<span class="string">&#x27;total_households&#x27;</span>,<span class="string">&#x27;greening_rate&#x27;</span>,<span class="string">&#x27;thumbnail&#x27;</span>,<span class="string">&#x27;developer&#x27;</span>,<span class="string">&#x27;estate_company&#x27;</span>,<span class="string">&#x27;status&#x27;</span>,<span class="string">&#x27;create_time&#x27;</span>,<span class="string">&#x27;update_time&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># listdisplayè®¾ç½®è¦æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­çš„å­—æ®µï¼ˆidå­—æ®µæ˜¯Djangoæ¨¡å‹çš„é»˜è®¤ä¸»é”®ï¼‰</span></span><br><span class="line">    list_display = [<span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;address&#x27;</span>,<span class="string">&#x27;area&#x27;</span>, <span class="string">&#x27;total_buildings&#x27;</span>, <span class="string">&#x27;total_households&#x27;</span>, <span class="string">&#x27;greening_rate&#x27;</span>, <span class="string">&#x27;image_data&#x27;</span>,<span class="string">&#x27;state_data&#x27;</span>,<span class="string">&#x27;create_time&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æœç´¢</span></span><br><span class="line">    search_fields = [<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># åªè¯»å­—æ®µ</span></span><br><span class="line">    readonly_fields = (<span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;create_time&#x27;</span>, <span class="string">&#x27;update_time&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># list_per_pageè®¾ç½®æ¯é¡µæ˜¾ç¤ºå¤šå°‘æ¡è®°å½•ï¼Œé»˜è®¤æ˜¯100æ¡</span></span><br><span class="line">    list_per_page = <span class="number">5</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># orderingè®¾ç½®é»˜è®¤æ’åºå­—æ®µï¼Œè´Ÿå·è¡¨ç¤ºé™åºæ’åº</span></span><br><span class="line">    ordering = (<span class="string">&#x27;-create_time&#x27;</span>,)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è®¾ç½®å“ªäº›å­—æ®µå¯ä»¥ç‚¹å‡»è¿›å…¥ç¼–è¾‘ç•Œé¢</span></span><br><span class="line">    list_display_links = (<span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    <span class="comment"># è¯¦ç»†æ—¶é—´åˆ†å±‚ç­›é€‰ã€€</span></span><br><span class="line">    date_hierarchy = <span class="string">&#x27;create_time&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># list_editable è®¾ç½®é»˜è®¤å¯ç¼–è¾‘å­—æ®µï¼Œè¿™ä¸ªå­—æ®µå¿…é¡»è¦åœ¨list_displayé‡Œé¢é…ç½®æ‰å¯ä»¥ä½¿ç”¨</span></span><br><span class="line">    <span class="comment"># å¹¶ä¸”å¿…é¡»è¡¨é‡Œé¢æœ‰å¯¹åº”å­—æ®µï¼Œä¸èƒ½æ˜¯è‡ªå·±å®šä¹‰çš„åˆ—è¡¨å­—æ®µ</span></span><br><span class="line">    <span class="comment"># list_editable = [&#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># fk_fields è®¾ç½®æ˜¾ç¤ºå¤–é”®å­—æ®µ,å¦‚æœè¿™ä¸ªè¡¨é‡Œé¢æœ‰å¤–é”®ï¼Œå¹¶ä¸”æƒ³è¦åœ¨åˆ—è¡¨å±•ç¤ºï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªé…ç½®</span></span><br><span class="line">    <span class="comment"># fk_fields = (&#x27;&#x27;,)</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå…³äºå°åŒºçš„åˆ—è¡¨é…ç½®ä¹‹åï¼Œåˆ—è¡¨å±•ç¤ºçš„é¡µé¢æ˜¯</p><p><img src="https://picture.daoxuan.cc/image/202305211654801.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="åˆ—è¡¨å­—æ®µé¢œè‰²å±•ç¤º"><a href="#åˆ—è¡¨å­—æ®µé¢œè‰²å±•ç¤º" class="headerlink" title="åˆ—è¡¨å­—æ®µé¢œè‰²å±•ç¤º"></a>åˆ—è¡¨å­—æ®µé¢œè‰²å±•ç¤º</h2><p><img src="https://picture.daoxuan.cc/image/202305211654115.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æƒ³å¯¹æŸäº›å­—æ®µè®¾ç½®é¢œè‰²ï¼Œå¯ç”¨ä¸‹é¢çš„è®¾ç½®ï¼š</p><p><img src="https://picture.daoxuan.cc/image/202305211654417.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ³¨æ„çœ‹ä¸Šé¢ä»£ç ï¼Œæ˜¯å†™åœ¨modelsé‡Œï¼Œè€Œä¸æ˜¯adminä¸­çš„ModelAdminé‡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°åŒºè¡¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TbCommunity</span>(models.Model):</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 0  å¯ç”¨   1  ä¸èµ·ç”¨</span></span><br><span class="line">    status = models.CharField(max_length=<span class="number">10</span>, choices=((<span class="string">&quot;0&quot;</span>, <span class="string">u&quot;å¯ç”¨&quot;</span>), (<span class="string">&quot;1&quot;</span>, <span class="string">&quot;ä¸å¯ç”¨&quot;</span>)), default=<span class="string">&quot;0&quot;</span>,verbose_name=<span class="string">u&quot;çŠ¶æ€&quot;</span>)</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"> <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.name</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        verbose_name_plural = verbose_name = <span class="string">&#x27;å°åŒºåˆ—è¡¨&#x27;</span></span><br><span class="line">        db_table = <span class="string">&#x27;tb_community&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">state_data</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.status == <span class="string">&#x27;0&#x27;</span>:</span><br><span class="line">            color_code = <span class="string">&#x27;green&#x27;</span></span><br><span class="line">            <span class="variable language_">self</span>.status = <span class="string">&quot;å¯åŠ¨&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            color_code = <span class="string">&#x27;red&#x27;</span></span><br><span class="line">            <span class="variable language_">self</span>.status = <span class="string">&quot;ä¸å¯åŠ¨&quot;</span></span><br><span class="line">        <span class="keyword">return</span> format_html(</span><br><span class="line">            <span class="string">&#x27;&lt;span style=&quot;color:&#123;&#125;;&quot;&gt;&#123;&#125;&lt;/span&gt;&#x27;</span>,</span><br><span class="line">            color_code,</span><br><span class="line">            <span class="variable language_">self</span>.status</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    state_data.short_description = <span class="string">&#x27;çŠ¶æ€&#x27;</span></span><br></pre></td></tr></table></figure><p>ä¹‹åè¦åœ¨admin.pyé‡Œé¢é…ç½®è¿™ä¸ªstate_dataæ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ³¨å†Œå°åŒºè¡¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TbCommunityAdmin</span>(admin.ModelAdmin):</span><br><span class="line"><span class="comment"># listdisplayè®¾ç½®è¦æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­çš„å­—æ®µï¼ˆidå­—æ®µæ˜¯Djangoæ¨¡å‹çš„é»˜è®¤ä¸»é”®ï¼‰</span></span><br><span class="line">    list_display = [<span class="string">&#x27;state_data&#x27;</span>,<span class="string">&#x27;create_time&#x27;</span>]</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå®Œæˆï¼Œå°±æœ‰é¢œè‰²å±•ç¤ºäº†</p><h2 id="åˆ—è¡¨å±•ç¤ºå›¾ç‰‡ï¼Œå¹¶ä¸”å¯ä»¥æ”¾å¤§"><a href="#åˆ—è¡¨å±•ç¤ºå›¾ç‰‡ï¼Œå¹¶ä¸”å¯ä»¥æ”¾å¤§" class="headerlink" title="åˆ—è¡¨å±•ç¤ºå›¾ç‰‡ï¼Œå¹¶ä¸”å¯ä»¥æ”¾å¤§"></a>åˆ—è¡¨å±•ç¤ºå›¾ç‰‡ï¼Œå¹¶ä¸”å¯ä»¥æ”¾å¤§</h2><p><img src="https://picture.daoxuan.cc/image/202305211654928.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°åŒºè¡¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TbCommunity</span>(models.Model):</span><br><span class="line">    </span><br><span class="line">    thumbnail = models.ImageField(</span><br><span class="line">        upload_to=<span class="string">&#x27;%y/%m/slt&#x27;</span>, max_length=<span class="number">100</span>, verbose_name=<span class="string">&#x27;ç¼©ç•¥å›¾&#x27;</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.name</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        verbose_name_plural = verbose_name = <span class="string">&#x27;å°åŒºåˆ—è¡¨&#x27;</span></span><br><span class="line">        db_table = <span class="string">&#x27;tb_community&#x27;</span></span><br><span class="line">   </span><br><span class="line">    <span class="comment"># åˆ—è¡¨ä¸­å±•ç¤ºå›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">image_data</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.thumbnail:</span><br><span class="line">            html_img = <span class="string">&quot;&quot;&quot;  </span></span><br><span class="line"><span class="string">             &lt;div onclick=&#x27;$(&quot;.my_set_image_img&quot;).hide();$(this).next().show();&#x27;&gt;</span></span><br><span class="line"><span class="string">             &lt;img src=&#x27;/media/&#123;&#125;&#x27; style=&#x27;width:50px;height:50px;&#x27; title=&#x27;ç‚¹å‡»å¯çœ‹å¤§å›¾&#x27;&gt;</span></span><br><span class="line"><span class="string">             &lt;br/&gt;</span></span><br><span class="line"><span class="string">             &lt;/div&gt;</span></span><br><span class="line"><span class="string">             </span></span><br><span class="line"><span class="string">             </span></span><br><span class="line"><span class="string">             &lt;div class=&#x27;my_set_image_img&#x27; onclick=&quot;$(&#x27;.my_set_image_img&#x27;).hide()&quot; style=&quot;z-index:9999;position:fixed; left: 100px; top:100px;display:none;&quot;&gt;</span></span><br><span class="line"><span class="string">             &lt;img src=&#x27;/media/&#123;&#125;&#x27; style=&#x27;width: 502px;height:500px;margin-left: 200px;&#x27; title=&#x27;ç‚¹å‡»å…³é—­&#x27;&gt;</span></span><br><span class="line"><span class="string">             &lt;/div&gt;</span></span><br><span class="line"><span class="string">             </span></span><br><span class="line"><span class="string">             </span></span><br><span class="line"><span class="string">             </span></span><br><span class="line"><span class="string">             </span></span><br><span class="line"><span class="string">             &quot;&quot;&quot;</span>.<span class="built_in">format</span>( <span class="variable language_">self</span>.thumbnail,<span class="variable language_">self</span>.thumbnail)</span><br><span class="line">            <span class="keyword">return</span> mark_safe(html_img)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> format_html(</span><br><span class="line">                <span class="string">&#x27;&lt;span&gt;æ— ç…§ç‰‡&lt;/span&gt;&#x27;</span>,</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">    image_data.short_description = <span class="string">&#x27;ç¼©ç•¥å›¾&#x27;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯åœ¨model.pyé‡Œé¢é…ç½®çš„ï¼Œä¹‹åå†admin.pyé‡Œé¢æ³¨å†Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ³¨å†Œå°åŒºè¡¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TbCommunityAdmin</span>(admin.ModelAdmin):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># listdisplayè®¾ç½®è¦æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­çš„å­—æ®µï¼ˆidå­—æ®µæ˜¯Djangoæ¨¡å‹çš„é»˜è®¤ä¸»é”®ï¼‰</span></span><br><span class="line">    list_display = [ <span class="string">&#x27;image_data&#x27;</span>]</span><br><span class="line">   </span><br></pre></td></tr></table></figure><h1 id="é‡å†™adminåå°çš„æ–°å¢æ¥å£"><a href="#é‡å†™adminåå°çš„æ–°å¢æ¥å£" class="headerlink" title="é‡å†™adminåå°çš„æ–°å¢æ¥å£"></a>é‡å†™adminåå°çš„æ–°å¢æ¥å£</h1><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æˆ‘ä»¬åœ¨æ–°å¢çš„æ—¶å€™ï¼Œæœ‰äº›Bå­—æ®µæ˜¯éœ€è¦æ ¹æ®æˆ‘ä»¬è¾“å…¥çš„A å­—æ®µï¼Œè¿›è¡ŒæŸ¥è¯¢å…¶ä»–æ•°æ®åº“è¡¨ï¼Œç„¶åèµ‹å€¼æ–°å¢çš„ï¼Œæ‰€ä»¥åœ¨æ–°å¢çš„æ—¶å€™ï¼Œæ¶‰åŠåˆ°æˆ‘ä»¬è‡ªå®šä¹‰çš„é€»è¾‘å¤„ç†ã€‚æˆ‘ä»¬åªç®¡æ—¶å€™ï¼Œå°±éœ€è¦é‡å†™adminåå°çš„æ–°å¢æ¥å£äº†</p><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p><img src="https://picture.daoxuan.cc/image/202305211654462.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å°±æ˜¯åœ¨admin.pyæ–‡ä»¶é‡Œé¢ï¼Œé‡å†™save_modelï¼ˆï¼‰æ–¹æ³•å°±å¯ä»¥äº†ã€‚é‡Œé¢å°±å¯ä»¥å¤„ç†æˆ‘ä»¬è‡ªå·±çš„é€»è¾‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TbBuildingAdmin</span>(admin.ModelAdmin):</span><br><span class="line">    <span class="comment"># æ–°å¢å’Œä¿®æ”¹é¡µé¢éœ€è¦å±•ç¤ºçš„å­—æ®µ</span></span><br><span class="line">    fields = (<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;community_id&#x27;</span>,<span class="string">&#x27;description&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    list_display = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;total_households&#x27;</span>, <span class="string">&#x27;community_name&#x27;</span>,<span class="string">&#x27;create_time&#x27;</span>,<span class="string">&#x27;delete_data&#x27;</span>]</span><br><span class="line">    search_fields = [<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">    list_per_page = <span class="number">5</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_model</span>(<span class="params">self, request, obj, form, change</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;  é‡å†™æ–°å¢æ¥å£</span></span><br><span class="line"><span class="string">obj è¿™ä¸ªå¯¹è±¡é‡Œé¢ï¼Œå°±æ˜¯å‰æ®µä¼ è¿‡æ¥çš„æ–°å¢æ•°æ®</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        xqcode = obj.community_id.code  <span class="comment"># è·å–å°åŒºid</span></span><br><span class="line"></span><br><span class="line">        xqxx = TbCommunity.objects.<span class="built_in">filter</span>(code=xqcode).first()</span><br><span class="line">        <span class="keyword">if</span> xqxx:</span><br><span class="line">            obj.community_name = xqxx.name</span><br><span class="line">        <span class="built_in">super</span>(TbBuildingAdmin, <span class="variable language_">self</span>).save_model(request, obj, form, change)</span><br></pre></td></tr></table></figure><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>åœ¨modelç±»é‡Œé¢</p><p><img src="https://picture.daoxuan.cc/image/202305211654493.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="é‡å†™adminåå°çš„åˆ é™¤æ–¹æ³•"><a href="#é‡å†™adminåå°çš„åˆ é™¤æ–¹æ³•" class="headerlink" title="é‡å†™adminåå°çš„åˆ é™¤æ–¹æ³•"></a>é‡å†™adminåå°çš„åˆ é™¤æ–¹æ³•</h1><h2 id="éœ€æ±‚-1"><a href="#éœ€æ±‚-1" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æˆ‘ä»¬åœ¨adminåå°ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªåœ°æ–¹æœ‰åˆ é™¤æŒ‰é’®ï¼Œä¸€ä¸ªæ˜¯ä¿®æ”¹é¡µé¢ï¼Œä¸€ä¸ªæ˜¯åˆ—è¡¨çš„ä¸Šé¢</p><p><img src="https://picture.daoxuan.cc/image/202305211654865.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://picture.daoxuan.cc/image/202305211654406.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½†æ˜¯åŸæœ‰çš„åˆ é™¤æ˜¯åœ¨æ•°æ®åº“ä¸­å°±åˆ é™¤äº†ï¼Œæˆ‘ä»¬æƒ³è¦è½¯åˆ é™¤ï¼Œå°±æ˜¯å®šä¹‰ä¸€ä¸ªå­—æ®µï¼Œåˆ é™¤æ“ä½œæ˜¯å°†è¿™ä¸ªå­—æ®µæ”¹ä¸º1.<br>å…·ä½“æ•°æ®åº“é‡Œé¢æ˜¯æ²¡æœ‰åˆ é™¤çš„ï¼Œåªæ˜¯åˆ é™¤å­—æ®µçš„çŠ¶æ€å˜åŒ–äº†ï¼Œè¿™ä¸ªå¦‚ä½•æ”¹</p><h2 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p>å› ä¸ºä¿®æ”¹é¡µé¢çš„æ˜¯å•ä¸ªåˆ é™¤ï¼Œå¤–é¢çš„æ˜¯å¤šä¸ªåˆ é™¤ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿™äº›æ­¥éª¤ï¼Œè¿™äº›éƒ½è¦åšï¼Œæ‰å¯ä»¥å®ç°é‡Œé¢å’Œå¤–é¢çš„åˆ é™¤</p><p>ç¬¬ä¸€æ­¥æ˜¯åœ¨model.pyé‡Œé¢ï¼Œå¯¹åº”modelé‡Œé¢é‡å†™è¿™ä¸ªæ–¹æ³•<br><img src="https://picture.daoxuan.cc/image/202305211654629.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®è½¯åˆ é™¤ï¼Œåˆ é™¤æ—¶ä¸åˆ é™¤æ•°æ®ï¼Œè€Œæ˜¯ç»™åŸæœ¬ç©ºçš„åˆ é™¤å­—æ®µå€¼ä¿®æ”¹ä¸ºåˆ é™¤æ“ä½œæ‰§è¡Œçš„æ—¶é—´</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">delete</span>(<span class="params">self, using=<span class="literal">None</span>, keep_parents=<span class="literal">False</span></span>):</span><br><span class="line">       <span class="variable language_">self</span>.is_delete = <span class="string">&quot;1&quot;</span></span><br><span class="line">       <span class="variable language_">self</span>.save()</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥</p><p><img src="https://picture.daoxuan.cc/image/202305211654050.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">delete_queryset</span>(<span class="params">self, request, queryset</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Given a queryset, delete it from the database.&quot;&quot;&quot;</span></span><br><span class="line">    c = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> queryset:</span><br><span class="line">        i.delete()</span><br><span class="line">        c += <span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="é‡å†™adminåå°çš„åˆ—è¡¨å±•ç¤ºæ–¹æ³•"><a href="#é‡å†™adminåå°çš„åˆ—è¡¨å±•ç¤ºæ–¹æ³•" class="headerlink" title="é‡å†™adminåå°çš„åˆ—è¡¨å±•ç¤ºæ–¹æ³•"></a>é‡å†™adminåå°çš„åˆ—è¡¨å±•ç¤ºæ–¹æ³•</h1><h2 id="éœ€æ±‚-2"><a href="#éœ€æ±‚-2" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æˆ‘ä»¬åœ¨æ¯ä¸€ä¸ªè¡¨é‡Œé¢éƒ½åŠ äº†åˆ é™¤å­—æ®µï¼Œç°åœ¨å°±æ˜¯æ™®é€šç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„æ•°æ®æ˜¯æ²¡æœ‰åˆ é™¤çš„ï¼Œç®¡ç†å‘˜æ˜¯å¯ä»¥çœ‹åˆ°å…¨éƒ¨ï¼ŒåŒ…æ‹¬å·²ç»åˆ é™¤çš„ã€‚å¦‚ä½•å®ç°</p><h2 id="æ–¹æ³•-2"><a href="#æ–¹æ³•-2" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p><img src="https://picture.daoxuan.cc/image/202305211654578.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨adminæ–‡ä»¶é‡Œé¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_queryset</span>(<span class="params">self, request</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;é‡å†™åˆ—è¡¨å±•ç¤ºçš„æ–¹æ³•&quot;&quot;&quot;</span></span><br><span class="line">    qs = <span class="built_in">super</span>().get_queryset(request)</span><br><span class="line">    <span class="keyword">if</span> request.user.is_superuser:</span><br><span class="line">        <span class="keyword">return</span> qs</span><br><span class="line">    <span class="keyword">return</span> qs.<span class="built_in">filter</span>(is_delete=<span class="string">&quot;0&quot;</span>)</span><br></pre></td></tr></table></figure><h1 id="é‡å†™é¦–é¡µ"><a href="#é‡å†™é¦–é¡µ" class="headerlink" title="é‡å†™é¦–é¡µ"></a>é‡å†™é¦–é¡µ</h1><p><img src="https://picture.daoxuan.cc/image/202305211654966.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æœ¬æ¥adminåå°çš„é¦–é¡µä¸æ˜¯è¿™æ ·ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬è¦è‡ªå®šä¹‰ä¸€ä¸ªé¦–é¡µï¼Œå¹¶ä¸”é…ç½®åˆ°è¿™ä¸ªåå°é‡Œé¢ï¼Œå¦‚ä½•åš</p><p>1 é¦–å…ˆå…ˆå†™ä¸€ä¸ªé¡µé¢</p><p><img src="https://picture.daoxuan.cc/image/202305211655258.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>2 å†™ä¸€ä¸ªåœ°å€è®¿é—®è¿™ä¸ªé¡µé¢</p><p><img src="https://picture.daoxuan.cc/image/202305211655048.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://picture.daoxuan.cc/image/202305211708091.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>3  åœ¨settingæ–‡ä»¶é‡Œé¢è¿›è¡Œé…ç½®</p><p><img src="https://picture.daoxuan.cc/image/202305211655942.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨urlåˆ°é¡µé¢çš„viewè§†å›¾é‡Œé¢ï¼Œä¸èƒ½æœ‰é”™è¯¯ï¼Œä¸ç„¶ä¼šæŠ¥500</p><h1 id="é‡å†™adminåå°çš„ä¿®æ”¹æ¥å£"><a href="#é‡å†™adminåå°çš„ä¿®æ”¹æ¥å£" class="headerlink" title="é‡å†™adminåå°çš„ä¿®æ”¹æ¥å£"></a>é‡å†™adminåå°çš„ä¿®æ”¹æ¥å£</h1><h2 id="éœ€æ±‚-3"><a href="#éœ€æ±‚-3" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>é‡å†™ä¿®æ”¹æ¥å£ï¼Œæ¯”å¦‚ï¼Œåœ¨ä¿®æ”¹æ•°æ®æ•°å­—çš„æ—¶å€™ï¼Œå°†å…¶ä»–åœ°æ–¹çš„æ•°å­—ä¹Ÿä¿®æ”¹äº†ï¼Œä¸ç®¡æ˜¯å¢åŠ ï¼Œè¿˜æ˜¯å‡å°‘</p><p>adminåå°çš„æ–°å¢å’Œä¿®æ”¹çš„æ¥å£éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¼ çš„changeè¿™ä¸ªå­—æ®µçš„Booleanå€¼æ˜¯ä¸ä¸€æ ·çš„</p><h2 id="æ–¹æ³•-3"><a href="#æ–¹æ³•-3" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p>åœ¨admin.pyè¿™ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œé‡å†™è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥äº†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">save_model</span>(<span class="params">self, request, obj, form, change</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;  é‡å†™æ–°å¢æ¥å£&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> change:</span><br><span class="line">       <span class="comment"># ä¿®æ”¹</span></span><br><span class="line">       xqcode = obj.TbCharge_id.<span class="built_in">id</span></span><br><span class="line">       <span class="comment"># æŸ¥è¯¢å‡ºå¯¹é¡¹ç›®</span></span><br><span class="line">       xqxx = TbChargeItem.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=xqcode).first()</span><br><span class="line">       deti=TbChargeDetail.objects.<span class="built_in">filter</span>(<span class="built_in">id</span> = obj.<span class="built_in">id</span>).first()</span><br><span class="line">       <span class="keyword">if</span> xqxx:</span><br><span class="line">           obj.TbCharge_name = xqxx.name</span><br><span class="line">           xqxx.money -= deti.actual_money</span><br><span class="line">           xqxx.money += obj.actual_money</span><br><span class="line">           xqxx.save()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># æ–°å¢</span></span><br><span class="line">        xqcode = obj.TbCharge_id.<span class="built_in">id</span></span><br><span class="line">        <span class="comment"># æŸ¥è¯¢å‡ºå¯¹é¡¹ç›®</span></span><br><span class="line">        xqxx = TbChargeItem.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=xqcode).first()</span><br><span class="line">        <span class="keyword">if</span> xqxx:</span><br><span class="line">            obj.TbCharge_name = xqxx.name</span><br><span class="line">            obj.owner_name=obj.owner_id.username</span><br><span class="line">            xqxx.money += obj.actual_money</span><br><span class="line">            xqxx.save()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">super</span>(TbChargeDetailAdmin, <span class="variable language_">self</span>).save_model(request, obj, form, change)</span><br></pre></td></tr></table></figure><h1 id="adminåå°çš„æ¨¡å—æ–°å¢æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º"><a href="#adminåå°çš„æ¨¡å—æ–°å¢æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º" class="headerlink" title="adminåå°çš„æ¨¡å—æ–°å¢æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º"></a>adminåå°çš„æ¨¡å—æ–°å¢æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º</h1><h2 id="éœ€æ±‚-4"><a href="#éœ€æ±‚-4" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æˆ‘ä»¬æœ‰æˆ¿å±‹è¡¨å’ŒæŠ•è¯‰è¡¨ï¼Œåªæœ‰ç”¨æˆ·åœ¨æˆ¿å±‹è¡¨é‡Œé¢æœ‰æ•°æ®ï¼Œé‚£ä¹ˆæ‰å¯ä»¥æŠ•è¯‰ï¼Œä¹Ÿå°±æ˜¯æ‰å¯ä»¥æœ‰æ–°å¢çš„æŒ‰é’®</p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>åœ¨admin.pyå¯¹åº”çš„æŠ•è¯‰è¡¨é‡Œé¢<br><img src="https://picture.daoxuan.cc/image/202305211655912.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span>  <span class="title function_">has_add_permission</span>(<span class="params">self, request</span>):</span><br><span class="line">    tbhoust = TbHouse.objects.<span class="built_in">filter</span>(owner_id=request.user).first()</span><br><span class="line">    <span class="keyword">if</span> tbhoust:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure><h1 id="adminåå°çš„æ¨¡å—ç¼–è¾‘æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º"><a href="#adminåå°çš„æ¨¡å—ç¼–è¾‘æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º" class="headerlink" title="adminåå°çš„æ¨¡å—ç¼–è¾‘æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º"></a>adminåå°çš„æ¨¡å—ç¼–è¾‘æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º</h1><h2 id="éœ€æ±‚-5"><a href="#éœ€æ±‚-5" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>åªæœ‰ç®¡ç†å‘˜æ‰å¯ä»¥ç¼–è¾‘ï¼Œç»´ä¿®å‘˜ä¸èƒ½ç¼–è¾‘ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯ä¸æ˜¯ç»´ä¿®å‘˜ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä¸èƒ½ç¼–è¾‘</p><h2 id="æ–¹æ³•-4"><a href="#æ–¹æ³•-4" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p>åœ¨admin.pyæ–‡ä»¶çš„å¯¹åº”çš„æ¨¡å—ä¸‹å†™</p><p><img src="https://picture.daoxuan.cc/image/202305211655654.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span>  <span class="title function_">has_change_permission</span>(<span class="params">self, request, obj=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;  æ ¹æ®ä¸åŒæ¡ä»¶ï¼Œé™åˆ¶ç¼–è¾‘æŒ‰é’®çš„å‡ºç°&quot;&quot;&quot;</span></span><br><span class="line">    user = request.user</span><br><span class="line">    <span class="keyword">if</span> user.sfwxy:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="adminåå°çš„æ¨¡å—åˆ é™¤æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º"><a href="#adminåå°çš„æ¨¡å—åˆ é™¤æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º" class="headerlink" title="adminåå°çš„æ¨¡å—åˆ é™¤æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º"></a>adminåå°çš„æ¨¡å—åˆ é™¤æŒ‰é’®æ ¹æ®æ¡ä»¶è¿›è¡Œå±•ç¤ºæˆ–è€…ä¸å±•ç¤º</h1><h2 id="éœ€æ±‚-6"><a href="#éœ€æ±‚-6" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>åªæœ‰ç®¡ç†å‘˜æ‰å¯ä»¥åˆ é™¤ï¼Œç»´ä¿®å‘˜ä¸èƒ½åˆ é™¤ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯ä¸æ˜¯ç»´ä¿®å‘˜ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä¸èƒ½åˆ é™¤</p><h2 id="æ–¹æ³•-5"><a href="#æ–¹æ³•-5" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># def has_delete_permission(self, request):</span></span><br><span class="line"><span class="comment">#     &quot;&quot;&quot;  æ ¹æ®ä¸åŒæ¡ä»¶ï¼Œé™åˆ¶åˆ—è¡¨ä¸Šé¢çš„åˆ é™¤æŒ‰é’®çš„å‡ºç°&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">#     tbhoust = TbHouse.objects.filter(owner_id=request.user).first()</span></span><br><span class="line"><span class="comment">#     if tbhoust:</span></span><br><span class="line"><span class="comment">#         return True</span></span><br><span class="line"><span class="comment">#     else:</span></span><br><span class="line"><span class="comment">#         return False</span></span><br></pre></td></tr></table></figure><h1 id="æ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼ŒåŸºæœ¬é…ç½®ä¸åŒçš„å­—æ®µ"><a href="#æ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼ŒåŸºæœ¬é…ç½®ä¸åŒçš„å­—æ®µ" class="headerlink" title="æ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼ŒåŸºæœ¬é…ç½®ä¸åŒçš„å­—æ®µ"></a>æ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼ŒåŸºæœ¬é…ç½®ä¸åŒçš„å­—æ®µ</h1><h2 id="éœ€æ±‚-7"><a href="#éœ€æ±‚-7" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æˆ‘ä»¬æƒ³è¦  åªæœ‰ç»´ä¿®å‘˜å¯ä»¥æ“ä½œ æ˜¯å¦å·²ç»´ä¿®çš„å­—æ®µï¼Œå…¶ä»–å­—æ®µåªèƒ½çœ‹ï¼›<br>å…¶ä»–ç”¨æˆ·æ˜¯å¯ä»¥æ“ä½œå…¶ä»–å­—æ®µï¼Œä½†æ˜¯ä¸èƒ½æ”¹ æ˜¯å¦å·²ç»´ä¿®çš„å­—æ®µ</p><h2 id="æ–¹æ³•-6"><a href="#æ–¹æ³•-6" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p>æˆ‘ä»¬éœ€è¦åœ¨admin.pyé‡Œé¢è¿›è¡Œé…ç½®ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼Œè¿›è¡Œadminåå°çš„ä¸åŒé…ç½®</p><p><img src="https://picture.daoxuan.cc/image/202305211655182.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸€åˆ·æ–°listï¼Œå°±èµ°è¿™ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">changelist_view</span>(<span class="params">self, request, extra_context=<span class="literal">None</span></span>):</span><br><span class="line">    user = request.user</span><br><span class="line">    <span class="keyword">if</span>  user.sfwxy:</span><br><span class="line">        <span class="variable language_">self</span>.readonly_fields = [<span class="string">&#x27;device_name&#x27;</span>,<span class="string">&#x27;description&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">super</span>(TbRepairAdmin, <span class="variable language_">self</span>).changelist_view(request, extra_context=<span class="literal">None</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="adminåå°åˆ—è¡¨å±•ç¤ºå¤–é”®çš„å­—æ®µåç§°"><a href="#adminåå°åˆ—è¡¨å±•ç¤ºå¤–é”®çš„å­—æ®µåç§°" class="headerlink" title="adminåå°åˆ—è¡¨å±•ç¤ºå¤–é”®çš„å­—æ®µåç§°"></a>adminåå°åˆ—è¡¨å±•ç¤ºå¤–é”®çš„å­—æ®µåç§°</h1><p>admin.pyæ–‡ä»¶é‡Œé¢è¿›è¡Œé…ç½®</p><p><img src="https://picture.daoxuan.cc/image/202305211655253.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="åœ¨æ–°å¢é¡µé¢ï¼Œä¸‹æ‹‰æ¡†çš„å¤–é”®å€¼ï¼Œæƒ³è¦ç‰¹å®šçš„ï¼Œå¦‚ä½•é…ç½®"><a href="#åœ¨æ–°å¢é¡µé¢ï¼Œä¸‹æ‹‰æ¡†çš„å¤–é”®å€¼ï¼Œæƒ³è¦ç‰¹å®šçš„ï¼Œå¦‚ä½•é…ç½®" class="headerlink" title="åœ¨æ–°å¢é¡µé¢ï¼Œä¸‹æ‹‰æ¡†çš„å¤–é”®å€¼ï¼Œæƒ³è¦ç‰¹å®šçš„ï¼Œå¦‚ä½•é…ç½®"></a>åœ¨æ–°å¢é¡µé¢ï¼Œä¸‹æ‹‰æ¡†çš„å¤–é”®å€¼ï¼Œæƒ³è¦ç‰¹å®šçš„ï¼Œå¦‚ä½•é…ç½®</h1><p>åœ¨admin.pyæ–‡ä»¶é‡Œé¢ï¼›ä¸¾ä¸€ä¸ªä¾‹å­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TbCommunityAdmin</span>(admin.ModelAdmin):</span><br><span class="line">    <span class="comment"># æ–°å¢å’Œä¿®æ”¹é¡µé¢éœ€è¦å±•ç¤ºçš„å­—æ®µ</span></span><br><span class="line">    fields = (<span class="string">&#x27;code&#x27;</span>,<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;sbxh&#x27;</span>, <span class="string">&#x27;sbgg&#x27;</span>, <span class="string">&#x27;total_sbsl&#x27;</span>,<span class="string">&#x27;sccj&#x27;</span>,<span class="string">&#x27;gmrxm&#x27;</span>,<span class="string">&#x27;gmrq&#x27;</span>,<span class="string">&#x27;pay_money&#x27;</span>,<span class="string">&#x27;user_id&#x27;</span>,<span class="string">&#x27;thumbnail&#x27;</span>)</span><br><span class="line">    <span class="comment"># listdisplayè®¾ç½®è¦æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­çš„å­—æ®µï¼ˆidå­—æ®µæ˜¯Djangoæ¨¡å‹çš„é»˜è®¤ä¸»é”®ï¼‰</span></span><br><span class="line">    list_display = [<span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;sbxh&#x27;</span>,<span class="string">&#x27;sbgg&#x27;</span>,  <span class="string">&#x27;gmrq&#x27;</span>, <span class="string">&#x27;image_data&#x27;</span>,<span class="string">&#x27;state_data&#x27;</span>]</span><br><span class="line">    <span class="comment"># æœç´¢</span></span><br><span class="line">    search_fields = [<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">    <span class="comment"># åªè¯»å­—æ®µ</span></span><br><span class="line">    readonly_fields = (<span class="string">&#x27;create_time&#x27;</span>, <span class="string">&#x27;update_time&#x27;</span>)</span><br><span class="line">    <span class="comment"># list_per_pageè®¾ç½®æ¯é¡µæ˜¾ç¤ºå¤šå°‘æ¡è®°å½•ï¼Œé»˜è®¤æ˜¯100æ¡</span></span><br><span class="line">    list_per_page = <span class="number">5</span></span><br><span class="line">    <span class="comment"># orderingè®¾ç½®é»˜è®¤æ’åºå­—æ®µï¼Œè´Ÿå·è¡¨ç¤ºé™åºæ’åº</span></span><br><span class="line">    ordering = (<span class="string">&#x27;-create_time&#x27;</span>,)</span><br><span class="line">    <span class="comment"># è®¾ç½®å“ªäº›å­—æ®µå¯ä»¥ç‚¹å‡»è¿›å…¥ç¼–è¾‘ç•Œé¢</span></span><br><span class="line">    list_display_links = (<span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    <span class="comment"># è¯¦ç»†æ—¶é—´åˆ†å±‚ç­›é€‰ã€€</span></span><br><span class="line">    <span class="comment"># date_hierarchy = &#x27;create_time&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user_id æ˜¯å¤–é”®ï¼Œåªæƒ³è¦å±•ç¤ºä¸€äº›ç‰¹å®šçš„ï¼Œç”¨ä¸‹é¢çš„è¿™ä¸ªæ–¹æ³•</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">formfield_for_foreignkey</span>(<span class="params">self, db_field, request, **kwargs</span>):</span><br><span class="line">        <span class="keyword">if</span> db_field.name == <span class="string">&quot;user_id&quot;</span>:</span><br><span class="line">            kwargs[<span class="string">&quot;queryset&quot;</span>] = Employee.objects.<span class="built_in">filter</span>(sfgly=<span class="string">&quot;sbgly&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(TbCommunityAdmin, <span class="variable language_">self</span>).formfield_for_foreignkey(db_field, request, **kwargs)</span><br></pre></td></tr></table></figure><pre><code>formfield_for_foreignkeyè¯¥æ–¹æ³•å’Œå…¶ä»–æ–¹æ³•ï¼ˆdelete model ,save_model()æ–¹æ³•ä¸€æ ·ï¼Œéƒ½å¸‚django å†…ç½®çš„db_field.name == &quot;sort_id&quot;:è®¾ç½®æ•°æ®å­—æ®µï¼Œä¹Ÿå°±æ˜¯å¤–é”®kwargs[&quot;queryset&quot;] = Tags.objects.filter(user=request.user)å®šä¹‰è¿‡æ»¤æ–¹æ¡ˆ</code></pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;div class=&quot;tip cogs&quot;&gt;&lt;p&gt;ä¹¦å†™å‰è¨€&lt;/p&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘æ˜¯å¥½æ–‡ç« çš„æ¬è¿å·¥ï¼Œå®Œå…¨ç…§æ¬Bç«™ä¸€ä½upä¸»å«â€œä¸€å†™ä»£ç å°±å¼€å¿ƒâ€çš„æ–‡ç« ï¼Œæ¬¢è¿å¤§å®¶å»å…³æ³¨ã€‚&lt;/p&gt;
&lt;/bl</summary>
      
    
    
    
    
    <category term="django" scheme="https://daoxuan.cc/tags/django/"/>
    
  </entry>
  
  <entry>
    <title>djangoå¦‚ä½•ä½¿ç”¨githubå½“åšé¡¹ç›®å›¾åºŠ</title>
    <link href="https://daoxuan.cc/posts/55622/"/>
    <id>https://daoxuan.cc/posts/55622/</id>
    <published>2023-05-20T16:18:18.000Z</published>
    <updated>2024-12-08T16:00:50.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><blockquote><p>å‰æ®µæ—¶é—´è¢«æ‰“äº†ï¼Œå¯¼è‡´å›¾åºŠå¯„äº†ï¼Œç´¢æ€§ç”¨githubå½“åšå›¾åºŠé˜²æ­¢å†æ¬¡æ¬ è´¹</p><p>ä¹‹å‰ç”¨çš„ä¸ƒç‰›äº‘ï¼ˆå®³ï¼‰</p></blockquote><div class="tip cogs"><p>ä¹¦å†™å‰è¨€</p></div><blockquote><p>äºæŸäº†å¤§æ¦‚ä¸€åƒå…ƒï¼Œå®¶äººè°æ‡‚å•Š</p></blockquote><h1 id="é…ç½®è·¨åŸŸ"><a href="#é…ç½®è·¨åŸŸ" class="headerlink" title="é…ç½®è·¨åŸŸ"></a>é…ç½®è·¨åŸŸ</h1><p>djangoéœ€è¦è°ƒç”¨githubçš„apiè¿›è¡Œä¼ ç…§ç‰‡ï¼Œ æ‰€ä»¥è¦é…ç½®è·¨åŸŸ</p><p>è¿™ä¸ªæ˜¯åœ¨settingsæ–‡ä»¶é‡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    &#x27;corsheaders&#x27;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">MIDDLEWARE = [</span><br><span class="line">    &#x27;django.middleware.common.CommonMiddleware&#x27;,</span><br><span class="line">    &#x27;corsheaders.middleware.CorsMiddleware&#x27;,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>views.py</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">def save_to_github(filename, content):</span><br><span class="line">    url = f&quot;&#123;settings.GITHUB_API_URL&#125;/repos/&#123;settings.GITHUB_OWNER&#125;/&#123;settings.GITHUB_REPO&#125;/contents/&#123;filename&#125;&quot;</span><br><span class="line">    headers = &#123;</span><br><span class="line">        &#x27;Authorization&#x27;: f&#x27;token &#123;settings.GITHUB_TOKEN&#125;&#x27;,</span><br><span class="line">        &#x27;Content-Type&#x27;: &#x27;application/json&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">    data = &#123;</span><br><span class="line">        &#x27;message&#x27;: f&#x27;Add &#123;filename&#125;&#x27;,</span><br><span class="line">        &#x27;content&#x27;: content,</span><br><span class="line">        &#x27;branch&#x27;: settings.GITHUB_BRANCH</span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.put(url, headers=headers, json=data)</span><br><span class="line">    if response.status_code == 201:</span><br><span class="line">        return True</span><br><span class="line">    return False</span><br><span class="line">    </span><br><span class="line">@method_decorator(csrf_exempt, name=&#x27;dispatch&#x27;)</span><br><span class="line">class UploadImageAPIView(APIView):</span><br><span class="line">    def post(self, request):</span><br><span class="line">        if request.FILES:</span><br><span class="line">            image_file = request.FILES.get(&#x27;image&#x27;)</span><br><span class="line">            file_format = image_file.name.split(&#x27;.&#x27;)[-1]</span><br><span class="line">            filename = &#x27;ouchelper/&#x27; + f&#x27;&#123;uuid1().hex&#125;.&#123;file_format&#125;&#x27;</span><br><span class="line">            content = base64.b64encode(image_file.file.read()).decode(&#x27;utf-8&#x27;)</span><br><span class="line">            if save_to_github(filename, content):</span><br><span class="line">                # image_url = f&quot;https://raw.githubusercontent.com/&#123;settings.GITHUB_OWNER&#125;/&#123;settings.GITHUB_REPO&#125;/&#123;settings.GITHUB_BRANCH&#125;/&#123;filename&#125;&quot;</span><br><span class="line">                image_url = f&quot;https://picture.daoxuan.cc/&#123;filename&#125;&quot;</span><br><span class="line">                data = &#123;</span><br><span class="line">                    &#x27;success&#x27;: True,</span><br><span class="line">                    &#x27;url&#x27;: image_url,</span><br><span class="line">                &#125;</span><br><span class="line">                return Response(data)</span><br><span class="line">            else:</span><br><span class="line">                data = &#123;</span><br><span class="line">                    &#x27;success&#x27;: False,</span><br><span class="line">                    &#x27;message&#x27;: &#x27;Failed to upload image&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">                return Response(data)</span><br><span class="line">        else:</span><br><span class="line">            data = &#123;</span><br><span class="line">                &#x27;success&#x27;: False,</span><br><span class="line">                &#x27;message&#x27;: &#x27;Unsupported file format&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">            return Response(data)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å‡½æ•°å¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ ·å­GITHUB_API_URLã€GITHUB_OWNERã€GITHUB_REPOéƒ½æ”¾åœ¨settingsé‡Œé¢</p><p>GITHUB_TOKENæ˜¯tokenï¼Œæ€ä¹ˆç”³è¯·å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢æ•™ç¨‹ï¼Œæ­£å¸¸çš„urlåº”è¯¥æ˜¯image_url = fâ€<a href="https://raw.githubusercontent.com/{settings.GITHUB_OWNER}/{settings.GITHUB_REPO}/{settings.GITHUB_BRANCH}/{filename}&quot;è¿™æ ·çš„,åªä¸è¿‡æˆ‘ä½¿ç”¨cloudfareçš„workerä»£ç†äº†ä¸€ä¸‹ï¼Œæ‰€ä»¥ç»‘å®šè‡ªå·±çš„åŸŸåè¿›è¡Œè®¿é—®äº†ã€‚">https://raw.githubusercontent.com/{settings.GITHUB_OWNER}/{settings.GITHUB_REPO}/{settings.GITHUB_BRANCH}/{filename}&quot;è¿™æ ·çš„,åªä¸è¿‡æˆ‘ä½¿ç”¨cloudfareçš„workerä»£ç†äº†ä¸€ä¸‹ï¼Œæ‰€ä»¥ç»‘å®šè‡ªå·±çš„åŸŸåè¿›è¡Œè®¿é—®äº†ã€‚</a></p></blockquote></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;blockquote&gt;
&lt;p&gt;å‰æ®µæ—¶é—´è¢«æ‰“äº†ï¼Œå¯¼è‡´å›¾åºŠå¯„äº†ï¼Œç´¢æ€§ç”¨githubå½“åšå›¾åºŠé˜²æ­¢å†æ¬¡æ¬ è´¹&lt;/p&gt;
&lt;p&gt;ä¹‹å‰ç”¨çš„ä¸ƒç‰›äº‘ï¼ˆå®³ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;tip cogs&quot;&gt;</summary>
      
    
    
    
    
    <category term="django" scheme="https://daoxuan.cc/tags/django/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²djangoé¡¹ç›®</title>
    <link href="https://daoxuan.cc/posts/20868/"/>
    <id>https://daoxuan.cc/posts/20868/</id>
    <published>2023-04-17T13:58:21.000Z</published>
    <updated>2024-12-08T16:00:48.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²djangoé¡¹ç›®"><a href="#ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²djangoé¡¹ç›®" class="headerlink" title="ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²djangoé¡¹ç›®"></a>ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²djangoé¡¹ç›®</h1><div class="tip cogs"><p>éå¸¸emo</p></div><p>çˆ±ç‰¹ç¨‹åºéƒ¨ç°åœ¨åªå‰©ä¸‹ä¸‰äººï¼Œä¸ºäº†æ–¹ä¾¿ç¨‹åºéƒ¨æˆå‘˜ä½¿ç”¨ï¼Œå†™ä¸€ç¯‡å…³äºéƒ¨ç½²çš„æ•™ç¨‹</p><blockquote><p>æ¬¢è¿åŠ å…¥çˆ±ç‰¹å·¥ä½œå®¤</p></blockquote><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><blockquote><p>æˆ‘ä½¿ç”¨çš„æœåŠ¡å™¨æ˜¯è…¾è®¯äº‘æœåŠ¡å™¨ï¼Œä»€ä¹ˆæœåŠ¡å™¨å€’æ˜¯æ— æ‰€è°“ï¼Œåªéœ€è¦æ ¹æ®å®˜æ–¹æ–‡æ¡£å’Œä½ çš„æœåŠ¡å™¨ä½¿ç”¨çš„ç³»ç»Ÿå®‰è£…å®å¡”é¢æ¿å³å¯ã€‚</p></blockquote><p>è¿™ä¸ªæ˜¯å®å¡”å®˜ç½‘<a href="https://www.bt.cn/new/index.html">å®å¡”é¢æ¿ - ç®€å•å¥½ç”¨çš„Linux/WindowsæœåŠ¡å™¨è¿ç»´ç®¡ç†é¢æ¿ (bt.cn)</a>ç½‘ä¸Šä¸€æœå°±æœ‰å…¶å®ã€‚</p><h2 id="ç™»å½•æ”¹å¯†"><a href="#ç™»å½•æ”¹å¯†" class="headerlink" title="ç™»å½•æ”¹å¯†"></a>ç™»å½•æ”¹å¯†</h2><p><img src="http://picture.daoxuan.cc/image/202304172157280.png" alt="image-20230417185210940"></p><blockquote><p>å®‰è£…å®Œä¹‹åä¼šæ˜¾ç¤ºç½‘å€ï¼Œé‚£ä¸ªç½‘å€ä¸€å®šè¦è®°ä½ï¼Œè®¿é—®ä¹‹åçš„ç•Œé¢æ˜¯è¿™æ ·çš„ï¼Œç”¨æœåŠ¡å™¨è¿”å›ç»™ä½ çš„è´¦å·å¯†ç è¿›è¡Œç™»å½•</p></blockquote><p>å½“ç„¶ï¼Œå› ä¸ºé‚£ä¸ªè´¦å·å¯†ç ç”¨èµ·æ¥å¾ˆä¸æ–¹ä¾¿å¯ä»¥åœ¨ç™»å½•æ—¶å€™è¿›è¡Œæ”¹å¯†ã€‚</p><blockquote><p>ç¬¬ä¸€æ¬¡è¿›å…¥ä¹‹åå®‰è£…æç¤ºä¼šå®‰è£…ä¸€äº›ä¸œè¥¿ï¼Œæˆ‘ä»¬å®‰è£…ä½“é‡å°çš„é‚£ä¸ªã€‚</p></blockquote><p><img src="http://picture.daoxuan.cc/image/202304172157735.png" alt="image-20230417202220060"></p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>è¿›å…¥è½¯ä»¶å•†åº—ä¸‹è½½Pythoné¡¹ç›®ç®¡ç†å™¨ï¼Œåœ¨Pythonç®¡ç†å™¨ä¸­éœ€è¦ä¸‹è½½Python</p><blockquote><p>æœ‰ä¸€äº›ä¸œè¥¿éœ€è¦ä¸‹è½½æˆ‘è®°ä¸å…¨ã€‚</p></blockquote><h2 id="é…ç½®æ•°æ®åº“"><a href="#é…ç½®æ•°æ®åº“" class="headerlink" title="é…ç½®æ•°æ®åº“"></a>é…ç½®æ•°æ®åº“</h2><p>ç‚¹å‡»æ·»åŠ æ•°æ®åº“ï¼Œç¼–ç utf-8å…¶ä»–çš„å¯ä»¥å’Œè‡ªå·±æœ¬åœ°çš„ä¸€æ ·ï¼ˆè¿™æ ·å°±ä¸ç”¨è°ƒsettingsçš„è®¾ç½®äº†ï¼‰</p><blockquote><p>éœ€è¦æ ¸å¯¹ä¸€ä¸‹è‡ªå·±settingsé‡Œé¢çš„æ•°æ®åº“è®¾ç½®å’Œè‡ªå·±æ·»åŠ çš„æ•°æ®åº“éœ€è¦ä¸€è‡´ã€‚</p></blockquote><p>åˆ›å»ºå®Œæ•°æ®åº“æ—¶å€™å°±å¯ä»¥ç‚¹å‡»å¯¼å…¥ï¼Œç„¶åå¯¼å…¥æœ¬åœ°çš„æ•°æ®åº“åŒ…ï¼ˆ.sqlï¼‰</p><h2 id="åœ¨æœ¬åœ°ç”Ÿæˆä¾èµ–æ–‡ä»¶"><a href="#åœ¨æœ¬åœ°ç”Ÿæˆä¾èµ–æ–‡ä»¶" class="headerlink" title="åœ¨æœ¬åœ°ç”Ÿæˆä¾èµ–æ–‡ä»¶"></a>åœ¨æœ¬åœ°ç”Ÿæˆä¾èµ–æ–‡ä»¶</h2><p><code>pip freeze &gt; requirements.txt</code>è¾“å…¥è¿™ä¸ªå‘½ä»¤ç”Ÿæˆä¾èµ–æ–‡ä»¶<code>requirements.txt</code>æŸ¥çœ‹è¯¥æ–‡ä»¶ä¸­çš„ä¾èµ–æ˜¯ä¸æ˜¯è‡ªå·±è¿™ä¸ªé¡¹ç›®ç”¨çš„ï¼Œä¸æ˜¯çš„è¯è‡ªå·±debugï¼Œç„¶åæ”¹ä¸€ä¸‹ä¾èµ–çš„ç¼–ç æ ¼å¼ä¸ºutf-8,é˜²æ­¢è¯†åˆ«ä¸åˆ°ã€‚</p><h2 id="ä¸Šä¼ é¡¹ç›®å‹ç¼©åŒ…"><a href="#ä¸Šä¼ é¡¹ç›®å‹ç¼©åŒ…" class="headerlink" title="ä¸Šä¼ é¡¹ç›®å‹ç¼©åŒ…"></a>ä¸Šä¼ é¡¹ç›®å‹ç¼©åŒ…</h2><p>ä¸Šä¼ é¡¹ç›®å‹ç¼©åŒ…åˆ°/www/wwwrootè¿™ä¸ªç›®å½•ä¸‹é¢è¿›è¡Œè§£å‹ï¼ˆå…¶å®åˆ°å“ªé‡Œæ— æ‰€è°“ï¼Œä¹ æƒ¯ä¸Šæ”¾è¿™é‡Œï¼‰</p><h2 id="éƒ¨ç½²é¡¹ç›®"><a href="#éƒ¨ç½²é¡¹ç›®" class="headerlink" title="éƒ¨ç½²é¡¹ç›®"></a>éƒ¨ç½²é¡¹ç›®</h2><p>æ‰“å¼€ä¹‹å‰ä¸‹è½½å¥½çš„Pythoné¡¹ç›®ç®¡ç†å™¨ï¼Œç‚¹å‡»æ·»åŠ é¡¹ç›®ã€‚è·¯å¾„é€‰æ‹©åˆšåˆšå¯¼å…¥çš„æ–‡ä»¶å¤¹ï¼Œæ¡†æ¶é€‰æ‹©djangoï¼Œå¯åŠ¨æ–¹å¼é€‰æ‹©gunicornï¼Œé€‰æ‹©ä¸€ä¸ªæ²¡æœ‰è¢«å ç”¨è¿‡çš„ç«¯å£æ¯”å¦‚9000ï¼›8088ä¹‹ç±»çš„ï¼Œç‚¹å‡»å®‰è£…æ¨¡å—ä¾èµ–ï¼Œå¼€æœºå¯åŠ¨ï¼Œä¹‹åå°±å¯ä»¥ç‚¹å‡»ç¡®å®šäº†ã€‚</p><blockquote><p>ä¸‹è½½å®Œæˆä¹‹åæ‰“å¼€é¡¹ç›®æ—¥å¿—ï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰bugï¼Œæœ‰æŠ¥é”™çš„è¯å¯èƒ½æ˜¯ä¾èµ–åŒ…ç¼ºå°‘ï¼Œè‡ªè¡ŒæŸ¥çœ‹ä¸‹è½½ã€‚</p><p>åˆ°è¿™é‡Œéœ€è¦ä¿è¯æ•°æ®åº“çš„é…ç½®æ˜¯æ­£ç¡®çš„ï¼Œè€Œä¸”settingsæœ‰ä¸€å¥è¿™ä¸ªALLOWED_HOSTS = []ç»™ä»–æ”¹æˆALLOWED_HOSTS = [â€œ*â€]</p></blockquote><p>ç„¶ååœ¨Pythoné¡¹ç›®ç®¡ç†å™¨é‡Œç‚¹å‡»æ˜ å°„ï¼Œæœ‰è‡ªå·±åŸŸåçš„æ˜ å°„è‡ªå·±ä¸ºè¿™ä¸ªé¡¹ç›®èµ·çš„åŸŸåï¼Œæ²¡æœ‰çš„è¯æŠŠæœåŠ¡å™¨åœ°å€å†™ä¸€ä¸‹ã€‚</p><p>åˆ°è¿™é‡Œå°±æˆåŠŸäº†</p><h2 id="éœ€è¦è‡ªè¡Œå®Œå–„çš„åœ°æ–¹"><a href="#éœ€è¦è‡ªè¡Œå®Œå–„çš„åœ°æ–¹" class="headerlink" title="éœ€è¦è‡ªè¡Œå®Œå–„çš„åœ°æ–¹"></a>éœ€è¦è‡ªè¡Œå®Œå–„çš„åœ°æ–¹</h2><ol><li><p>é¡¹ç›®éƒ¨ç½²çš„æ—¶å€™è®¾ç½®äº†ç«¯å£ï¼Œè¿™ä¸ªéœ€è¦åœ¨å®å¡”é¢æ¿çš„â€å®‰å…¨â€œé‚£é‡Œï¼Œå’ŒæœåŠ¡å™¨çš„â€œé˜²ç«å¢™â€é‚£é‡ŒæŠŠä½ æ·»åŠ çš„ç«¯å£æ”¾è¡Œä¸€ä¸‹ã€‚</p></li><li><p>åŸŸåçš„sslè¯ä¹¦è‡ªè¡Œé…ç½®ã€‚</p></li><li><p>æ•°æ®åº“çš„æ–‡ä»¶å¯ä»¥åœ¨Navicaté‡Œé¢æŒ‰ç…§ä¸‹å›¾è¿›è¡Œå¯¼å‡º</p></li></ol><p><img src="http://picture.daoxuan.cc/image/202304172157907.png" alt="image-20230417214005276"></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²djangoé¡¹ç›®&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²djangoé¡¹ç›®&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨å®å¡”é¢æ¿éƒ¨ç½²djangoé¡¹ç›®&quot;&gt;&lt;/a&gt;ä½¿ç”¨å®å¡”é¢æ¿éƒ¨</summary>
      
    
    
    
    
    <category term="django" scheme="https://daoxuan.cc/tags/django/"/>
    
  </entry>
  
  <entry>
    <title>å¤§è‹±æ•£è®°</title>
    <link href="https://daoxuan.cc/posts/64429/"/>
    <id>https://daoxuan.cc/posts/64429/</id>
    <published>2023-04-16T08:05:39.000Z</published>
    <updated>2024-12-08T16:00:47.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><details class="folding-tag" ><summary> å¤§è‹±2unit1 </summary>              <div class='content'>              <details class="folding-tag" ><summary> æ±‰è¯‘è‹± </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>æ±‰æ„</th><th>è‹±æ–‡</th></tr></thead><tbody><tr><td>çƒŸé›¾</td><td><psw>haze</psw></td></tr><tr><td>å¤§éº»</td><td><psw>marijuana</psw></td></tr><tr><td>é¥¶æœ‰å…´å‘³çš„</td><td><psw>stimulating</psw></td></tr><tr><td>ï¼ˆè¢«è§†ä¸ºæŸä¸ªç»æµä½“çš„ï¼‰å›½å®¶</td><td><psw>economy</psw></td></tr><tr><td>ï¼ˆå¤§å­¦çš„ï¼‰æ ¡å›­</td><td><psw>campus</psw></td></tr><tr><td>ç¤ºå¨ï¼ˆæ´»åŠ¨ï¼‰</td><td><psw>demonstration</psw></td></tr><tr><td>æ¿€è¿›ä¸»ä¹‰</td><td><psw>radicalism</psw></td></tr><tr><td>ï¼ˆç¾å›½ï¼‰å·é•¿</td><td><psw>governor</psw></td></tr><tr><td>æŒä¸åŒæ”¿è§çš„</td><td><psw>dissident</psw></td></tr><tr><td>æ€æƒ³å¼€æ˜çš„äºº</td><td><psw>liberal</psw></td></tr><tr><td>å†²çª</td><td><psw>clash</psw></td></tr><tr><td>ç»Ÿæ²»é›†å›¢ï¼›å»ºç«‹</td><td><psw>establishment</psw></td></tr><tr><td>æƒ…æ„Ÿå¼ºçƒˆçš„</td><td><psw>passionate</psw></td></tr><tr><td>æŠ—è®®</td><td><psw>protest</psw></td></tr><tr><td>ç»“ç›Ÿ</td><td><psw>alliance</psw></td></tr><tr><td>å‘èµ·ï¼›å¼€å§‹ï¼›å‘åŠ¨</td><td><psw>launch</psw></td></tr><tr><td>ç»ˆäº</td><td><psw>ultimately</psw></td></tr><tr><td>è¾èŒ</td><td><psw>resignation</psw></td></tr><tr><td>æ¿€è¿›ä¸»ä¹‰ï¼›è¡ŒåŠ¨ä¸»ä¹‰</td><td><psw>activism</psw></td></tr><tr><td>æˆä¸ºÂ·Â·Â·çš„ç‰¹å¾</td><td><psw>characterize</psw></td></tr><tr><td>ç‹¬ç«‹å…¬å¸åˆ¶ä½œçš„</td><td><psw>indie</psw></td></tr><tr><td>ä»¤äººè§‰å¾—è‡ªç”±çš„</td><td><psw>liberating</psw></td></tr><tr><td>åˆ›é€ çš„</td><td><psw>creative</psw></td></tr><tr><td>è§‰é†’ï¼›è®¤è¯†ï¼›æ„è¯†</td><td><psw>awakening</psw></td></tr><tr><td>é¦–è¦çš„ï¼›æœ€é‡è¦çš„</td><td><psw>prime</psw></td></tr><tr><td>æ„¤ä¸–å«‰ä¿—çš„ï¼›è®¤ä¸ºäººçš†è‡ªç§è€…</td><td><psw>cynic</psw></td></tr><tr><td>æ¼ ç„¶çš„</td><td><psw>apathetic</psw></td></tr><tr><td>ä»¤äººé™¶é†‰çš„</td><td><psw>heady</psw></td></tr><tr><td>å› ç´ </td><td><psw>factor</psw></td></tr><tr><td>é€’é™åœ°</td><td><psw>descending</psw></td></tr><tr><td>å°±ä¸šï¼›åœ¨èŒ</td><td><psw>employment</psw></td></tr><tr><td>èƒœç®—ï¼›æˆåŠŸçš„å¯èƒ½æ€§</td><td><psw>prospect</psw></td></tr><tr><td>æ”¯ä»˜å¾—èµ·</td><td><psw>affordability</psw></td></tr><tr><td>ï¼ˆå€¼å¾—å…³æ³¨çš„ï¼‰é—®é¢˜</td><td><psw>issue</psw></td></tr><tr><td>å¯è·å¾—æ€§</td><td><psw>accessibility</psw></td></tr><tr><td>æœºä¼š</td><td><psw>opportunity</psw></td></tr><tr><td>å…³ç³»æä¸ºå¯†åˆ‡çš„</td><td><psw>umbilically</psw></td></tr><tr><td>è´¹è§£çš„</td><td><psw>obscure</psw></td></tr><tr><td>æä¹</td><td><psw>bliss</psw></td></tr><tr><td>ä½¿ï¼ˆç»„ç»‡ï¼Œæ´»åŠ¨ï¼‰éš¾ä»¥ç»§ç»­ï¼›ä½¿æŸäººå±ˆæœ</td><td><psw>bring sb./sth to their knees</psw></td></tr><tr><td>å¼•èµ·æŸäº‹ï¼ˆå°¤æŒ‡ä»¤äººä¸å¿«æˆ–å‡ºä¹æ„æ–™çš„äº‹ï¼‰</td><td><psw>give rise to sth</psw></td></tr><tr><td>ä¸Â·Â·Â·ç»“ç›Ÿ</td><td><psw>form an alliance with</psw></td></tr><tr><td>å¼•èµ·ï¼›å¯¼è‡´ï¼›é€ æˆ</td><td><psw>bring about</psw></td></tr><tr><td>ä¸ç®¡</td><td><psw>in spite of</psw></td></tr><tr><td>ï¼ˆä½¿ï¼‰ä¸ç¢°ï¼› ï¼ˆä½¿ï¼‰ä¸é è¿‘</td><td><psw>keep off</psw></td></tr><tr><td>é€€å‡ºæ´»åŠ¨ï¼›é€€å­¦ï¼›é€€å‡ºæ¯”èµ›</td><td><psw>drop out</psw></td></tr><tr><td>é€’é™åœ°</td><td><psw>in descending order</psw></td></tr><tr><td>æœ¬è´¨ä¸Šï¼›æœ¬èº«ï¼›å°±æœ¬èº«è€Œè¨€</td><td><psw>in / of itself</psw></td></tr><tr><td>ä¾é ï¼›ä¾èµ–</td><td><psw>rely on</psw></td></tr><tr><td>å¼€åŠï¼›è®¾ç«‹</td><td><psw>set up</psw></td></tr></tbody></table></div>              </div>            </details><details class="folding-tag" ><summary> è‹±è¯‘æ±‰ </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>è‹±æ–‡</th><th>ç¿»è¯‘</th></tr></thead><tbody><tr><td>get the hang of it</td><td><psw>æŒæ¡çªé—¨</psw></td></tr><tr><td>sponsorship</td><td><psw>å¥–å­¦é‡‘</psw></td></tr><tr><td>haze</td><td><psw>çƒŸé›¾</psw></td></tr><tr><td>marijuana</td><td><psw>å¤§éº»</psw></td></tr><tr><td>stimulating</td><td><psw>é¥¶æœ‰å…´å‘³çš„</psw></td></tr><tr><td>economy</td><td><psw>ï¼ˆè¢«è§†ä¸ºæŸä¸ªç»æµå®ä½“çš„å›½å®¶ï¼‰</psw></td></tr><tr><td>campus</td><td><psw>æ ¡å›­</psw></td></tr><tr><td>demonstration</td><td><psw>ç¤ºå¨æ´»åŠ¨</psw></td></tr><tr><td>radicalism</td><td><psw>æ¿€è¿›ä¸»ä¹‰</psw></td></tr><tr><td>governor</td><td><psw>å·é•¿</psw></td></tr><tr><td>dissident</td><td><psw>æŒä¸åŒæ”¿è§çš„</psw></td></tr><tr><td>liberal</td><td><psw>æ€æƒ³å¼€æ˜çš„äºº</psw></td></tr><tr><td>clash</td><td><psw>å†²çª</psw></td></tr><tr><td>establishment</td><td><psw>å»ºè®¾ï¼›ç»Ÿæ²»é›†å›¢</psw></td></tr><tr><td>passionate</td><td><psw>æ¿€æ˜‚çš„</psw></td></tr><tr><td>protest</td><td><psw>æŠ—è®®</psw></td></tr><tr><td>alliance</td><td><psw>ç»“ç›Ÿ</psw></td></tr><tr><td>launch</td><td><psw>å‘èµ·</psw></td></tr><tr><td>ultimately</td><td><psw>æœ€ç»ˆ</psw></td></tr><tr><td>resignation</td><td><psw>è¾èŒ</psw></td></tr><tr><td>activism</td><td><psw>è¡ŒåŠ¨ä¸»ä¹‰</psw></td></tr><tr><td>characterize</td><td><psw>æˆä¸ºÂ·Â·Â·çš„ç‰¹å¾</psw></td></tr><tr><td>indie</td><td><psw>ç‹¬ç«‹å…¬å¸åˆ¶ä½œçš„</psw></td></tr><tr><td>liberating</td><td><psw>ä»¤äººè§‰å¾—è‡ªç”±çš„</psw></td></tr><tr><td>creative</td><td><psw>æœ‰åˆ›é€ æ€§çš„</psw></td></tr><tr><td>awakening</td><td><psw>è§‰é†’</psw></td></tr><tr><td>prime</td><td><psw>é¦–è¦çš„</psw></td></tr><tr><td>prison</td><td><psw>ç›‘ç‹±</psw></td></tr><tr><td>cynic</td><td><psw>æ„¤ä¸–å«‰ä¿—çš„äºº</psw></td></tr><tr><td>apathetic</td><td><psw>æ¼ ç„¶çš„</psw></td></tr><tr><td>heady</td><td><psw>ä»¤äººé™¶é†‰çš„</psw></td></tr><tr><td>factor</td><td><psw>å› ç´ </psw></td></tr><tr><td>descending</td><td><psw>é€’é™çš„</psw></td></tr><tr><td>employment</td><td><psw>å°±ä¸š</psw></td></tr><tr><td>prospect</td><td><psw>æˆåŠŸçš„å¯èƒ½æ€§</psw></td></tr><tr><td>affordability</td><td><psw>æ”¯ä»˜å¾—èµ·</psw></td></tr><tr><td>issue</td><td><psw>ï¼ˆå€¼å¾—å…³æ³¨çš„é—®é¢˜ï¼‰</psw></td></tr><tr><td>accessibility</td><td><psw>å¯è·å¾—æ€§</psw></td></tr><tr><td>opportunity</td><td><psw>æœºä¼š</psw></td></tr><tr><td>umbilically</td><td><psw>å…³ç³»æä¸ºå¯†åˆ‡çš„</psw></td></tr><tr><td>obscure</td><td><psw>è´¹è§£çš„</psw></td></tr><tr><td>bliss</td><td><psw>æä¹</psw></td></tr><tr><td>bring sb./sth to their knees</td><td><psw>è¿«ä½¿æŸäººå±ˆæœ</psw></td></tr><tr><td>give rise to sth</td><td><psw>å¼•èµ·æŸäº‹ï¼ˆå°¤æŒ‡ä»¤äººä¸å¿«æˆ–å‡ºäººæ„æ–™çš„äº‹ï¼‰</psw></td></tr><tr><td>form an alliance with</td><td><psw>ä¸Â·Â·Â·ç»“ç›Ÿ</psw></td></tr><tr><td>bring about</td><td><psw>å¼•èµ·</psw></td></tr><tr><td>in spite of</td><td><psw>ä¸ç®¡</psw></td></tr><tr><td>keep off</td><td><psw>ï¼ˆä½¿ï¼‰ä¸ç¢°</psw></td></tr><tr><td>drop out</td><td><psw>é€€å­¦ï¼›é€€å‡ºæ´»åŠ¨</psw></td></tr></tbody></table></div>              </div>            </details>              </div>            </details><details class="folding-tag" ><summary> å¤§è‹±äºŒ unit2 2-1 </summary>              <div class='content'>              <details class="folding-tag" ><summary> æ±‰è¯‘è‹± </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>æ±‰æ„</th><th>è‹±æ–‡</th></tr></thead><tbody><tr><td>è¿‡æ—¶çš„ï¼›è€å¼çš„</td><td><psw>old-fishioned</psw></td></tr><tr><td>ç²—å£®çš„ï¼›è‚¥èƒ–çš„</td><td><psw>bulky</psw></td></tr><tr><td>å“€ç—›</td><td><psw>mourning</psw></td></tr><tr><td>æèµ·ï¼›ä¸¾èµ·</td><td><psw>hoist</psw></td></tr><tr><td>æ— å®šå½¢çš„</td><td><psw>shapeless</psw></td></tr><tr><td>æ†ï¼›æŸï¼›åŒ…</td><td><psw>bundle</psw></td></tr><tr><td>æ°”å–˜åå</td><td><psw>puff</psw></td></tr><tr><td>å‘»åŸ</td><td><psw>moan</psw></td></tr><tr><td>ç´§å¼ çš„;æ‹…å¿ƒçš„ï¼›å¿§è™‘çš„</td><td><psw>uneasy</psw></td></tr><tr><td>å¼•èµ·</td><td><psw>arouse</psw></td></tr><tr><td>æ•¢è¯´ï¼›å¤§èƒ†è¡¨ç¤º</td><td><psw>venture</psw></td></tr><tr><td>è¿‡åº¦çš„ï¼›è¿‡åˆ†çš„</td><td><psw>excessive</psw></td></tr><tr><td>å®¶é•¿çš„</td><td><psw>parental</psw></td></tr><tr><td>åœ¨Â·Â·Â·ä¹‹ä¸­</td><td><psw>amongst</psw></td></tr><tr><td>å®‰æ…°</td><td><psw>console</psw></td></tr><tr><td>è‹¦æ¼ï¼›æ‚²ä¼¤ï¼›å¿§è™‘</td><td><psw>distress</psw></td></tr><tr><td>å¸ƒæ»¡è¡€ä¸çš„</td><td><psw>bloodshot</psw></td></tr><tr><td>å¤§å£å–˜æ°”</td><td><psw>pant</psw></td></tr><tr><td>é¼“èµ·çš„</td><td><psw>bulging</psw></td></tr><tr><td>å–·å‡º</td><td><psw>spurt</psw></td></tr><tr><td>å†…å¿ƒçš„ï¼›ä¸ªäººçš„ï¼›éšç§˜çš„</td><td><psw>inner</psw></td></tr><tr><td>ä¸å—æ§åˆ¶çš„</td><td><psw>uncontrolled</psw></td></tr><tr><td>ç²¾åŠ›ï¼›å¹²åŠ²</td><td><psw>vitality</psw></td></tr><tr><td>ï¼ˆä½¿ï¼‰å˜è™šå¼±</td><td><psw>weaken</psw></td></tr><tr><td>åé©³ï¼›å›å˜´</td><td><psw>retort</psw></td></tr><tr><td>é¹¿æ¯›è‰²ï¼›æµ…é»„è¤è‰²</td><td><psw></psw></td></tr><tr><td>é»‘ç´«è‰²çš„</td><td><psw>livid</psw></td></tr><tr><td>å«æ°´çš„</td><td><psw>watery</psw></td></tr><tr><td>é™æ­¢çš„ï¼›ä¸€åŠ¨ä¸åŠ¨çš„</td><td><psw>motionless</psw></td></tr><tr><td>å°–é”çš„ï¼›åˆºè€³çš„</td><td><psw>shrill</psw></td></tr><tr><td>å•œæ³£ï¼›å‘œå’½</td><td><psw>sob</psw></td></tr><tr><td>å¾ˆå¯èƒ½çš„</td><td><psw>probable</psw></td></tr><tr><td>ä½¿éœ‡æƒŠï¼›ä½¿å¤§åƒä¸€æƒŠ</td><td><psw>stun</psw></td></tr><tr><td>ï¼ˆè‚Œè‚‰ï¼‰ç´§ç¼©</td><td><psw>contract</psw></td></tr><tr><td>ä½¿å˜å½¢</td><td><psw>distort</psw></td></tr><tr><td>å¤ºèµ°</td><td><psw>snatch</psw></td></tr><tr><td>åŒ†å¿™ï¼›ä»“ä¿ƒ</td><td><psw>haste</psw></td></tr><tr><td>ä»¤äººç—›è‹¦çš„</td><td><psw>harrowing</psw></td></tr><tr><td>æ§åˆ¶ä¸ä½çš„</td><td><psw>uncontrollable</psw></td></tr><tr><td>æ‹¿èµ°ï¼›å¸¦èµ°</td><td><psw>take away</psw></td></tr><tr><td>ä¸ºÂ·Â·Â·é€è¡Œ</td><td><psw>see off</psw></td></tr><tr><td>ä½¿æŸäº‹ç»“æŸ</td><td><psw>give an end to sth</psw></td></tr><tr><td>ä¸Šå‡</td><td><psw>rise up</psw></td></tr><tr><td>åŒ†å¿™åœ°</td><td><psw>in haste</psw></td></tr></tbody></table></div>              </div>            </details><details class="folding-tag" ><summary> è‹±è¯‘æ±‰ </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>è‹±æ–‡</th><th>æ±‰æ„</th></tr></thead><tbody><tr><td>old-fashioned</td><td><psw>è¿‡æ—¶çš„</psw></td></tr><tr><td>bulky</td><td><psw>ç²—å£®çš„</psw></td></tr><tr><td>mourning</td><td><psw>å“€ç—›</psw></td></tr><tr><td>hoist</td><td><psw>ä¸¾èµ·</psw></td></tr><tr><td>shapeless</td><td><psw>æ— å½¢çš„</psw></td></tr><tr><td>bundle</td><td><psw>æ†</psw></td></tr><tr><td>puff</td><td><psw>æ°”å–˜åå</psw></td></tr><tr><td>moan</td><td><psw>å‘»åŸ</psw></td></tr><tr><td>uneasy</td><td><psw>ç„¦è™‘çš„</psw></td></tr><tr><td>arouse</td><td><psw>æ¿€èµ·</psw></td></tr><tr><td>venture</td><td><psw>æ•¢è¯´</psw></td></tr><tr><td>excessive</td><td><psw>è¿‡åˆ†çš„</psw></td></tr><tr><td>parental</td><td><psw>å®¶é•¿çš„</psw></td></tr><tr><td>amongst</td><td><psw>åœ¨Â·Â·Â·ä¹‹é—´</psw></td></tr><tr><td>console</td><td><psw>å®‰æ…°</psw></td></tr><tr><td>distress</td><td><psw>è‹¦æ¼</psw></td></tr><tr><td>bloodshot</td><td><psw>å……æ»¡è¡€ä¸çš„</psw></td></tr><tr><td>pant</td><td><psw>æ°”å–˜åå</psw></td></tr><tr><td>bulging</td><td><psw>é¼“èµ·çš„</psw></td></tr><tr><td>spurt</td><td><psw>å–·å‡º</psw></td></tr><tr><td>inner</td><td><psw>å†…å¿ƒçš„</psw></td></tr><tr><td>uncontrolled</td><td><psw>æ— æ³•æ§åˆ¶çš„</psw></td></tr><tr><td>vitality</td><td><psw>ç²¾åŠ›</psw></td></tr><tr><td>weaken</td><td><psw>å˜è™šå¼±</psw></td></tr><tr><td>retort</td><td><psw>å›å˜´</psw></td></tr><tr><td>fawn</td><td><psw>é¹¿æ¯›è‰²</psw></td></tr><tr><td>livid</td><td><psw>é»‘ç´«è‰²</psw></td></tr><tr><td>watery</td><td><psw>å«æ°´çš„</psw></td></tr><tr><td>motionless</td><td><psw>ä¸åŠ¨çš„</psw></td></tr><tr><td>shrill</td><td><psw>å°–é”çš„</psw></td></tr><tr><td>sob</td><td><psw>å•œæ³£</psw></td></tr><tr><td>probable</td><td><psw>å¯èƒ½</psw></td></tr><tr><td>stun</td><td><psw>éœ‡æƒŠ</psw></td></tr><tr><td>contract</td><td><psw>ç´§ç¼©</psw></td></tr><tr><td>distort</td><td><psw>ä½¿å¤±çœŸ</psw></td></tr><tr><td>snatch</td><td><psw>å¤ºèµ°</psw></td></tr><tr><td>haste</td><td><psw>åŒ†åŒ†</psw></td></tr><tr><td>harrowing</td><td><psw>å¯æ€•çš„</psw></td></tr><tr><td>uncontrollable</td><td><psw>æ§åˆ¶ä¸ä½çš„</psw></td></tr><tr><td>take away</td><td><psw>æ‹¿èµ°</psw></td></tr><tr><td>see off</td><td><psw>ä¸ºÂ·Â·Â·é€è¡Œ</psw></td></tr><tr><td>put an end to sth</td><td><psw>ä½¿æŸäº‹ç»“æŸ</psw></td></tr><tr><td>rise up</td><td><psw>ä¸Šå‡</psw></td></tr><tr><td>in haste</td><td><psw>æ€¥å¿™åœ°</psw></td></tr></tbody></table></div>              </div>            </details>              </div>            </details><details class="folding-tag" ><summary> å¤§è‹±äºŒ unit2 2-2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> è‹±è¯‘æ±‰ </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>è‹±è¯­</th><th>æ±‰æ„</th></tr></thead><tbody><tr><td>empathy</td><td><psw>åŒæƒ…</psw></td></tr><tr><td>crawl</td><td><psw>çˆ¬</psw></td></tr><tr><td>teddy</td><td><psw>æ³°è¿ªç†Š</psw></td></tr><tr><td>retrieve</td><td><psw>æ”¶å›</psw></td></tr><tr><td>trace</td><td><psw>è¿½ç©¶</psw></td></tr><tr><td>infancy</td><td><psw>å©´å„¿æœŸ</psw></td></tr><tr><td>virtually</td><td><psw>å®é™…ä¸Š</psw></td></tr><tr><td>infant</td><td><psw>å©´å„¿</psw></td></tr><tr><td>response</td><td><psw>å›åº”</psw></td></tr><tr><td>precursor</td><td><psw>å…ˆå…†</psw></td></tr><tr><td>cursor</td><td><psw>å…‰æ ‡</psw></td></tr><tr><td>developmental</td><td><psw>æˆé•¿çš„</psw></td></tr><tr><td>sympathetic</td><td><psw>åŒæƒ…çš„</psw></td></tr><tr><td>disturbance</td><td><psw>å¹²æ‰°</psw></td></tr><tr><td>misery</td><td><psw>ç—›è‹¦</psw></td></tr><tr><td>confusion</td><td><psw>å›°æƒ‘</psw></td></tr><tr><td>imitate</td><td><psw>æ¨¡ä»¿</psw></td></tr><tr><td>comprehend</td><td><psw>ç†è§£</psw></td></tr><tr><td>mimicry</td><td><psw>æ¨¡ä»¿èƒ½åŠ›</psw></td></tr><tr><td>imitation</td><td><psw>æ¨¡ä»¿</psw></td></tr><tr><td>evoke</td><td><psw>ä½¿äººæƒ³èµ·</psw></td></tr><tr><td>distinct</td><td><psw>æœ‰åŒºåˆ«çš„</psw></td></tr><tr><td>toddler</td><td><psw>å­¦æ­¥çš„å°å­©</psw></td></tr><tr><td>repertoire</td><td><psw>å…¨éƒ¨æŠ€èƒ½</psw></td></tr><tr><td>cookie</td><td><psw>é¥¼å¹²</psw></td></tr><tr><td>stroke</td><td><psw>æŠšæ‘¸</psw></td></tr><tr><td>strike</td><td><psw>æ’å‡»</psw></td></tr><tr><td>pat</td><td><psw>è½»æ‹</psw></td></tr><tr><td>diverge</td><td><psw>å‡ºç°åˆ†æ­§</psw></td></tr><tr><td>sensitivity</td><td><psw>æ•æ„Ÿ</psw></td></tr><tr><td>keenly</td><td><psw>å¼ºçƒˆçš„</psw></td></tr><tr><td>empathic</td><td><psw>æœ‰åŒæ„Ÿçš„</psw></td></tr><tr><td>discipline</td><td><psw>æƒ©ç½š</psw></td></tr><tr><td>misbehaviour</td><td><psw>ä¸è‰¯ä¸¾æ­¢</psw></td></tr><tr><td>naughty</td><td><psw>æ·˜æ°”çš„</psw></td></tr><tr><td>apart from</td><td><psw>ä¸Â·Â·Â·åˆ†ç¦»</psw></td></tr><tr><td>stem from</td><td><psw>æºäº</psw></td></tr><tr><td>pull away</td><td><psw>é—ªé¿ï¼›åŠ é€Ÿè¶…è¿‡ï¼›å¼€èµ°</psw></td></tr><tr><td>calm down</td><td><psw>é•‡é™ä¸‹æ¥</psw></td></tr><tr><td>tune out</td><td><psw>ä¸æ³¨æ„</psw></td></tr></tbody></table></div>              </div>            </details><details class="folding-tag" ><summary> æ±‰è¯‘è‹± </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>æ±‰æ„</th><th>è‹±è¯­</th></tr></thead><tbody><tr><td>åŒæ„Ÿ</td><td><psw>empathy</psw></td></tr><tr><td>çˆ¬</td><td><psw>crawl</psw></td></tr><tr><td>æ³°è¿ªç†Š</td><td><psw>teddy</psw></td></tr><tr><td>æ”¶å›ï¼›å–å›ï¼›é‡æ–°æ‰¾å›</td><td><psw>retrieve</psw></td></tr><tr><td>è¿½ç©¶ï¼›è¿½æº¯</td><td><psw>trace</psw></td></tr><tr><td>å©´å„¿æœŸ</td><td><psw>infancy</psw></td></tr><tr><td>å·®ä¸å¤š;å®é™…ä¸Š</td><td><psw>virtually</psw></td></tr><tr><td>å©´å„¿</td><td><psw>infant</psw></td></tr><tr><td>ååº”ï¼›å›åº”ï¼›å“åº”</td><td><psw>response</psw></td></tr><tr><td>å…ˆå…†</td><td><psw>percursor</psw></td></tr><tr><td>æˆé•¿çš„</td><td><psw>developmental</psw></td></tr><tr><td>åŒæƒ…çš„</td><td><psw>sympathetic</psw></td></tr><tr><td>å¹²æ‰°</td><td><psw>disturbance</psw></td></tr><tr><td>è‹¦æ¼</td><td><psw>misery</psw></td></tr><tr><td>æ··æ·†ï¼›é”™è®¤</td><td><psw>confusion</psw></td></tr><tr><td>æ¨¡ä»¿</td><td><psw>imitate</psw></td></tr><tr><td>ç†è§£ï¼›é¢†ä¼š</td><td><psw>comprehend</psw></td></tr><tr><td>æ¨¡ä»¿ï¼›æ¨¡ä»¿èƒ½åŠ›</td><td><psw>mimicry</psw></td></tr><tr><td>æ¨¡ä»¿</td><td><psw>imitation</psw></td></tr><tr><td>ä½¿äººæƒ³èµ·ï¼›å”¤èµ·</td><td><psw>evoke</psw></td></tr><tr><td>æœ‰åŒºåˆ«çš„</td><td><psw>distinct</psw></td></tr><tr><td>å­¦æ­¥çš„å°å­©</td><td><psw>toddler</psw></td></tr><tr><td>å…¨éƒ¨æŠ€èƒ½ï¼ˆæˆ–æ‰èƒ½ï¼‰</td><td><psw>repertoire</psw></td></tr><tr><td>å°ç”œé¥¼ï¼›æ›²å¥‡é¥¼</td><td><psw>cookie</psw></td></tr><tr><td>è½»æŠšï¼›æŠšæ‘¸</td><td><psw>stroke</psw></td></tr><tr><td>å¹³æ‹</td><td><psw>pat</psw></td></tr><tr><td>ç›¸å¼‚</td><td><psw>diverge</psw></td></tr><tr><td>æ•æ„Ÿ</td><td><psw>sensitivity</psw></td></tr><tr><td>å¼ºçƒˆåœ°</td><td><psw>keenly</psw></td></tr><tr><td>æœ‰åŒæ„Ÿçš„</td><td><psw>empathic</psw></td></tr><tr><td>æƒ©ç½š</td><td><psw>discipline</psw></td></tr><tr><td>ä¸è‰¯è¡Œä¸º</td><td><psw>misbehavior</psw></td></tr><tr><td>æ·˜æ°”çš„</td><td><psw>naughty</psw></td></tr><tr><td>é™¤Â·Â·Â·ä¹‹å¤–</td><td><psw>apart from</psw></td></tr><tr><td>æºäº</td><td><psw>stem from</psw></td></tr><tr><td>é—ªé¿ï¼›åŠ é€Ÿè¶…è¿‡ï¼›èµ°å¼€</td><td><psw>pull away</psw></td></tr><tr><td>å¹³é™ä¸‹æ¥</td><td><psw>clam down</psw></td></tr><tr><td>ä¸æ³¨æ„ï¼›ä¸ç†ç¬ï¼›ä¸è¿‡é—®</td><td><psw>tune out</psw></td></tr></tbody></table></div>              </div>            </details>              </div>            </details><details class="folding-tag" ><summary> å¤§è‹±äºŒ unit3 3-1 </summary>              <div class='content'>              <details class="folding-tag" ><summary> è‹±è¯‘æ±‰ </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>è‹±æ–‡</th><th>æ±‰æ„</th></tr></thead><tbody><tr><td>teammate</td><td><psw>é˜Ÿå‹</psw></td></tr><tr><td>collide</td><td><psw>å‡ºç°çŸ›ç›¾</psw></td></tr><tr><td>tournament</td><td><psw>é”¦æ ‡èµ›</psw></td></tr><tr><td>clue</td><td><psw>çº¿ç´¢</psw></td></tr><tr><td>pitch</td><td><psw>åœºæ‰€</psw></td></tr><tr><td>madly</td><td><psw>ç–¯ç‹‚åœ°</psw></td></tr><tr><td>sheer</td><td><psw>å…¨ç„¶çš„</psw></td></tr><tr><td>hum</td><td><psw>å“¼</psw></td></tr><tr><td>mournful</td><td><psw>æ‚²ç—›çš„</psw></td></tr><tr><td>reminiscent</td><td><psw>å›å¿†å¾€äº‹çš„</psw></td></tr><tr><td>chorus</td><td><psw>åˆå”±æ›²</psw></td></tr><tr><td>stand-off</td><td><psw>ï¼ˆæˆ˜æ–—çš„ï¼‰åƒµæŒï¼ˆçŠ¶æ€ï¼‰</psw></td></tr><tr><td>suspense</td><td><psw>ç„¦è™‘ï¼›æ‚¬å¿µ</psw></td></tr><tr><td>newcomer</td><td><psw>æ–°æ‰‹</psw></td></tr><tr><td>mostly</td><td><psw>å¤§å¤šæ•°çš„</psw></td></tr><tr><td>whack</td><td><psw>é‡å‡»</psw></td></tr><tr><td>cranium</td><td><psw>å¤´é¢…</psw></td></tr><tr><td>accidentally</td><td><psw>å¶ç„¶åœ°</psw></td></tr><tr><td>random</td><td><psw>ä»»æ„çš„</psw></td></tr><tr><td>defender</td><td><psw>é˜²å®ˆäººå‘˜</psw></td></tr><tr><td>illustration</td><td><psw>å®ä¾‹</psw></td></tr><tr><td>soar</td><td><psw>çŒ›å‡</psw></td></tr><tr><td>hairy</td><td><psw>å¤šæ¯›çš„</psw></td></tr><tr><td>shooter</td><td><psw>å°„æ‰‹</psw></td></tr><tr><td>striker</td><td><psw>å‰é”‹</psw></td></tr><tr><td>peel</td><td><psw>å‰ŠÂ·Â·Â·çš®</psw></td></tr><tr><td>sprint</td><td><psw>å†²åˆº</psw></td></tr><tr><td>resume</td><td><psw>é‡æ–°å¼€å§‹</psw></td></tr><tr><td>precision</td><td><psw>ç²¾ç¡®çš„</psw></td></tr><tr><td>priority</td><td><psw>ä¼˜å…ˆè€ƒè™‘çš„äº‹</psw></td></tr><tr><td>periodically</td><td><psw>é˜¶æ®µæ€§çš„</psw></td></tr><tr><td>writhe</td><td><psw>æ‰­åŠ¨èº«ä½“</psw></td></tr><tr><td>massage</td><td><psw>ç»™Â·Â·Â·æŒ‰æ‘©</psw></td></tr><tr><td>message</td><td><psw>ä¿¡æ¯</psw></td></tr><tr><td>phony</td><td><psw>å‡å†’çš„</psw></td></tr><tr><td>baloney</td><td><psw>èƒ¡è¯´å…«é“</psw></td></tr><tr><td>reprimand</td><td><psw>è®­æ–¥</psw></td></tr><tr><td>strategy</td><td><psw>ç­–ç•¥</psw></td></tr><tr><td>mystery</td><td><psw>ä¸å¯æ€è®®çš„äº‹åŠ¡</psw></td></tr><tr><td>offside</td><td><psw>è¶Šä½</psw></td></tr><tr><td>deem</td><td><psw>è®¤ä¸º</psw></td></tr><tr><td>roughly</td><td><psw>ç²—ç•¥åœ°</psw></td></tr><tr><td>perplexed</td><td><psw>å›°æƒ‘çš„</psw></td></tr><tr><td>prefessional</td><td><psw>ä¸“ä¸šçš„</psw></td></tr><tr><td>interpretation</td><td><psw>è§£é‡Š</psw></td></tr><tr><td>touchdown</td><td><psw>æŒçƒè¿‡åº•çº¿</psw></td></tr><tr><td>referee</td><td><psw>è£åˆ¤å‘˜</psw></td></tr><tr><td>responsible</td><td><psw>è´Ÿè´£çš„</psw></td></tr><tr><td>hopped-up</td><td><psw>å…´å¥‹çš„</psw></td></tr><tr><td>backtalk</td><td><psw>é¡¶å˜´</psw></td></tr><tr><td>infraction</td><td><psw>è¿æ³•</psw></td></tr><tr><td>punch</td><td><psw>æ</psw></td></tr><tr><td>flock</td><td><psw>ç¾¤é›†</psw></td></tr><tr><td>blow the whistle on sth</td><td><psw>å‘Šå‘</psw></td></tr><tr><td>back and forth</td><td><psw>æ¥å›åœ°</psw></td></tr><tr><td>tend to do</td><td><psw>å€¾å‘äºåšæŸäº‹</psw></td></tr><tr><td>put a good face on sth</td><td><psw>æ©é¥°æŸäº‹ç‰©</psw></td></tr><tr><td>by chance</td><td><psw>å¶ç„¶</psw></td></tr><tr><td>off course</td><td><psw>åç¦»èˆªé“</psw></td></tr><tr><td>take the credit for sth</td><td><psw>æŠŠÂ·Â·Â·å½’åŠŸäºè‡ªå·±</psw></td></tr><tr><td>peel off</td><td><psw>è„±å»</psw></td></tr><tr><td>tick away</td><td><psw>ï¼ˆæ—¶é—´ï¼‰æ»´æ»´ç­”ç­”åœ°è¿‡å»</psw></td></tr><tr><td>at a loss for words</td><td><psw>ä¸çŸ¥é“è¯´ä»€ä¹ˆå¥½</psw></td></tr></tbody></table></div>              </div>            </details><details class="folding-tag" ><summary> æ±‰è¯‘è‹± </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>æ±‰æ„</th><th>è‹±è¯­</th></tr></thead><tbody><tr><td>é˜Ÿå‹ï¼›åŒé˜Ÿé˜Ÿå‘˜</td><td><psw>teammate</psw></td></tr><tr><td>å‡ºç°çŸ›ç›¾ï¼›å‘é€å†²çª</td><td><psw>collide</psw></td></tr><tr><td>é”¦æ ‡èµ›</td><td><psw>tournament</psw></td></tr><tr><td>çº¿ç´¢</td><td><psw>clue</psw></td></tr><tr><td>åœºæ‰€</td><td><psw>pitch</psw></td></tr><tr><td>ç–¯ç‹‚åœ°</td><td><psw>madly</psw></td></tr><tr><td>çº¯ç²¹çš„ï¼›å…¨ç„¶çš„</td><td><psw>sheer</psw></td></tr><tr><td>å“¼ï¼ˆæ›²å­ï¼‰</td><td><psw>hum</psw></td></tr><tr><td>æ‚²ç—›çš„</td><td><psw>mournful</psw></td></tr><tr><td>è¿½å¿†å¾€äº‹çš„</td><td><psw>reminiscent</psw></td></tr><tr><td>åˆå”±æ›²</td><td><psw>chorus</psw></td></tr><tr><td>ï¼ˆæˆ˜æ–—çš„ï¼‰åƒµæŒï¼ˆçŠ¶æ€ï¼‰</td><td><psw>stand-off</psw></td></tr><tr><td>ç„¦è™‘</td><td><psw>suspense</psw></td></tr><tr><td>æ–°æ‰‹</td><td><psw>newcomer</psw></td></tr><tr><td>é€šå¸¸</td><td><psw>mostly</psw></td></tr><tr><td>é‡å‡»</td><td><psw>whack</psw></td></tr><tr><td>å¤´é¢…</td><td><psw>cranium</psw></td></tr><tr><td>å¶ç„¶åœ°</td><td><psw>accidently</psw></td></tr><tr><td>éšæœºçš„</td><td><psw>random</psw></td></tr><tr><td>é˜²å®ˆäººå‘˜</td><td><psw>defender</psw></td></tr><tr><td>å®ä¾‹</td><td><psw>illustration</psw></td></tr><tr><td>çŒ›å‡</td><td><psw>soar</psw></td></tr><tr><td>å¤šæ¯›çš„</td><td><psw>hairy</psw></td></tr><tr><td>å°„æ‰‹</td><td><psw>shooter</psw></td></tr><tr><td>å‰é”‹</td><td><psw>striker</psw></td></tr><tr><td>å‰Šçš®</td><td><psw>peel</psw></td></tr><tr><td>å†²åˆº</td><td><psw>sprint</psw></td></tr><tr><td>é‡æ–°å¼€å§‹</td><td><psw>resume</psw></td></tr><tr><td>ç²¾ç¡®çš„</td><td><psw>precision</psw></td></tr><tr><td>ä¼˜å…ˆè€ƒè™‘çš„äº‹</td><td><psw>priority</psw></td></tr><tr><td>é˜¶æ®µæ€§åœ°</td><td><psw>periodically</psw></td></tr><tr><td>ç¿»æ»š</td><td><psw>writhe</psw></td></tr><tr><td>ç»™Â·Â·Â·æŒ‰æ‘©</td><td><psw>massage</psw></td></tr><tr><td>ä¼ªé€ çš„</td><td><psw>phony</psw></td></tr><tr><td>èƒ¡è¯´å…«é“</td><td><psw>baloney</psw></td></tr><tr><td>è®­æ–¥</td><td><psw>reprimend</psw></td></tr><tr><td>ç­–ç•¥</td><td><psw>strategy</psw></td></tr><tr><td>ä¸å¯æ€è®®çš„äº‹ç‰©</td><td><psw>mystery</psw></td></tr><tr><td>è¶Šä½</td><td><psw>offside</psw></td></tr><tr><td>è®¤ä¸º</td><td><psw>deem</psw></td></tr><tr><td>ç²—ç•¥åœ°</td><td><psw>roughly</psw></td></tr><tr><td>å›°æƒ‘çš„</td><td><psw>perplexed</psw></td></tr><tr><td>ä¸“ä¸šçš„</td><td><psw>professional</psw></td></tr><tr><td>è§£é‡Š</td><td><psw>interpretation</psw></td></tr><tr><td>æŒçƒè¿‡åº•çº¿</td><td><psw>touchdown</psw></td></tr><tr><td>è£åˆ¤å‘˜</td><td><psw>referee</psw></td></tr><tr><td>è´Ÿè´£Â·Â·Â·çš„</td><td><psw>responsible</psw></td></tr><tr><td>å…´å¥‹çš„</td><td><psw>hopped-up</psw></td></tr><tr><td>é¡¶å˜´</td><td><psw>backtalk</psw></td></tr><tr><td>è¿æ³•</td><td><psw>infraction</psw></td></tr><tr><td>çŒ›å‡»</td><td><psw>punch</psw></td></tr><tr><td>ç¾¤é›†</td><td><psw>flock</psw></td></tr><tr><td>å‘Šå‘</td><td><psw>blow the whistle on sth</psw></td></tr><tr><td>æ¥æ¥å›å›</td><td><psw>back and forth</psw></td></tr><tr><td>å€¾å‘äºåšæŸäº‹</td><td><psw>tend to do sth</psw></td></tr><tr><td>æ©é¥°æŸäº‹ç‰©</td><td><psw>put a good face on sth</psw></td></tr><tr><td>å¶ç„¶</td><td><psw>by chance</psw></td></tr><tr><td>åç¦»èˆªå‘</td><td><psw>off course</psw></td></tr><tr><td>æŠŠÂ·Â·Â·å½’åŠŸäºè‡ªå·±</td><td><psw>take the credit for sth</psw></td></tr><tr><td>è„±å»</td><td><psw>peel off</psw></td></tr><tr><td>æ—¶é—´æ»´æ»´ç­”ç­”åœ°è¿‡å»</td><td><psw>tick away</psw></td></tr><tr><td>ä¸çŸ¥é“è¯´ä»€ä¹ˆå¥½</td><td><psw>at a loss for word</psw></td></tr></tbody></table></div>              </div>            </details>              </div>            </details><details class="folding-tag" ><summary> å¤§è‹±äºŒ unit2 3-2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> æ±‰è¯‘è‹± </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>æ±‰æ„</th><th>è‹±è¯­</th></tr></thead><tbody><tr><td>è½»æŸ”åœ°</td><td><psw>gently</psw></td></tr><tr><td>ç…§äº®</td><td><psw>illuminate</psw></td></tr><tr><td>éœ‡è€³æ¬²è‹çš„</td><td><psw>deafening</psw></td></tr><tr><td>æŒ‘é€—æ€§åœ°</td><td><psw>tantalisingly</psw></td></tr><tr><td>è‚¾ä¸Šè…ºç´ </td><td><psw>adrenaline</psw></td></tr><tr><td>ä½¿äººå¼‚å¸¸é«˜å…´çš„</td><td><psw>exhilarating</psw></td></tr><tr><td>æå…¶ææ€–çš„</td><td><psw>terrifying</psw></td></tr><tr><td>ä¿è¯</td><td><psw>ensure</psw></td></tr><tr><td>é•‡å®šçš„</td><td><psw>composed</psw></td></tr><tr><td>é”¦æ ‡èµ›</td><td><psw>championship</psw></td></tr><tr><td>æŒ¥åŠ¨</td><td><psw>flutter</psw></td></tr><tr><td>è”åˆçš„</td><td><psw>unified</psw></td></tr><tr><td>æ‹›è‡´ï¼ˆä¸å¿«ä¹‹äº‹ï¼‰</td><td><psw>incur</psw></td></tr><tr><td>ç›´è¨€ä¸è®³çš„</td><td><psw>vocal</psw></td></tr><tr><td>è¡¨æ¼”è€…</td><td><psw>performer</psw></td></tr><tr><td>å‹åŠ›</td><td><psw>strain</psw></td></tr><tr><td>ä½¿é»¯ç„¶å¤±è‰²</td><td><psw>eclipse</psw></td></tr><tr><td>ç­‹ç–²åŠ›å°½</td><td><psw>exhaustion</psw></td></tr><tr><td>è‰°è‹¦çš„</td><td><psw>grueling</psw></td></tr><tr><td>ç–²åŠ³</td><td><psw>fatigue</psw></td></tr><tr><td>å–Šå«å£°</td><td><psw>roar</psw></td></tr><tr><td>æ¿€åŠ±</td><td><psw>boost</psw></td></tr><tr><td>è°¢å¤©è°¢åœ°</td><td><psw>thankfully</psw></td></tr><tr><td>è€åŠ›</td><td><psw>stamina</psw></td></tr><tr><td>ç­‹ç–²åŠ›å°½çš„</td><td><psw>exhausted</psw></td></tr><tr><td>è®°åˆ†ç‰Œ</td><td><psw>scoreboard</psw></td></tr><tr><td>è§£è¯´</td><td><psw>commentary</psw></td></tr><tr><td>åˆºç—›æ„Ÿ</td><td><psw>tingle</psw></td></tr><tr><td>åœ¨é«˜å¤„çš„</td><td><psw>aloft</psw></td></tr><tr><td>å¤§é‡çš„æŸç‰©</td><td><psw>a sea of sth</psw></td></tr><tr><td>æ’é™¤ï¼ˆå¹²æ‰°ï¼‰</td><td><psw>shut out</psw></td></tr><tr><td>æ¥æ‰‹</td><td><psw>take over</psw></td></tr><tr><td>è·Ÿä¸Š</td><td><psw>keep up with</psw></td></tr><tr><td>æ¸æ¸åœ°å¼•å‘</td><td><psw>lead up to</psw></td></tr><tr><td>å¿ä½</td><td><psw>fight back</psw></td></tr><tr><td>é¢†è·‘</td><td><psw>set the pace</psw></td></tr><tr><td>åšå®ˆ</td><td><psw>hold out</psw></td></tr><tr><td>å€’æ•°</td><td><psw>count down</psw></td></tr><tr><td>è€ƒè™‘åˆ°æŸäº‹ç‰©</td><td><psw>bear sth in mind</psw></td></tr><tr><td>æˆåŠŸ</td><td><psw>make it</psw></td></tr><tr><td>é”™è¿‡æœºä¼š</td><td><psw>miss out</psw></td></tr><tr><td>æ„Ÿè§‰ï¼›è§‰å¾—</td><td><psw>feel like</psw></td></tr></tbody></table></div>              </div>            </details>              </div>            </details><details class="folding-tag" ><summary> å¤§è‹±äºŒ unit4 </summary>              <div class='content'>              <details class="folding-tag" ><summary> 4-1 æ±‰è¯‘è‹± </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>æ±‰æ„</th><th>è‹±æ–‡</th></tr></thead><tbody><tr><td>ä»¤äººé’¦ä½©åœ°</td><td><psw>impressively</psw></td></tr><tr><td>ä»¤äººéš¾å¿˜ï¼›ä»¤äººæ³¨ç›®</td><td><psw>impressiveness</psw></td></tr><tr><td>ä¹ æƒ¯æ€§çš„</td><td><psw>habitual</psw></td></tr><tr><td>å¯’å†·çš„</td><td><psw>chilly</psw></td></tr><tr><td>ä¸€é˜µå¼ºé£</td><td><psw>gust</psw></td></tr><tr><td>è½¬åŠ¨</td><td><psw>twirl</psw></td></tr><tr><td>å¤æ‚ç²¾ç»†çš„</td><td><psw>intricate</psw></td></tr><tr><td>å·§å¦™çš„</td><td><psw>artful</psw></td></tr><tr><td>è­¦è§‰åœ°</td><td><psw>watchful</psw></td></tr><tr><td>å‘ä¸‹</td><td><psw>adown</psw></td></tr><tr><td>æ¸©å’Œçš„</td><td><psw>pacific</psw></td></tr><tr><td>ä¸»å¹²é“</td><td><psw>thoroughfare</psw></td></tr><tr><td>å¼ºå¥çš„</td><td><psw>stalwart</psw></td></tr><tr><td>æ˜‚é¦–é˜”æ­¥</td><td><psw>swagger</psw></td></tr><tr><td>çœ‹å®ˆè€…</td><td><psw>guardian</psw></td></tr><tr><td>é™„è¿‘</td><td><psw>vicinity</psw></td></tr><tr><td>åœ¨ä¸­é—´ï¼ˆçš„ï¼‰</td><td><psw>midway</psw></td></tr><tr><td>é—¨é“</td><td><psw>doorway</psw></td></tr><tr><td>é»‘æš—</td><td><psw>darkened</psw></td></tr><tr><td>é‡‘å±å™¨å…·</td><td><psw>hardware</psw></td></tr><tr><td>æœªç‚¹ç‡ƒçš„</td><td><psw>unlighted</psw></td></tr><tr><td>ä»¤äººå®‰å¿ƒçš„</td><td><psw>reassuring</psw></td></tr><tr><td>ä»¤äººå®‰å¿ƒåœ°</td><td><psw>reassuringly</psw></td></tr><tr><td>ä¼¤ç—•</td><td><psw>scar</psw></td></tr><tr><td>çœ‰æ¯›</td><td><psw>eyebrow</psw></td></tr><tr><td>å›´å·¾é’ˆ</td><td><psw>scarfpin</psw></td></tr><tr><td>å¥½å‹</td><td><psw>chum</psw></td></tr><tr><td>ï¼ˆå°¤æŒ‡è¯´è¯è€…å–œæ¬¢çš„ï¼‰ç”·äºº</td><td><psw>chap</psw></td></tr><tr><td>å‘½è¿</td><td><psw>destiny</psw></td></tr><tr><td>ï¼ˆéœ€è¦å¯¹ä»˜çš„ï¼‰äº‹æƒ…</td><td><psw>proposition</psw></td></tr><tr><td>èµ¶ç´§è¡ŒåŠ¨</td><td><psw>hustle</psw></td></tr><tr><td>å¿ å®çš„</td><td><psw>staunch</psw></td></tr><tr><td>ç¼ºä¹åˆ›é€ åŠ›çš„è‹¦å¹²è€…</td><td><psw>plodder</psw></td></tr><tr><td>æœºæ™º</td><td><psw>wits</psw></td></tr><tr><td>å‰ƒé¡»åˆ€</td><td><psw>razor</psw></td></tr><tr><td>å°é›¨</td><td><psw>drizzle</psw></td></tr><tr><td>æ¿€åŠ¨çš„</td><td><psw>astir</psw></td></tr><tr><td>ä»¤äººå¿§éƒåœ°</td><td><psw>dismally</psw></td></tr><tr><td>è’å”</td><td><psw>absurdity</psw></td></tr><tr><td>æ€€ç–‘åœ°</td><td><psw>doubtfully</psw></td></tr><tr><td>ç¥ˆæ±‚ä¸Šå¸ä¿ä½‘</td><td><psw>bless</psw></td></tr><tr><td>å‘¼å–Š</td><td><psw>exclaim</psw></td></tr><tr><td>æœ‹å‹</td><td><psw>buddy</psw></td></tr><tr><td>ä¸€å®šç¨‹åº¦ä¸Š</td><td><psw>moderately</psw></td></tr><tr><td>è‡ªè´Ÿ</td><td><psw>egotism</psw></td></tr><tr><td>æ¹®æ²¡</td><td><psw>submerge</psw></td></tr><tr><td>åˆºçœ¼çš„å…‰</td><td><psw>glare</psw></td></tr><tr><td>åŒæ—¶åœ°</td><td><psw>simultaneously</psw></td></tr><tr><td>ç›¯è§†</td><td><psw>gaze</psw></td></tr><tr><td>å“ˆå·´ç‹—</td><td><psw>pug</psw></td></tr><tr><td>åˆç†çš„</td><td><psw>sensible</psw></td></tr><tr><td>å·¡è­¦</td><td><psw>patrolman</psw></td></tr><tr><td>ä¸ºäº†åšæ ·å­</td><td><psw>for show</psw></td></tr><tr><td>å‡ ä¹</td><td><psw>well nigh</psw></td></tr><tr><td>å¤±å»Â·Â·Â·çš„çº¿ç´¢</td><td><psw>lose track of</psw></td></tr><tr><td>çªç„¶éœ²é¢</td><td><psw>turn up</psw></td></tr><tr><td>æ‹¿å‡º</td><td><psw>pull out</psw></td></tr><tr><td>å¢¨å®ˆæˆè§„</td><td><psw>in a groove</psw></td></tr><tr><td>æ‹œè®¿</td><td><psw>come around</psw></td></tr></tbody></table></div>              </div>            </details><details class="folding-tag" ><summary> 4-2 æ±‰è¯‘è‹± </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>æ±‰æ„</th><th>è‹±æ–‡</th></tr></thead><tbody><tr><td>çœ‰é¢˜</td><td><psw>strapline</psw></td></tr><tr><td>æ¬ºéª—</td><td><psw>deception</psw></td></tr><tr><td>å‡å†’</td><td><psw>impersonate</psw></td></tr><tr><td>ä¼ªé€ </td><td><psw>forge</psw></td></tr><tr><td>ä¼ªé€ ç½ª</td><td><psw>forgery</psw></td></tr><tr><td>è™šæ„çš„</td><td><psw>fictional</psw></td></tr><tr><td>è¯ˆéª—çŠ¯</td><td><psw>fraudster</psw></td></tr><tr><td>æ‹˜ç•™</td><td><psw>custody</psw></td></tr><tr><td>é¡¾é—®æœåŠ¡å…¬å¸</td><td><psw>consultancy</psw></td></tr><tr><td>è¯ˆéª—</td><td><psw>fraud</psw></td></tr><tr><td>èšé›†ç‚¹</td><td><psw>pickup</psw></td></tr><tr><td>åˆ‡ç¢</td><td><psw>shred</psw></td></tr><tr><td>åƒåœ¾</td><td><psw>trash</psw></td></tr><tr><td>ä¸€ç¾å…ƒ</td><td><psw>buck</psw></td></tr><tr><td>åŒ¿åçš„</td><td><psw>anonymous</psw></td></tr><tr><td>æ€ç»´æ–¹å¼</td><td><psw>mindset</psw></td></tr><tr><td>æ™®é€šçš„</td><td><psw>commonplace</psw></td></tr><tr><td>ç”Ÿè‚²é«˜å³°æœŸå‡ºç”Ÿçš„äºº</td><td><psw>baby boomer</psw></td></tr><tr><td>åœ†ç ç¬”</td><td><psw>ballpoint</psw></td></tr><tr><td>å®¶åº­çš„</td><td><psw>household</psw></td></tr><tr><td>é¢„é˜²</td><td><psw>precaution</psw></td></tr><tr><td>å‡èƒ¶</td><td><psw>gel</psw></td></tr><tr><td>éæ³•å…¥ä¾µï¼ˆä»–äººçš„è®¡ç®—æœºç³»ç»Ÿï¼‰</td><td><psw>hack</psw></td></tr><tr><td>é’±åŒ…</td><td><psw>pocketbook</psw></td></tr><tr><td>è®°è½½</td><td><psw>log</psw></td></tr><tr><td>æœºä¼šä¸»ä¹‰çš„</td><td><psw>opportunistic</psw></td></tr><tr><td>å–æ¶ˆ</td><td><psw>cancel</psw></td></tr><tr><td>å¿è¿˜</td><td><psw>pay back</psw></td></tr><tr><td>ä¾èµ–</td><td><psw>count on</psw></td></tr><tr><td>é‡‡å–é¢„é˜²æªæ–½</td><td><psw>take precautions</psw></td></tr><tr><td>å¿«é€Ÿé˜…è¯»</td><td><psw>look through</psw></td></tr><tr><td>æ’•æ¯</td><td><psw>tear up</psw></td></tr><tr><td>é€€å‡º</td><td><psw>log off</psw></td></tr></tbody></table></div>              </div>            </details>              </div>            </details></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;details class=&quot;folding-tag&quot; &gt;&lt;summary&gt; å¤§è‹±2unit1 &lt;/summary&gt;
              &lt;div class=&#39;content&#39;&gt;
             </summary>
      
    
    
    
    
    <category term="English" scheme="https://daoxuan.cc/tags/English/"/>
    
  </entry>
  
  <entry>
    <title>å¤§è‹±äºŒ unit4 4-1 è‹±è¯‘æ±‰</title>
    <link href="https://daoxuan.cc/posts/49711/"/>
    <id>https://daoxuan.cc/posts/49711/</id>
    <published>2023-04-15T07:50:44.000Z</published>
    <updated>2024-12-08T16:00:47.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><div class="table-container"><table><thead><tr><th>è‹±æ–‡</th><th>æ±‰æ„</th></tr></thead><tbody><tr><td>impressively</td><td><psw>ä»¤äººé’¦ä½©çš„ï¼›ä»¤äººå°è±¡æ·±åˆ»çš„</psw></td></tr><tr><td>impressiveness</td><td><psw>ä»¤äººéš¾å¿˜</psw></td></tr><tr><td>habitual</td><td><psw>ä¹ æƒ¯çš„</psw></td></tr><tr><td>chilly</td><td><psw>å¯’å†·çš„</psw></td></tr><tr><td>gust</td><td><psw>ä¸€é˜µç‹‚é£</psw></td></tr><tr><td>twirl</td><td><psw>è½¬åŠ¨</psw></td></tr><tr><td>intricate</td><td><psw>ç›˜æ ¹é”™èŠ‚çš„</psw></td></tr><tr><td>artful</td><td><psw>æœ‰æŠ€å·§çš„</psw></td></tr><tr><td>watchful</td><td><psw>è­¦æƒ•çš„</psw></td></tr><tr><td>adown</td><td><psw>å‘ä¸‹</psw></td></tr><tr><td>pacific</td><td><psw>å¹³é™çš„</psw></td></tr><tr><td>throughfare</td><td><psw>å¤§é“</psw></td></tr><tr><td>stalwart</td><td><psw>å¼ºå£®çš„</psw></td></tr><tr><td>swagger</td><td><psw>ç‹‚å¦„è‡ªå¤§</psw></td></tr><tr><td>guardian</td><td><psw>çœ‹å®ˆè€…</psw></td></tr><tr><td>vivinity</td><td><psw>é™„è¿‘</psw></td></tr><tr><td>midway</td><td><psw>åœ¨ä¸­é—´ï¼ˆçš„ï¼‰</psw></td></tr><tr><td>doorway</td><td><psw>é—¨</psw></td></tr><tr><td>darkened</td><td><psw>æˆ¿é—´æš—çš„</psw></td></tr><tr><td>hardware</td><td><psw>é‡‘å±å™¨å…·</psw></td></tr><tr><td>unlighted</td><td><psw>æœªç‚¹ç‡ƒçš„</psw></td></tr><tr><td>reassuring</td><td><psw>å®‰æ…°çš„</psw></td></tr><tr><td>reassuringly</td><td><psw>å®‰æ…°åœ°</psw></td></tr><tr><td>scar</td><td><psw>ä¼¤ç–¤</psw></td></tr><tr><td>eyebrow</td><td><psw>çœ‰æ¯›</psw></td></tr><tr><td>scarfpin</td><td><psw>å›´å·¾é’ˆ</psw></td></tr><tr><td>chum</td><td><psw>å¥½å‹</psw></td></tr><tr><td>chap</td><td><psw>å®¶ä¼™</psw></td></tr><tr><td>destiny</td><td><psw>å‘½è¿</psw></td></tr><tr><td>proposition</td><td><psw>éœ€è¦å…‘ä»˜çš„äº‹</psw></td></tr><tr><td>hustle</td><td><psw>èµ¶ç´§è¡ŒåŠ¨</psw></td></tr><tr><td>staunch</td><td><psw>å¿ å®çš„</psw></td></tr><tr><td>prodder</td><td><psw>ç¼ºä¹åˆ›é€ åŠ›çš„è‹¦å¹²è€…</psw></td></tr><tr><td>wits</td><td><psw>æœºæ™º</psw></td></tr><tr><td>razor</td><td><psw>åˆ®èƒ¡åˆ€</psw></td></tr><tr><td>drizzle</td><td><psw>å°é›¨</psw></td></tr><tr><td>astir</td><td><psw>æ¿€åŠ¨åœ°</psw></td></tr><tr><td>dismally</td><td><psw>ä»¤äººå¿§éƒçš„</psw></td></tr><tr><td>absurdity</td><td><psw>è’å”</psw></td></tr><tr><td>doubtfully</td><td><psw>æ€€ç–‘çš„</psw></td></tr><tr><td>bless</td><td><psw>ç¥ˆæ±‚ä¸Šå¸ä¿ä½‘</psw></td></tr><tr><td>exclaim</td><td><psw>å‘¼å–Š</psw></td></tr><tr><td>buddy</td><td><psw>æœ‹å‹</psw></td></tr><tr><td>moderately</td><td><psw>ä¸€å®šç¨‹åº¦ä¸Š</psw></td></tr><tr><td>egotism</td><td><psw>è‡ªè´Ÿ</psw></td></tr><tr><td>submerge</td><td><psw>ä½¿å®Œå…¨æ¶ˆå¤±</psw></td></tr><tr><td>glare</td><td><psw>è€€çœ¼çš„å…‰</psw></td></tr><tr><td>simultaneously</td><td><psw>åŒæ—¶åœ°</psw></td></tr><tr><td>gaze</td><td><psw>å‡è§†</psw></td></tr><tr><td>pug</td><td><psw>å“ˆå·´ç‹—</psw></td></tr><tr><td>sensible</td><td><psw>åˆç†çš„</psw></td></tr><tr><td>patrolman</td><td><psw>å·¡è­¦</psw></td></tr><tr><td>for show</td><td><psw>ä¸ºäº†ä½œç§€</psw></td></tr><tr><td>well nigh</td><td><psw>å‡ ä¹</psw></td></tr><tr><td>lose track of</td><td><psw>å¤±å»Â·Â·Â·çš„çº¿ç´¢</psw></td></tr><tr><td>turn up</td><td><psw>çªç„¶éœ²é¢æˆ–å‡ºç°</psw></td></tr><tr><td>pull out</td><td><psw>æ‹¿å‡º</psw></td></tr><tr><td>in a groove</td><td><psw>ä¸€æˆä¸å˜</psw></td></tr><tr><td>come around</td><td><psw>æ‹œè®¿æŸäººçš„å®¶</psw></td></tr></tbody></table></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;div class=&quot;table-container&quot;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è‹±æ–‡&lt;/th&gt;
&lt;th&gt;æ±‰æ„&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;im</summary>
      
    
    
    
    
    <category term="English" scheme="https://daoxuan.cc/tags/English/"/>
    
  </entry>
  
  <entry>
    <title>åˆ›æ–°ç§‘æŠ€æœˆæ¼”è®²ç¨¿</title>
    <link href="https://daoxuan.cc/posts/46458/"/>
    <id>https://daoxuan.cc/posts/46458/</id>
    <published>2023-04-11T15:53:55.000Z</published>
    <updated>2024-12-08T16:00:47.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="ä»‹ç»éƒ¨åˆ†"><a href="#ä»‹ç»éƒ¨åˆ†" class="headerlink" title="ä»‹ç»éƒ¨åˆ†"></a>ä»‹ç»éƒ¨åˆ†</h1><h2 id="ä»€ä¹ˆæ˜¯ä¸ªäººåšå®¢"><a href="#ä»€ä¹ˆæ˜¯ä¸ªäººåšå®¢" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸ªäººåšå®¢"></a>ä»€ä¹ˆæ˜¯ä¸ªäººåšå®¢</h2><p>å¾ˆå¤šäººéƒ½æœ‰è‡ªå·±çš„åˆ†äº«æ¬²ï¼Œæœ‰äº›äººå‘åŠ¨æ€ï¼Œæœ‰äº›äººå‘æœ‹å‹åœˆï¼Œè€Œæ­å»ºåšå®¢å‘è¡¨æ–‡ç« ä¾¿æ˜¯ç¨‹åºå‘˜ä»¬ç‹¬æœ‰çš„æµªæ¼«ã€‚</p><blockquote><p>åšå®¢ï¼šåˆ†äº«æŠ€æœ¯ï¼Œåˆ†äº«ç”Ÿæ´»çš„åœ°æ–¹ã€‚</p></blockquote><p><strong>å½“ç„¶æ­¤åšå®¢å¹¶ä¸æ˜¯åƒCSDNä¹‹ç±»çš„ä¾é™„äºå®˜æ–¹ç½‘ç«™çš„åšå®¢ï¼Œè€Œæ˜¯è‡ªå·±çš„ç½‘ç«™ã€‚</strong></p><h2 id="æˆ‘çš„åšå®¢ä¸»è¦éƒ¨åˆ†ä»‹ç»ï¼ˆé€Ÿåº¦è¿‡ï¼‰"><a href="#æˆ‘çš„åšå®¢ä¸»è¦éƒ¨åˆ†ä»‹ç»ï¼ˆé€Ÿåº¦è¿‡ï¼‰" class="headerlink" title="æˆ‘çš„åšå®¢ä¸»è¦éƒ¨åˆ†ä»‹ç»ï¼ˆé€Ÿåº¦è¿‡ï¼‰"></a>æˆ‘çš„åšå®¢ä¸»è¦éƒ¨åˆ†ä»‹ç»ï¼ˆé€Ÿåº¦è¿‡ï¼‰</h2><p>é¦–å…ˆå±•ç¤ºé»˜è®¤æ ·å¼ï¼Œç„¶åå±•ç¤ºæˆ‘è‡ªå·±çš„ã€‚<a href="https://hexo.io/zh-cn/index.html">å®˜æ–¹æ–‡æ¡£</a></p><h3 id="ä»‹ç»ä¸»è¦ç»„æˆéƒ¨åˆ†"><a href="#ä»‹ç»ä¸»è¦ç»„æˆéƒ¨åˆ†" class="headerlink" title="ä»‹ç»ä¸»è¦ç»„æˆéƒ¨åˆ†"></a>ä»‹ç»ä¸»è¦ç»„æˆéƒ¨åˆ†</h3><ul><li>åŠŸèƒ½ç±»åˆ«ä»‹ç»</li><li>æ¯ä¸ªåŠŸèƒ½ç®€å•ä»‹ç»</li><li>æ–‡ç« å±•ç¤ºï¼ˆå±•ç¤ºæŠ€æœ¯æ–‡ç« å’Œç”Ÿæ´»ç±»æ–‡ç« ï¼‰</li></ul><h2 id="åšå®¢èƒ½åšä»€ä¹ˆ"><a href="#åšå®¢èƒ½åšä»€ä¹ˆ" class="headerlink" title="åšå®¢èƒ½åšä»€ä¹ˆ"></a>åšå®¢èƒ½åšä»€ä¹ˆ</h2><p>å¯ä»¥åœ¨ä¸Šä¸€æ­¥ä»‹ç»çš„è¿‡ç¨‹ä¸­æ¸—é€</p><h1 id="æ•™ç¨‹éƒ¨åˆ†"><a href="#æ•™ç¨‹éƒ¨åˆ†" class="headerlink" title="æ•™ç¨‹éƒ¨åˆ†"></a>æ•™ç¨‹éƒ¨åˆ†</h1><h2 id="å¦‚ä½•æ­å»º"><a href="#å¦‚ä½•æ­å»º" class="headerlink" title="å¦‚ä½•æ­å»º"></a>å¦‚ä½•æ­å»º</h2><p>è¿™é‡Œä½¿ç”¨åˆ«äººå†™å¥½çš„æ–‡ç« è¿›è¡Œè®²è§£<a href="https://blog.csdn.net/weixin_44865458/article/details/122210068?utm_source=pocket_saves">ä½¿ç”¨ Hexo+GitHub æ­å»ºä¸ªäººå…è´¹åšå®¢æ•™ç¨‹_åä¹ä¸‡é‡Œçš„åšå®¢-CSDNåšå®¢</a></p><h2 id="ç¡®å®šä¸»é¢˜"><a href="#ç¡®å®šä¸»é¢˜" class="headerlink" title="ç¡®å®šä¸»é¢˜"></a>ç¡®å®šä¸»é¢˜</h2><p>æ¨èbutterflyï¼ŒåŸå› ï¼šä½¿ç”¨çš„äººå¤šï¼Œé‡åˆ°é—®é¢˜æ–¹ä¾¿æŸ¥è¯¢ï¼Œè€Œä¸”æœ‰ä¸€å †å¤§ä½¬å¸¦è·¯ï¼Œç¾åŒ–æ–¹ä¾¿ã€‚ï¼ˆè¿™é‡Œå¯ä»¥å±•ç¤ºä¸€ä¸‹å¤§ä½¬ä»¬çš„ä¸»é¢˜çš„é­”æ”¹ï¼‰<a href="https://blog.zhheo.com/">å¼ æ´ªHeo - åˆ†äº«è®¾è®¡ä¸ç§‘æŠ€ç”Ÿæ´» (zhheo.com)</a></p><h2 id="å¦‚ä½•ç¾åŒ–"><a href="#å¦‚ä½•ç¾åŒ–" class="headerlink" title="å¦‚ä½•ç¾åŒ–"></a>å¦‚ä½•ç¾åŒ–</h2><p>é¦–å…ˆå½“ç„¶æ˜¯æ ¹æ®å®˜æ–¹é…ç½®ç½‘å€<a href="https://butterfly.js.org/">Butterfly - A Simple and Card UI Design theme for Hexo</a>è¿›è¡Œç¾åŒ–ï¼Œç„¶åå°±åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p><ol><li>æœ‰å‰ç«¯åŸºç¡€ï¼Œè‡ªå·±é­”æ”¹ï¼ˆè®°å¾—å¤‡ä»½ï¼‰</li><li>çº¯å°ç™½ï¼ˆåƒæˆ‘ä¸€æ ·ï¼‰ï¼Œæ ¹æ®å¤§ä½¬ä»¬çš„æ–‡ç« è¿›è¡Œé­”æ”¹ï¼ˆè®°å¾—å¤‡ä»½ï¼‰</li></ol><blockquote><p>è¿™é‡Œç»™å‡ºå¤§ä½¬ä»¬åˆä½œå®Œæˆçš„ç¾åŒ–æ•™ç¨‹<a href="https://butterfly.zhheo.com/">Butterflyä¸»é¢˜ç¾åŒ–æ•™ç¨‹ (zhheo.com)</a></p><p>è¿™é‡Œæ‰¾ä¸€ä¸ªç¤ºä¾‹æ–‡ç« è¿›è¡Œæ¼”ç¤º<a href="https://blog.leonus.cn/2023/collectPage.html">è—å®é˜é¡µé¢çš„å®ç° | Leonus</a></p></blockquote><h2 id="å¦‚ä½•åŠ é€Ÿ"><a href="#å¦‚ä½•åŠ é€Ÿ" class="headerlink" title="å¦‚ä½•åŠ é€Ÿ"></a>å¦‚ä½•åŠ é€Ÿ</h2><p>ç®€å•ä»‹ç»ä¸ºä»€ä¹ˆè¦åŠ é€Ÿä¸€ä¸‹</p><p>ç®€å•ç²—æš´çš„æ–¹æ³•æ˜¯å°†åšå®¢éƒ¨ç½²åˆ°ä¸ªäººæœåŠ¡å™¨ã€‚</p><p>å…¶æ¬¡å°±æ˜¯ä½¿ç”¨å›½å†…ä¾‹å¦‚ä¸ƒç‰›äº‘ä¹‹ç±»çš„å…è´¹cdnæœåŠ¡ã€‚</p><h1 id="æ–‡ç« æŠ€å·§"><a href="#æ–‡ç« æŠ€å·§" class="headerlink" title="æ–‡ç« æŠ€å·§"></a>æ–‡ç« æŠ€å·§</h1><h2 id="å›¾åºŠçš„ä½¿ç”¨"><a href="#å›¾åºŠçš„ä½¿ç”¨" class="headerlink" title="å›¾åºŠçš„ä½¿ç”¨"></a>å›¾åºŠçš„ä½¿ç”¨</h2><p>è¿™é‡Œç”¨æˆ‘è‡ªå·±å†™çš„æ–‡ç« æ¥è®²è§£<a href="https://daoxuan.cc/posts/undefined/">PicGo + ä¸ƒç‰›äº‘ + Typora æ­å»ºå›¾åºŠ | DaoXuan</a></p><p>é¡ºä¾¿ç®€å•æ¼”ç¤ºä¸€ä¸‹ã€‚</p><h2 id="æœ€åæ€»ç»“ä¸€ä¸‹å†™åšå®¢çš„å¥½å¤„ï¼ˆæ—¶é—´å…è®¸çš„è¯ï¼‰"><a href="#æœ€åæ€»ç»“ä¸€ä¸‹å†™åšå®¢çš„å¥½å¤„ï¼ˆæ—¶é—´å…è®¸çš„è¯ï¼‰" class="headerlink" title="æœ€åæ€»ç»“ä¸€ä¸‹å†™åšå®¢çš„å¥½å¤„ï¼ˆæ—¶é—´å…è®¸çš„è¯ï¼‰"></a>æœ€åæ€»ç»“ä¸€ä¸‹å†™åšå®¢çš„å¥½å¤„ï¼ˆæ—¶é—´å…è®¸çš„è¯ï¼‰</h2><ol><li>è®°å½•ä¸ªäººæ‰€å¾—ï¼Œæœ€ä¸»è¦æ˜¯ä¸ºäº†ç»™è‡ªå·±çœ‹ï¼Œå…¶æ¬¡æ˜¯ä¸ºäº†å¸®åŠ©åˆ«äººã€‚</li><li>çœ‹åˆ«äººçš„æ–‡ç« ï¼Œæ¥è§¦æ–°äº‹ç‰©ï¼Œæ–°çŸ¥è¯†ã€‚</li><li>åˆ†äº«ç”Ÿæ´»ä¸­çš„å¿«ä¹ï¼Œè®°å½•è‡ªå·±ç”Ÿæ´»çš„ç‚¹æ»´ã€‚ï¼ˆç¨‹åºå‘˜çš„æµªæ¼«ï¼‰</li><li>é”»ç‚¼è‡ªå·±çš„å‰ç«¯çŸ¥è¯†å’ŒåŠ¨æ‰‹èƒ½åŠ›</li><li>è‡ªå·±æŒ–æ˜çš„ä¸€äº›å°åŠŸèƒ½ï¼Œæ¯”å¦‚èƒŒå•è¯ã€‚</li><li><del>ç”¨æ¥è£…é€¼</del></li></ol></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;ä»‹ç»éƒ¨åˆ†&quot;&gt;&lt;a href=&quot;#ä»‹ç»éƒ¨åˆ†&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»éƒ¨åˆ†&quot;&gt;&lt;/a&gt;ä»‹ç»éƒ¨åˆ†&lt;/h1&gt;&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯ä¸ªäººåšå®¢&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯ä¸ªäººåšå®¢</summary>
      
    
    
    
    
    <category term="æ¼”è®²ç¨¿" scheme="https://daoxuan.cc/tags/%E6%BC%94%E8%AE%B2%E7%A8%BF/"/>
    
  </entry>
  
  <entry>
    <title>Pythonçˆ¬è™«çˆ¬å–ä¸­å›½æµ·æ´‹å¤§å­¦æ•™åŠ¡ç³»ç»Ÿè¯¾è¡¨</title>
    <link href="https://daoxuan.cc/posts/22520/"/>
    <id>https://daoxuan.cc/posts/22520/</id>
    <published>2023-03-26T16:26:39.000Z</published>
    <updated>2024-12-09T06:40:40.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="Pythonçˆ¬è™«çˆ¬å–ä¸­å›½æµ·æ´‹å¤§å­¦æ•™åŠ¡ç³»ç»Ÿè¯¾è¡¨"><a href="#Pythonçˆ¬è™«çˆ¬å–ä¸­å›½æµ·æ´‹å¤§å­¦æ•™åŠ¡ç³»ç»Ÿè¯¾è¡¨" class="headerlink" title="Pythonçˆ¬è™«çˆ¬å–ä¸­å›½æµ·æ´‹å¤§å­¦æ•™åŠ¡ç³»ç»Ÿè¯¾è¡¨"></a>Pythonçˆ¬è™«çˆ¬å–ä¸­å›½æµ·æ´‹å¤§å­¦æ•™åŠ¡ç³»ç»Ÿè¯¾è¡¨</h1><h2 id="Pythonç¯å¢ƒé…ç½®"><a href="#Pythonç¯å¢ƒé…ç½®" class="headerlink" title="Pythonç¯å¢ƒé…ç½®"></a>Pythonç¯å¢ƒé…ç½®</h2><ol><li>é¦–å…ˆéœ€è¦requestsåŒ…è¿›è¡Œçˆ¬è™«ä»£ç çš„ç¼–å†™<code>pip install requests</code></li><li>ç”±äºæ•™åŠ¡ç³»ç»Ÿç™»å½•æ—¶ä½¿ç”¨äº†rsaéå¯¹ç§°åŠ å¯†ï¼Œæ‰€ä»¥éœ€è¦å¯¼å…¥åŒ…<code>pip install pycryptodome</code></li></ol><blockquote><p>åˆ°ç°åœ¨å°±å¯ä»¥ç¼–å†™ç¨‹åºäº†</p></blockquote><h2 id="é€šè¿‡æŠ“åŒ…å·¥å…·è·å¾—æ•´ä¸ªç™»å½•æµç¨‹"><a href="#é€šè¿‡æŠ“åŒ…å·¥å…·è·å¾—æ•´ä¸ªç™»å½•æµç¨‹" class="headerlink" title="é€šè¿‡æŠ“åŒ…å·¥å…·è·å¾—æ•´ä¸ªç™»å½•æµç¨‹"></a>é€šè¿‡æŠ“åŒ…å·¥å…·è·å¾—æ•´ä¸ªç™»å½•æµç¨‹</h2><blockquote><p>å¯ä»¥ç”¨æµè§ˆå™¨è‡ªå¸¦çš„ï¼Œä¹Ÿå¯ä»¥ç”¨Charlesç­‰</p></blockquote><p><img src="http://picture.daoxuan.cc/image/202303261505782.png" alt="image-20230326150441872"></p><p><img src="http://picture.daoxuan.cc/image/202303261505313.png" alt="image-20230326150512223"></p><p>çœ‹èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒè®©äººå¤´å¤§çš„ï¼ŒåŸºæœ¬æ€è·¯æ˜¯å°†ä¸Šé¢çš„å…³é”®æ­¥éª¤åˆ©ç”¨çˆ¬è™«è¿›è¡Œæ¨¡æ‹Ÿ</p><h2 id="é¦–å…ˆæ¥çœ‹ç™»å½•çš„åŸºæœ¬æµç¨‹"><a href="#é¦–å…ˆæ¥çœ‹ç™»å½•çš„åŸºæœ¬æµç¨‹" class="headerlink" title="é¦–å…ˆæ¥çœ‹ç™»å½•çš„åŸºæœ¬æµç¨‹"></a>é¦–å…ˆæ¥çœ‹ç™»å½•çš„åŸºæœ¬æµç¨‹</h2><p><img src="http://picture.daoxuan.cc/image/202303270034912.png" alt="image-20230326151218186"></p><h3 id="è¿™é‡Œæ˜¯ç¬¬ä¸€ä¸ªURLï¼š-http-id-ouc-edu-cn-8071-sso-ssoLogin"><a href="#è¿™é‡Œæ˜¯ç¬¬ä¸€ä¸ªURLï¼š-http-id-ouc-edu-cn-8071-sso-ssoLogin" class="headerlink" title="è¿™é‡Œæ˜¯ç¬¬ä¸€ä¸ªURLï¼š http://id.ouc.edu.cn:8071/sso/ssoLogin"></a>è¿™é‡Œæ˜¯ç¬¬ä¸€ä¸ªURLï¼š <a href="http://id.ouc.edu.cn:8071/sso/ssoLogin">http://id.ouc.edu.cn:8071/sso/ssoLogin</a></h3><p>å‡ºäºä¿å¯†æˆ‘å¹¶æ²¡æœ‰å®Œå…¨æˆªå–å¯†ç éƒ¨åˆ†</p><p>æˆ‘è¿™é‡Œå…ˆåˆ—ä¸¾ä¸€ä¸ª111åŠ å¯†å‡ºæ¥çš„å¯†ç </p><p><code>XPhhrlYF2nV7N0ufUDKDFDKozbQcTF1wJkt5eQH3UvdBSPiMi8fnEYybx4doBPAAdIfrVRQOC0WwWlh8ijVvikmZw2hpknSK/sF9lZWV3melQXJ/h1nKZfps1RqW0insN6dcKXh7aC4IYYA2j0biLEBwdQXMTAWwHle1lWYMQH0=</code></p><p>è¿™ä¸€ä¸²éå¸¸é•¿çš„å¯†æ–‡ï¼ˆåè¾¹å¸¦ç€ä¸€ä¸ªç­‰å·ï¼‰é‡‡ç”¨çš„æ˜¯rsaéå¯¹ç§°åŠ å¯†</p><p>å…·ä½“ç»†èŠ‚å¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« </p><div class="tag link"><a class="link-card" title="Tag Plugins Plus | çˆ¬è™«ä¹‹JSEncrypt()åŠ å¯†/è§£å¯† ï¼ˆpythonï¼‰_jsencrypt python_æ¼«å±±çš„åšå®¢-CSDNåšå®¢" href="https://blog.csdn.net/qq_30934313/article/details/89155112"><div class="left"><img src="/img/link.png"/></div><div class="right"><p class="text">Tag Plugins Plus | çˆ¬è™«ä¹‹JSEncrypt()åŠ å¯†/è§£å¯† ï¼ˆpythonï¼‰_jsencrypt python_æ¼«å±±çš„åšå®¢-CSDNåšå®¢</p><p class="url">https://blog.csdn.net/qq_30934313/article/details/89155112</p></div></a></div><p>å…·ä½“ä»£ç åœ¨ç¨‹åºä¸­å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#ç™»å½•å¯†ç çš„åŠ å¯†</span><br><span class="line">def encrpt(password, public_key):</span><br><span class="line">    public_key = &#x27;-----BEGIN PUBLIC KEY-----\n&#x27; + public_key + &#x27;\n-----END PUBLIC KEY-----&#x27;</span><br><span class="line">    rsakey = RSA.importKey(public_key)</span><br><span class="line">    cipher = Cipher_pksc1_v1_5.new(rsakey)</span><br><span class="line">    cipher_text = base64.b64encode(cipher.encrypt(password.encode()))</span><br><span class="line">    return cipher_text.decode()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># keyéœ€è¦ä¿®æ”¹æˆè‡ªå·±çš„</span><br><span class="line">key = &#x27;&#x27;</span><br><span class="line">username = input(&quot;è¯·è¾“å…¥ç”¨æˆ·åï¼š&quot;)</span><br><span class="line">password = input((&quot;è¯·è¾“å…¥å¯†ç &quot;))</span><br><span class="line"></span><br><span class="line"># å®ä¾‹åŒ–sessionå¯¹è±¡</span><br><span class="line">session = requests.session()</span><br><span class="line"></span><br><span class="line">#ç™»å½•ä¿¡æ¯é—¨æˆ·</span><br><span class="line"></span><br><span class="line">url = &#x27;http://id.ouc.edu.cn:8071/sso/ssoLogin&#x27;</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    &#x27;username&#x27;: username,</span><br><span class="line">    &#x27;password&#x27;: encrpt(password, key),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44&#x27;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj = session.post(url=url, data=data, headers=headers)</span><br><span class="line">if obj.text == &#x27;&#123;&quot;state&quot;:true&#125;&#x27;:</span><br><span class="line">    print(&quot;ç™»å½•æˆåŠŸ&quot;)</span><br><span class="line">else:</span><br><span class="line">    print(&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;)</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œé¢éœ€è¦çš„å…¬é’¥keyå¯ä»¥ç”¨æŠ“åŒ…å·¥å…·åœ¨æ–‡ä»¶ä¸­æ‰¾ï¼Œè¿˜æ˜¯æ¯”è¾ƒå¥½æ‰¾çš„ï¼Œæˆ‘è¿™é‡Œå°±ä¸å…¬å¸ƒäº†ã€‚</p></blockquote><div class="tip cogs"><p>æ³¨æ„</p></div><blockquote><p>ä¸ºäº†ä¿ç•™cookieï¼Œè¿™é‡Œä½¿ç”¨Sessionï¼ˆï¼‰å®ä¾‹åŒ–å¯¹è±¡sessionï¼Œä»¥ä¸‹ç½‘ç»œè¯·æ±‚å‡ä½¿ç”¨session</p></blockquote><h3 id="ä¸‹é¢æ˜¯ä¸€ä¸ªpostè¯·æ±‚ï¼šhttp-id-ouc-edu-cn-8071-sso-login-service-http-3A-2F-2Fmy-ouc-edu-cn-2Fuser-2FsimpleSSOLogin"><a href="#ä¸‹é¢æ˜¯ä¸€ä¸ªpostè¯·æ±‚ï¼šhttp-id-ouc-edu-cn-8071-sso-login-service-http-3A-2F-2Fmy-ouc-edu-cn-2Fuser-2FsimpleSSOLogin" class="headerlink" title="ä¸‹é¢æ˜¯ä¸€ä¸ªpostè¯·æ±‚ï¼šhttp://id.ouc.edu.cn:8071/sso/login?service=http%3A%2F%2Fmy.ouc.edu.cn%2Fuser%2FsimpleSSOLogin"></a>ä¸‹é¢æ˜¯ä¸€ä¸ªpostè¯·æ±‚ï¼š<a href="http://id.ouc.edu.cn:8071/sso/login?service=http%3A%2F%2Fmy.ouc.edu.cn%2Fuser%2FsimpleSSOLogin">http://id.ouc.edu.cn:8071/sso/login?service=http%3A%2F%2Fmy.ouc.edu.cn%2Fuser%2FsimpleSSOLogin</a></h3><p>æºå¸¦çš„å‚æ•°æœ‰å››ä¸ªåˆ†åˆ«æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    &#x27;username&#x27;: username,</span><br><span class="line">    &#x27;password&#x27;: str(base64.b64encode(password.encode(&#x27;utf-8&#x27;)).decode(&#x27;utf-8&#x27;)),</span><br><span class="line">    &#x27;lt&#x27;: &#x27;e1s1&#x27;,</span><br><span class="line">    &#x27;_eventId&#x27;: &#x27;submit&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„passwordé‡‡ç”¨çš„æ˜¯base64åŠ å¯†ï¼Œéœ€è¦å¯¹åº”çš„æ”¹ä¸€ä¸‹ï¼Œä¸‹é¢çš„ltå‚æ•°å¯¹åº”è¯·æ±‚æ¬¡æ•°ï¼Œç¬¬ä¸€æ¬¡ä¸ºe1s1ç¬¬äºŒæ¬¡ä¸ºe2s1ï¼ˆå¥½åƒæ˜¯æˆ‘å¿˜è®°äº†ï¼‰æ€»ä¹‹ï¼Œä¸ç”¨åŠ¨ã€‚_eventIdä¹Ÿä¸ç”¨åŠ¨ã€‚</p><h3 id="ä¸‹é¢æ˜¯GETè¯·æ±‚ï¼Œ-çŠ¶æ€ç 302ï¼š-http-my-ouc-edu-cn-user-simpleSSOLogin-ticket-ST-1491796-v5cKNr4iKrVURebiWIPZ-UIA"><a href="#ä¸‹é¢æ˜¯GETè¯·æ±‚ï¼Œ-çŠ¶æ€ç 302ï¼š-http-my-ouc-edu-cn-user-simpleSSOLogin-ticket-ST-1491796-v5cKNr4iKrVURebiWIPZ-UIA" class="headerlink" title="ä¸‹é¢æ˜¯GETè¯·æ±‚ï¼Œ çŠ¶æ€ç 302ï¼š http://my.ouc.edu.cn/user/simpleSSOLogin?ticket=ST-1491796-v5cKNr4iKrVURebiWIPZ-UIA"></a>ä¸‹é¢æ˜¯GETè¯·æ±‚ï¼Œ çŠ¶æ€ç 302ï¼š <a href="http://my.ouc.edu.cn/user/simpleSSOLogin?ticket=ST-1491796-v5cKNr4iKrVURebiWIPZ-UIA">http://my.ouc.edu.cn/user/simpleSSOLogin?ticket=ST-1491796-v5cKNr4iKrVURebiWIPZ-UIA</a></h3><p>å½“ç„¶æ˜ å…¥çœ¼å¸˜çš„æœ€å¸å¼•äººä¹‹å¤„å°±æ˜¯è¿™ä¸ªå‚æ•°ticketäº†ï¼Œæ€ä¹ˆæ¥çš„è…»ï¼Ÿ</p><p>ç­”æ¡ˆåœ¨ä¸Šä¸€æ¡è¯·æ±‚çš„å“åº”å¤´ä¸­ï¼Œå“åº”å¤´çš„locationä¸­è¡¨æ˜äº†è¿™ä¸ªURLï¼Œä¹Ÿå°±æ˜¯è¦é‡å®šå‘åˆ°çš„åœ°å€ï¼Œå¯æ˜¯å½“æˆ‘ä»¬å°è¯•å»è·å–è¿™ä¸ªlocationçš„æ—¶å€™å‡ºäº†ç‚¹é—®é¢˜ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„è¿™ä¸ªURLï¼Œè€Œæ˜¯å¾—åˆ°äº†ä¸€ä¸ªè¿™æ ·çš„<code>http://id.ouc.edu.cn:8071/sso/login;jsessionid=B5CD01DCF93BC023F72EA52E72AD0CB7?service=http%3A%2F%2Fmy.ouc.edu.cn%2Fuser%2FsimpleSSOLogin</code></p><p>è¿™ä¸€æ­¥ä¸å¯ä»¥è·³è¿‡ç›´æ¥è®¿é—®ä¸‹ä¸€æ¡è¯­å¥</p><p>æ‰€ä»¥æˆ‘ä»¬é€šè¿‡<code>page = session.post(url=page.url, headers=headers, data=data)</code>æŒ‰ç…§å’Œåˆšæ‰ä¸€æ ·çš„æ–¹å¼å†è®¿é—®ä¸€èˆ¬è¿™ä¸ªURLï¼Œè¿™æ¬¡å°±å¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¡URLè¯·æ±‚äº†ã€‚</p><h3 id="GETè¯·æ±‚ï¼šhttp-my-ouc-edu-cn-web-guest"><a href="#GETè¯·æ±‚ï¼šhttp-my-ouc-edu-cn-web-guest" class="headerlink" title="GETè¯·æ±‚ï¼šhttp://my.ouc.edu.cn/web/guest"></a>GETè¯·æ±‚ï¼š<a href="http://my.ouc.edu.cn/web/guest">http://my.ouc.edu.cn/web/guest</a></h3><p>è¿™æ ·å°±ç™»å½•åˆ°ä¿¡æ¯é—¨æˆ·äº†</p><h2 id="æ¥ä¸‹æ¥ä¾¿æ˜¯æˆ‘çš„è¯¾è¡¨æ–¹æ¡ˆä¸€ï¼š"><a href="#æ¥ä¸‹æ¥ä¾¿æ˜¯æˆ‘çš„è¯¾è¡¨æ–¹æ¡ˆä¸€ï¼š" class="headerlink" title="æ¥ä¸‹æ¥ä¾¿æ˜¯æˆ‘çš„è¯¾è¡¨æ–¹æ¡ˆä¸€ï¼š"></a>æ¥ä¸‹æ¥ä¾¿æ˜¯æˆ‘çš„è¯¾è¡¨æ–¹æ¡ˆä¸€ï¼š</h2><blockquote><p>å› ä¸ºæ•™åŠ¡ç³»ç»Ÿé‡Œé¢æœ‰ä¸¤ä¸ªæ ·å¼çš„è¯¾è¡¨ï¼Œåˆ†åˆ«åœ¨ä¸åŒçš„åœ°æ–¹</p></blockquote><h3 id="POSTè¯·æ±‚ï¼šhttp-jwgl-ouc-edu-cn-login"><a href="#POSTè¯·æ±‚ï¼šhttp-jwgl-ouc-edu-cn-login" class="headerlink" title="POSTè¯·æ±‚ï¼šhttp://jwgl.ouc.edu.cn/login"></a>POSTè¯·æ±‚ï¼š<a href="http://jwgl.ouc.edu.cn/login">http://jwgl.ouc.edu.cn/login</a></h3><p>ç™»å½•æ•™åŠ¡ç³»ç»Ÿ</p><h3 id="POSTè¯·æ±‚ï¼šhttp-jwgl-ouc-edu-cn-frame-desk-showLessonScheduleDetailJson-action"><a href="#POSTè¯·æ±‚ï¼šhttp-jwgl-ouc-edu-cn-frame-desk-showLessonScheduleDetailJson-action" class="headerlink" title="POSTè¯·æ±‚ï¼šhttp://jwgl.ouc.edu.cn/frame/desk/showLessonScheduleDetailJson.action"></a>POSTè¯·æ±‚ï¼š<a href="http://jwgl.ouc.edu.cn/frame/desk/showLessonScheduleDetailJson.action">http://jwgl.ouc.edu.cn/frame/desk/showLessonScheduleDetailJson.action</a></h3><p>å¾—åˆ°è¯¾è¡¨ä¸€ï¼š</p><p>å¤§æ¦‚æ ·å¼æ˜¯è¿™æ ·çš„</p><p><img src="http://picture.daoxuan.cc/image/202303262356962.webp" alt="https://image.daoxuan.cc/image/202303262356962.webp"></p><h2 id="è¯¾è¡¨æ–¹æ¡ˆäºŒ"><a href="#è¯¾è¡¨æ–¹æ¡ˆäºŒ" class="headerlink" title="è¯¾è¡¨æ–¹æ¡ˆäºŒ"></a>è¯¾è¡¨æ–¹æ¡ˆäºŒ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">headers = &#123;</span><br><span class="line">    &#x27;Host&#x27;: &#x27;jwgl.ouc.edu.cn&#x27;,</span><br><span class="line">    &#x27;Upgrade-Insecure-Requests&#x27;: &#x27;1&#x27;,</span><br><span class="line">    &#x27;Accept&#x27;: &#x27;*/*&#x27;,</span><br><span class="line">    &#x27;Referer&#x27;: &#x27;http://jwgl.ouc.edu.cn/student/xkjg.wdkb.jsp?menucode=JW130416&#x27;,</span><br><span class="line">    &#x27;Accept-Encoding&#x27;: &#x27;gzip, deflate&#x27;,</span><br><span class="line">    &#x27;Accept-Language&#x27;: &#x27;zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6&#x27;,</span><br><span class="line">    &#x27;Connection&#x27;: &#x27;keep-alive&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">params = &#123;</span><br><span class="line">    &quot;params&quot;: &quot;eG49MjAyMiZ4cT0yJnhoPTIyMDIwMDA3MDY3&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">page = session.get(url=&quot;http://jwgl.ouc.edu.cn/student/xkjg.ckdgxsxdkchj_data.jsp&quot;, params=params, headers=headers)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘è¸©è¿‡çš„å‘å°±æ˜¯è¯·æ±‚å¤´ä¸€å®šè¦å†™å…¨ï¼Œåªä½¿ç”¨UAä¼ªè£…æ˜¯è¡Œä¸é€šçš„ï¼ˆæ³ªçš„æ•™è®­ï¼‰</p><p>å°¤å…¶æ˜¯Refererä¸èƒ½å°‘</p><p>è¿™æ¬¡å¾—åˆ°çš„æ ·å¼æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="http://picture.daoxuan.cc/image/202303270010876.png" alt="å±å¹•æˆªå›¾ 2023-03-27 000820"></p><p>ä¸¤è€…æ˜¾ç¤ºçš„ä¿¡æ¯å„æœ‰ä¸åŒ</p><h2 id="è¯¾è¡¨æ–¹æ¡ˆä¸‰"><a href="#è¯¾è¡¨æ–¹æ¡ˆä¸‰" class="headerlink" title="è¯¾è¡¨æ–¹æ¡ˆä¸‰"></a>è¯¾è¡¨æ–¹æ¡ˆä¸‰</h2><p>å°±æ˜¯æˆ‘ä»¬çš„æ•™åŠ¡ç³»ç»Ÿè‡ªå¸¦çš„äºŒç»´è¡¨</p><p>åªéœ€è¦æ”¹ä¸€ä¸‹URLå°±å¯ä»¥äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">page = session.get(url=&quot;http://jwgl.ouc.edu.cn/student/wsxk.xskcb.jsp&quot;, params=params, headers=headers)</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä½ å°±å¯ä»¥å¾—åˆ°è¿™æ ·çš„è¯¾è¡¨</p><p><img src="http://picture.daoxuan.cc/image/202303270019165.png" alt="image-20230327001932738"></p><p>æ•´ä½“ä»£ç å¤šå°‘ç»™ä¸€ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">import base64</span><br><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line">from Crypto.Cipher import PKCS1_v1_5 as Cipher_pksc1_v1_5</span><br><span class="line">from Crypto.PublicKey import RSA</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#ç™»å½•å¯†ç çš„åŠ å¯†</span><br><span class="line">def encrpt(password, public_key):</span><br><span class="line">    public_key = &#x27;-----BEGIN PUBLIC KEY-----\n&#x27; + public_key + &#x27;\n-----END PUBLIC KEY-----&#x27;</span><br><span class="line">    rsakey = RSA.importKey(public_key)</span><br><span class="line">    cipher = Cipher_pksc1_v1_5.new(rsakey)</span><br><span class="line">    cipher_text = base64.b64encode(cipher.encrypt(password.encode()))</span><br><span class="line">    return cipher_text.decode()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># keyéœ€è¦ä¿®æ”¹æˆè‡ªå·±çš„</span><br><span class="line">key = &#x27;&#x27;//è‡ªå·±æ‰¾å…¬é’¥</span><br><span class="line">username = input(&quot;è¯·è¾“å…¥ç”¨æˆ·åï¼š&quot;)</span><br><span class="line">password = input((&quot;è¯·è¾“å…¥å¯†ç &quot;))</span><br><span class="line"></span><br><span class="line"># å®ä¾‹åŒ–sessionå¯¹è±¡</span><br><span class="line">session = requests.session()</span><br><span class="line"></span><br><span class="line">#ç™»å½•ä¿¡æ¯é—¨æˆ·</span><br><span class="line"></span><br><span class="line">url = &#x27;http://id.ouc.edu.cn:8071/sso/ssoLogin&#x27;</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    &#x27;username&#x27;: username,</span><br><span class="line">    &#x27;password&#x27;: encrpt(password, key),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44&#x27;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj = session.post(url=url, data=data, headers=headers)</span><br><span class="line">if obj.text == &#x27;&#123;&quot;state&quot;:true&#125;&#x27;:</span><br><span class="line">    print(&quot;ç™»å½•æˆåŠŸ&quot;)</span><br><span class="line">else:</span><br><span class="line">    print(&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;)</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    &#x27;username&#x27;: username,</span><br><span class="line">    &#x27;password&#x27;: str(base64.b64encode(password.encode(&#x27;utf-8&#x27;)).decode(&#x27;utf-8&#x27;)),</span><br><span class="line">    &#x27;lt&#x27;: &#x27;e1s1&#x27;,</span><br><span class="line">    &#x27;_eventId&#x27;: &#x27;submit&#x27;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">page = session.post(</span><br><span class="line">    url=&#x27;http://id.ouc.edu.cn:8071/sso/login?service=http%3A%2F%2Fmy.ouc.edu.cn%2Fuser%2FsimpleSSOLogin&#x27;,</span><br><span class="line">    headers=headers, data=data)</span><br><span class="line">page = session.post(url=page.url, headers=headers, data=data)</span><br><span class="line"></span><br><span class="line">page = session.get(url=&#x27;http://my.ouc.edu.cn/web/guest&#x27;, headers=headers)</span><br><span class="line"></span><br><span class="line">#ç™»å½•æ•™åŠ¡ç³»ç»Ÿ</span><br><span class="line"></span><br><span class="line">page = session.get(url=&#x27;http://jwgl.ouc.edu.cn/login&#x27;, headers=headers)</span><br><span class="line"></span><br><span class="line">#  è¯¾è¡¨æ–¹æ¡ˆä¸€</span><br><span class="line">page = session.post(url=&#x27;http://jwgl.ouc.edu.cn/frame/desk/showLessonScheduleDetailJson.action&#x27;, headers=headers)</span><br><span class="line">with open(&quot;./è¯¾è¡¨1.html&quot;, &quot;w&quot;, encoding=&#x27;gbk&#x27;) as fp:</span><br><span class="line">    fp.write(page.text)</span><br><span class="line"># print(page.url)</span><br><span class="line"></span><br><span class="line"># è¯¾è¡¨æ–¹æ¡ˆäºŒ</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    &#x27;Host&#x27;: &#x27;jwgl.ouc.edu.cn&#x27;,</span><br><span class="line">    &#x27;Upgrade-Insecure-Requests&#x27;: &#x27;1&#x27;,</span><br><span class="line">    &#x27;Accept&#x27;: &#x27;*/*&#x27;,</span><br><span class="line">    &#x27;Referer&#x27;: &#x27;http://jwgl.ouc.edu.cn/student/xkjg.wdkb.jsp?menucode=JW130416&#x27;,</span><br><span class="line">    &#x27;Accept-Encoding&#x27;: &#x27;gzip, deflate&#x27;,</span><br><span class="line">    &#x27;Accept-Language&#x27;: &#x27;zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6&#x27;,</span><br><span class="line">    &#x27;Connection&#x27;: &#x27;keep-alive&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">params = &#123;</span><br><span class="line">    &quot;params&quot;: &quot;eG49MjAyMiZ4cT0yJnhoPTIyMDIwMDA3MDY3&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">page = session.get(url=&quot;http://jwgl.ouc.edu.cn/student/xkjg.ckdgxsxdkchj_data.jsp&quot;, params=params, headers=headers)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">with open(&quot;./è¯¾è¡¨2.html&quot;, &quot;w&quot;, encoding=&#x27;gbk&#x27;) as fp:</span><br><span class="line">    fp.write(page.text)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">page = session.get(url=&quot;http://jwgl.ouc.edu.cn/student/wsxk.xskcb.jsp&quot;, params=params, headers=headers)</span><br><span class="line">with open(&quot;./è¯¾è¡¨3.html&quot;, &quot;w&quot;, encoding=&#x27;gbk&#x27;) as fp:</span><br><span class="line">    fp.write(page.text)</span><br><span class="line"></span><br><span class="line">print(&quot;over!!&quot;)</span><br></pre></td></tr></table></figure><blockquote><p>ä¸è¦ç›´æ¥CVå¤§æ³•ï¼Œå¦‚æœä½ æ˜¯ä¸­å›½æµ·æ´‹å¤§å­¦çš„å­¦å¼Ÿï¼Œæ¬¢è¿åŠ å…¥çˆ±ç‰¹å·¥ä½œå®¤ã€‚</p><p>å¦‚æœä½ å·²ç»æ˜¯çˆ±ç‰¹çš„äº†ï¼Œæ¬¢è¿åŠ å…¥ç¨‹åºéƒ¨ã€‚</p><p>å¦‚æœä½ å·²ç»æ˜¯ç¨‹åºéƒ¨çš„äº†ï¼Œé‚£ä½ å°±ä¸è¦åœ¨çœ‹äº†ï¼Œæœ‰äº›äº‹æƒ…è¦è‡ªå·±å‘æ˜æ‰æœ‰æ„æ€ã€‚</p></blockquote></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;Pythonçˆ¬è™«çˆ¬å–ä¸­å›½æµ·æ´‹å¤§å­¦æ•™åŠ¡ç³»ç»Ÿè¯¾è¡¨&quot;&gt;&lt;a href=&quot;#Pythonçˆ¬è™«çˆ¬å–ä¸­å›½æµ·æ´‹å¤§å­¦æ•™åŠ¡ç³»ç»Ÿè¯¾è¡¨&quot; class=&quot;headerlink&quot; title=&quot;Pythonçˆ¬è™«çˆ¬å–ä¸­å›½æµ·æ´‹å¤§å­¦æ•™</summary>
      
    
    
    
    <category term="çˆ¬è™«" scheme="https://daoxuan.cc/categories/%E7%88%AC%E8%99%AB/"/>
    
    
    <category term="Fire" scheme="https://daoxuan.cc/tags/Fire/"/>
    
    <category term="çˆ¬è™«" scheme="https://daoxuan.cc/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™</title>
    <link href="https://daoxuan.cc/posts/371/"/>
    <id>https://daoxuan.cc/posts/371/</id>
    <published>2023-02-23T02:53:30.000Z</published>
    <updated>2024-12-08T16:08:34.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™"><a href="#Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™" class="headerlink" title="Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™"></a>Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™</h1><h2 id="Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜"><a href="#Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜" class="headerlink" title="Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜"></a>Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜</h2><p>Cè¯­è¨€çš„æ•°ç»„è®¾ç½®å®Œåº”è¯¥è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸ç„¶ä¼šå‡ºç°è¡¥ä¸å¯é¢„æµ‹çš„bug</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int arr[100] = &#123;0&#125;;</span><br></pre></td></tr></table></figure><p>Cè¯­è¨€ä¸­ç”±å˜é‡åŠ¨æ€åˆ›å»ºçš„æ•°ç»„éœ€è¦åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–æ–¹å¼å’Œå›ºå®šé•¿åº¦çš„ä¸€è‡´</p><p>Cè¯­è¨€ä¸­å­—ç¬¦æ•°ç»„å¯ä»¥ä¸åˆå§‹åŒ–ï¼Œå¦‚æœä¸åˆå§‹åŒ–ä¼šå­˜å‚¨ä¸€ä¸ªç±»ä¼¼äºÎ±çš„ä¸œè¥¿å’Œaå¾ˆåƒã€‚</p><h2 id="Cè¯­è¨€å…³äºå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™"><a href="#Cè¯­è¨€å…³äºå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™" class="headerlink" title="Cè¯­è¨€å…³äºå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™"></a>Cè¯­è¨€å…³äºå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™</h2><!-- <div class="tip "><p>å‰è¨€</p></div> --><blockquote><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒCè¯­è¨€ä¼ é€’äºŒç»´æ•°ç»„è¿™ä»¶äº‹æ˜¯å¾ˆå®¹æ˜“å®Œæˆçš„ï¼ˆåœ¨äºŒç»´æ•°ç»„çš„é•¿åº¦å·²ç»ç¡®å®šçš„æƒ…å†µä¸‹ï¼‰ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™ï¼Œä¸ºäº†ä¼˜åŒ–ä»£ç ï¼ŒèŠ‚çœç©ºé—´ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰é•¿åº¦å’Œå®½åº¦çš„äºŒç»´æ•°ç»„ï¼Œegï¼šç”¨æˆ·è‡ªå®šä¹‰è¾“å…¥é•¿å®½ï¼Œç„¶ååˆ›å»ºäºŒç»´æ•°ç»„ã€‚ç„¶åä¼ å…¥æ•°æ®ã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œç”±äºæˆ‘ä»¬äº‹å…ˆå¹¶ä¸çŸ¥é“äºŒç»´æ•°ç»„çš„é•¿å®½ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™ç¼–å†™çš„å‡½æ•°å¦‚æœæƒ³è¦æŒ‰ç…§åŸæ¥çš„æ–¹å¼ä»¥äºŒç»´æ•°ç»„ä¸ºå‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å­å‡½æ•°ä¾¿ä¸çŸ¥é“åº”è¯¥å¼€è¾Ÿå¤šå¤§çš„ç©ºé—´ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p></blockquote><!-- <div class="tip "><p>è§£å†³æ–¹æ¡ˆ</p></div> --><blockquote><p>é€šè¿‡åˆ›å»ºä¸€ä¸ªäºŒçº§æŒ‡é’ˆæ¥å®ç°äºŒç»´æ•°ç»„çš„ä¼ é€’.<br>ä¼˜ç‚¹:æ˜“äºç†è§£,è€Œä¸”åœ¨å‡½æ•°é—´ä¼ é€’èµ·æ¥è¾ƒä¸ºæ–¹ä¾¿.<br>ç¼ºç‚¹:åˆ›å»ºå’Œé‡Šæ”¾æ¯”è¾ƒéº»çƒ¦.</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">a</span><span class="params">(<span class="type">int</span> hei,<span class="type">int</span> wide, <span class="type">int</span> **arr)</span><span class="comment">//æ‰“å°æ•°æ® </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i&lt;hei; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j =<span class="number">0</span>; j&lt;wide; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, arr[i][j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> hei, wide;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;è¾“å…¥heiï¼š&quot;</span>);<span class="comment">//è‡ªå®šä¹‰ </span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;hei);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;è¾“å…¥wide:&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;wide);<span class="comment">// </span></span><br><span class="line"><span class="type">int</span> **arr = (<span class="type">int</span> **)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span> *)*hei);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i&lt; hei; i++)</span><br><span class="line">&#123;</span><br><span class="line">arr[i] = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*wide);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i&lt;hei; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j =<span class="number">0</span>; j&lt;wide; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;arr[i][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">a(hei, wide, arr);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i&lt;hei; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">free</span>(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">free</span>(arr);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><blockquote><p>é€šè¿‡äºŒçº§æŒ‡é’ˆè¿›è¡Œä¼ é€’ï¼Œè¿™æ ·åœ¨å­å‡½æ•°ä¸­ä¸éœ€è¦å¼€è¾Ÿç©ºé—´ï¼Œå½“ç„¶æˆ‘ä»¬éœ€è¦åœ¨åˆ›å»ºäºŒçº§æŒ‡é’ˆçš„æ—¶å€™ï¼Œæ‰‹åŠ¨ç”³è¯·ç©ºé—´ï¼Œé€šè¿‡mallocå‡½æ•°ï¼ˆåŒ…å«åœ¨stdlib.hå¤´æ–‡ä»¶ä¸­ï¼‰ï¼Œåœ¨å †ä¸Šç”³è¯·ç©ºé—´ï¼Œå…·ä½“ç”³è¯·æ­¥éª¤çœ‹ä¸Šé¢ä»£ç ã€‚</p><p>è¿™æ ·å°±å¯ä»¥å°†äºŒç»´æ•°ç»„è¿›è¡Œä¼ é€’äº†ã€‚</p></blockquote><p>æ³¨æ„ï¼šåˆ«å¿˜è®°freeæ‰ç”³è¯·çš„ç©ºé—´ï¼Œä¸ç„¶ä¼šé€ æˆç¨‹åºä½¿ç”¨ä¸­çš„å†…å­˜æ³„æ¼ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™&quot;&gt;&lt;a href=&quot;#Cè¯­è¨€å…³äºåŠ¨æ€åˆ›å»ºæ•°ç»„çš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä¼ é€’â€˜ä»¥å˜é‡å®šä¹‰é•¿å®½çš„äºŒç»´æ•°ç»„â€™&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="Cè¯­è¨€" scheme="https://daoxuan.cc/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
    <category term="Cè¯­è¨€" scheme="https://daoxuan.cc/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Cè¯­è¨€è¯»å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å«ç©ºæ ¼ï¼‰çš„æ–¹æ³•</title>
    <link href="https://daoxuan.cc/posts/54468/"/>
    <id>https://daoxuan.cc/posts/54468/</id>
    <published>2023-02-23T02:53:01.000Z</published>
    <updated>2024-12-08T16:00:49.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="Cè¯­è¨€è¯»å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å«ç©ºæ ¼ï¼‰çš„æ–¹æ³•"><a href="#Cè¯­è¨€è¯»å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å«ç©ºæ ¼ï¼‰çš„æ–¹æ³•" class="headerlink" title="Cè¯­è¨€è¯»å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å«ç©ºæ ¼ï¼‰çš„æ–¹æ³•"></a>Cè¯­è¨€è¯»å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å«ç©ºæ ¼ï¼‰çš„æ–¹æ³•</h1><p>æ–¹æ³•ä¸€ï¼šå®šä¹‰äºŒç»´å­—ç¬¦ä¸²æ•°ç»„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//æ–¹æ³•ä¸€ï¼šç›´æ¥å®šä¹‰å­—ç¬¦ä¸²æ•°ç»„</span><br><span class="line"></span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int len = 100;//lenæ˜¯æ¯ä¸ªå­—ç¬¦ä¸²æœ€å¤§çš„é•¿åº¦</span><br><span class="line">    //è¾“å…¥å­—ç¬¦ä¸²çš„ä¸ªæ•°</span><br><span class="line">    int n;</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">    //å®šä¹‰å­—ç¬¦ä¸²æ•°ç»„</span><br><span class="line">    char p[n][len];</span><br><span class="line">    //è¯»å…¥å­—ç¬¦ä¸²æ•°ç»„</span><br><span class="line">    for(int i = 0; i &lt; n; i++)&#123;</span><br><span class="line">    scanf(&quot;%s&quot;, &amp;p[i][0]);</span><br><span class="line">    &#125;</span><br><span class="line">    //è¾“å‡ºå­—ç¬¦ä¸²æ•°ç»„</span><br><span class="line">    for(int i = 0; i &lt; n; i++)&#123;</span><br><span class="line">        printf(&quot;%s \n&quot;, &amp;p[i][0]);</span><br><span class="line">    &#125;   </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼šå®šä¹‰å­—ç¬¦ä¸²æŒ‡é’ˆæ•°ç»„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">/*æ–¹æ³•äºŒï¼šå®šä¹‰å­—ç¬¦ä¸²æŒ‡é’ˆæ•°ç»„ï¼Œå³æ•°ç»„ä¸­çš„æŒ‡é’ˆæŒ‡å‘å­—ç¬¦ä¸²ï¼Œ</span><br><span class="line">å¹¶éœ€è¦ç»™æ•°ç»„ä¸­çš„æ¯ä¸ªæŒ‡é’ˆåˆ†é…åŠ¨æ€å†…å­˜*/</span><br><span class="line"></span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int len = 100;//lenæ˜¯æ¯ä¸ªå­—ç¬¦ä¸²æœ€å¤§çš„é•¿åº¦</span><br><span class="line">    //è¾“å…¥å­—ç¬¦ä¸²çš„ä¸ªæ•°,</span><br><span class="line">    int n;</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">    //å®šä¹‰å­—ç¬¦ä¸²æŒ‡é’ˆæ•°ç»„ï¼Œå¹¶ç»™æ¯ä¸ªæŒ‡é’ˆåˆ†é…åŠ¨æ€å†…å­˜</span><br><span class="line">    char *p[n];</span><br><span class="line">    for(int i = 0; i &lt; n; i++)&#123;</span><br><span class="line">        p[i] = (char*)malloc(len * sizeof(char));</span><br><span class="line">    &#125;</span><br><span class="line">    //è¯»å…¥å­—ç¬¦ä¸²æ•°ç»„</span><br><span class="line">    for(int i = 0; i &lt; n; i++)&#123;</span><br><span class="line">        scanf(&quot;%s&quot;, p[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    //è¾“å‡ºå­—ç¬¦ä¸²æ•°ç»„</span><br><span class="line">    for(int i = 0; i &lt; n; i++)&#123;</span><br><span class="line">        printf(&quot;%s \n&quot;, p[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    //é‡Šæ”¾å†…å­˜</span><br><span class="line">    for(int i = 0; i &lt; n; i++)&#123;</span><br><span class="line">        free(p[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;Cè¯­è¨€è¯»å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å«ç©ºæ ¼ï¼‰çš„æ–¹æ³•&quot;&gt;&lt;a href=&quot;#Cè¯­è¨€è¯»å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å«ç©ºæ ¼ï¼‰çš„æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;Cè¯­è¨€è¯»å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å«ç©ºæ ¼ï¼‰çš„æ–¹æ³•&quot;&gt;&lt;/</summary>
      
    
    
    
    <category term="Cè¯­è¨€" scheme="https://daoxuan.cc/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
    <category term="Cè¯­è¨€" scheme="https://daoxuan.cc/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Cè¯­è¨€çš„å˜é•¿æ•°ç»„</title>
    <link href="https://daoxuan.cc/posts/30117/"/>
    <id>https://daoxuan.cc/posts/30117/</id>
    <published>2023-02-08T06:58:32.000Z</published>
    <updated>2024-12-08T16:00:49.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="Cè¯­è¨€çš„å˜é•¿æ•°ç»„"><a href="#Cè¯­è¨€çš„å˜é•¿æ•°ç»„" class="headerlink" title="Cè¯­è¨€çš„å˜é•¿æ•°ç»„"></a>Cè¯­è¨€çš„å˜é•¿æ•°ç»„</h1><h2 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h2><p>å†™ç¨‹åºçš„æ—¶å€™ç»å¸¸è¦å®šä¹‰è¿™æ ·ä¸€ä¸ªæ•°ç»„ï¼Œè¦å‰é¢ç¨‹åºè¿è¡Œåæ‰èƒ½çŸ¥é“è¦å®šä¹‰æ•°ç»„çš„å¤§å°ã€‚</p><h2 id="C99ä¹‹å¯å˜é•¿åº¦æ•°ç»„ï¼ˆVLAï¼‰"><a href="#C99ä¹‹å¯å˜é•¿åº¦æ•°ç»„ï¼ˆVLAï¼‰" class="headerlink" title="C99ä¹‹å¯å˜é•¿åº¦æ•°ç»„ï¼ˆVLAï¼‰"></a>C99ä¹‹å¯å˜é•¿åº¦æ•°ç»„ï¼ˆVLAï¼‰</h2><p>C99ï¼š<br>1994å¹´ï¼Œç”±ANSI/ISOè”åˆå§”å‘˜ä¼šå¼€å§‹ä¿®è®¢Cæ ‡å‡†<br>1999å¹´ï¼Œ1994å¹´å¯¹Cè¯­è¨€çš„ä¿®è®¢å¼•å‡ºäº†ISO 9899:1999çš„å‘è¡¨ï¼Œå®ƒé€šå¸¸è¢«ç§°ä¸ºC99<br>C11ï¼š<br>2011å¹´ï¼Œå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰å’Œå›½é™…ç”µå·¥å§”å‘˜ä¼šï¼ˆIECï¼‰ æ——ä¸‹çš„Cè¯­è¨€æ ‡å‡†å§”å‘˜ä¼šï¼ˆISO/IEC JTC1/SC22/WG14ï¼‰æ­£å¼å‘å¸ƒäº†C11æ ‡å‡†</p><p>c99æ ‡å‡†ä¸­ï¼Œæ–°å¢äº†å¯å˜é•¿åº¦æ•°ç»„ï¼šVariable-length array (VLA)ï¼›C11ä¸­VLAå˜ä¸ºå¯é€‰é¡¹ï¼Œä¸æ˜¯è¯­è¨€å¿…å¤‡çš„ç‰¹æ€§ã€‚</p><p>å…³äºå˜é•¿æ•°ç»„</p><p>å˜é•¿æ•°ç»„ä¸­çš„â€œå˜â€ä¸æ˜¯æŒ‡å¯ä»¥ä¿®æ”¹å·²åˆ›å»ºæ•°ç»„çš„å¤§å°ï¼Œä¸€æ—¦åˆ›å»ºäº†å˜é•¿æ•°ç»„ï¼Œå®ƒçš„å¤§å°åˆ™ä¿æŒä¸å˜ã€‚è¿™é‡Œçš„â€œå˜â€æŒ‡çš„æ˜¯ï¼šåœ¨åˆ›å»ºæ•°ç»„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å˜é‡æŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚(æ™®é€šæ•°ç»„åªèƒ½ç”¨å¸¸é‡æˆ–å¸¸é‡è¡¨è¾¾å¼æŒ‡å®šæ•°ç»„çš„é•¿åº¦)</p><ul><li>å˜é•¿æ•°ç»„VLAåªèƒ½æ˜¯å±€éƒ¨å˜é‡æ•°ç»„</li><li>å˜é•¿æ•°ç»„VLAä¸èƒ½åœ¨å®šä¹‰çš„æ—¶å€™è¿›è¡Œåˆå§‹åŒ–</li><li>å˜é•¿æ•°ç»„VLAå¿…é¡»æ˜¯è‡ªåŠ¨å­˜å‚¨ç±»åˆ«ï¼Œå³ä¸èƒ½ä½¿ç”¨externæˆ–staticå­˜å‚¨ç±»åˆ«è¯´æ˜ç¬¦</li><li>å˜é•¿æ•°ç»„VLAä¸ç­‰äºåŠ¨æ€æ•°ç»„ï¼Œæœ¬è´¨è¿˜æ˜¯é™æ€æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°ç»„çš„é•¿åº¦åœ¨å˜é‡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æ˜¯ä¸å¯å˜çš„</li><li>ç”±äºå˜é•¿æ•°ç»„åªèƒ½æ˜¯å±€éƒ¨å˜é‡ï¼Œä¸”å¿…é¡»æ˜¯è‡ªåŠ¨å­˜å‚¨ç±»åˆ«ï¼Œå› æ­¤å˜é•¿æ•°ç»„åˆ†é…åœ¨æ ˆä¸Š</li><li>å¯å˜é•¿æ•°ç»„å¯¹äºå¤šç»´æ•°ç»„ä¹Ÿé€‚ç”¨ï¼ˆå¦‚array[a][b] ï¼‰</li></ul><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">int a=0;</span><br><span class="line">int b=0;</span><br><span class="line">scanf(&quot;%d %d&quot;,&amp;a,&amp;b);</span><br><span class="line">char array[a][b];</span><br><span class="line">printf(&quot;sizeof(array)=%d\n&quot;,sizeof(array));</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br><span class="line">ä¸Šè¿°ä»£ç éœ€åœ¨æ”¯æŒC99æ ‡å‡†çš„ç¼–è¯‘å™¨ä¸Šæ‰è¡Œï¼ˆæ³¨æ„ï¼ŒVSç³»åˆ—ç¼–è¯‘å™¨å‡ä¸æ”¯æŒè¯¥ç‰¹æ€§ï¼‰</span><br></pre></td></tr></table></figure><p>æ ¹æ®ä¸Šé¢å…³äºæ•°ç»„çš„å‡ é¡¹æ³¨æ„ç‚¹ï¼Œä¸‹é¢åˆ—å‡ºå‡ ç§é”™è¯¯çš„ç¤ºä¾‹:</p><ul><li><p><code>int a=2;</code></p></li><li><p><code>int b=3;</code></p></li><li><p><code>char array1[a][b] = &#123;1,2,3,4,5,6&#125;;</code> //é”™è¯¯ï¼Œå˜é•¿æ•°ç»„VLAä¸èƒ½åœ¨å®šä¹‰çš„æ—¶å€™è¿›è¡Œåˆå§‹åŒ–</p></li><li><p><code>char array2[a][b] = &#123;&#123;1,2,3&#125;,&#123;4,5,6&#125;&#125;;</code> //é”™è¯¯ï¼Œå˜é•¿æ•°ç»„VLAä¸èƒ½åœ¨å®šä¹‰çš„æ—¶å€™è¿›è¡Œåˆå§‹åŒ–</p></li><li><p><code>static char array3[a][b];</code> //é”™è¯¯ï¼Œå˜é•¿æ•°ç»„VLAå¿…é¡»æ˜¯è‡ªåŠ¨å­˜å‚¨ç±»åˆ«</p></li></ul><h1 id="å…³äºå¦‚æœæ˜¯constå˜é‡åšæ•°ç»„é•¿åº¦ï¼Œä¸‹é¢è¿˜æœ‰å‡ ç§æƒ…å†µéœ€è¦æ€è€ƒï¼š"><a href="#å…³äºå¦‚æœæ˜¯constå˜é‡åšæ•°ç»„é•¿åº¦ï¼Œä¸‹é¢è¿˜æœ‰å‡ ç§æƒ…å†µéœ€è¦æ€è€ƒï¼š" class="headerlink" title="å…³äºå¦‚æœæ˜¯constå˜é‡åšæ•°ç»„é•¿åº¦ï¼Œä¸‹é¢è¿˜æœ‰å‡ ç§æƒ…å†µéœ€è¦æ€è€ƒï¼š"></a>å…³äºå¦‚æœæ˜¯constå˜é‡åšæ•°ç»„é•¿åº¦ï¼Œä¸‹é¢è¿˜æœ‰å‡ ç§æƒ…å†µéœ€è¦æ€è€ƒï¼š</h1><h2 id="1ã€åœ¨å‡½æ•°ä½“å¤–éƒ¨ï¼Œå…¨å±€æ•°ç»„é•¿åº¦ç”¨constç±»å‹å…¨å±€å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ-â€“-ç­”ï¼šå¯ä»¥ã€‚"><a href="#1ã€åœ¨å‡½æ•°ä½“å¤–éƒ¨ï¼Œå…¨å±€æ•°ç»„é•¿åº¦ç”¨constç±»å‹å…¨å±€å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ-â€“-ç­”ï¼šå¯ä»¥ã€‚" class="headerlink" title="1ã€åœ¨å‡½æ•°ä½“å¤–éƒ¨ï¼Œå…¨å±€æ•°ç»„é•¿åº¦ç”¨constç±»å‹å…¨å±€å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ â€“ ç­”ï¼šå¯ä»¥ã€‚"></a>1ã€åœ¨å‡½æ•°ä½“å¤–éƒ¨ï¼Œå…¨å±€æ•°ç»„é•¿åº¦ç”¨constç±»å‹å…¨å±€å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ â€“ ç­”ï¼šå¯ä»¥ã€‚</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">const int len = 10;</span><br><span class="line">char array[len];</span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">printf(&quot;sizeof(array)=%d\n&quot;,sizeof(array));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2ã€åœ¨å‡½æ•°ä½“å¤–éƒ¨ï¼Œstatic-å…¨å±€æ•°ç»„é•¿åº¦ç”¨constç±»å‹å…¨å±€å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ-â€“-ç­”ï¼šå¯ä»¥ã€‚"><a href="#2ã€åœ¨å‡½æ•°ä½“å¤–éƒ¨ï¼Œstatic-å…¨å±€æ•°ç»„é•¿åº¦ç”¨constç±»å‹å…¨å±€å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ-â€“-ç­”ï¼šå¯ä»¥ã€‚" class="headerlink" title="2ã€åœ¨å‡½æ•°ä½“å¤–éƒ¨ï¼Œstatic å…¨å±€æ•°ç»„é•¿åº¦ç”¨constç±»å‹å…¨å±€å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ â€“ ç­”ï¼šå¯ä»¥ã€‚"></a>2ã€åœ¨å‡½æ•°ä½“å¤–éƒ¨ï¼Œstatic å…¨å±€æ•°ç»„é•¿åº¦ç”¨constç±»å‹å…¨å±€å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ â€“ ç­”ï¼šå¯ä»¥ã€‚</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">const int len = 10;</span><br><span class="line">static char array[len];</span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">printf(&quot;sizeof(array)=%d\n&quot;,sizeof(array));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œstatic-å±€éƒ¨æ•°ç»„é•¿åº¦ç”¨constç±»å‹å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ-â€“-ç­”ï¼šå¯ä»¥ã€‚"><a href="#3ã€åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œstatic-å±€éƒ¨æ•°ç»„é•¿åº¦ç”¨constç±»å‹å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ-â€“-ç­”ï¼šå¯ä»¥ã€‚" class="headerlink" title="3ã€åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œstatic å±€éƒ¨æ•°ç»„é•¿åº¦ç”¨constç±»å‹å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ â€“ ç­”ï¼šå¯ä»¥ã€‚"></a>3ã€åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œstatic å±€éƒ¨æ•°ç»„é•¿åº¦ç”¨constç±»å‹å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ â€“ ç­”ï¼šå¯ä»¥ã€‚</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">const int len = 10;</span><br><span class="line">static char array[len];</span><br><span class="line">printf(&quot;sizeof(array)=%d\n&quot;,sizeof(array));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4ã€åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œå±€éƒ¨æ•°ç»„é•¿åº¦ç”¨constç±»å‹å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ-â€“-ç­”ï¼šå¯ä»¥ã€‚"><a href="#4ã€åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œå±€éƒ¨æ•°ç»„é•¿åº¦ç”¨constç±»å‹å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ-â€“-ç­”ï¼šå¯ä»¥ã€‚" class="headerlink" title="4ã€åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œå±€éƒ¨æ•°ç»„é•¿åº¦ç”¨constç±»å‹å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ â€“ ç­”ï¼šå¯ä»¥ã€‚"></a>4ã€åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œå±€éƒ¨æ•°ç»„é•¿åº¦ç”¨constç±»å‹å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦å¯è¡Œï¼Ÿ â€“ ç­”ï¼šå¯ä»¥ã€‚</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">const int len = 10;</span><br><span class="line">char array[len];</span><br><span class="line">printf(&quot;sizeof(array)=%d\n&quot;,sizeof(array));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ€»ç»“ï¼šconstå˜é‡ä¸èƒ½ç›´æ¥æ”¹å˜ï¼Œç”¨å…¶å®šä¹‰æ•°ç»„é•¿åº¦å®é™…ä¸Šå·²ç»ä¸å†æ˜¯å˜é•¿æ•°ç»„äº†ã€‚</p></blockquote></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;Cè¯­è¨€çš„å˜é•¿æ•°ç»„&quot;&gt;&lt;a href=&quot;#Cè¯­è¨€çš„å˜é•¿æ•°ç»„&quot; class=&quot;headerlink&quot; title=&quot;Cè¯­è¨€çš„å˜é•¿æ•°ç»„&quot;&gt;&lt;/a&gt;Cè¯­è¨€çš„å˜é•¿æ•°ç»„&lt;/h1&gt;&lt;h2 id=&quot;é—®é¢˜èƒŒæ™¯&quot;&gt;&lt;a h</summary>
      
    
    
    
    <category term="Cè¯­è¨€" scheme="https://daoxuan.cc/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
    <category term="cè¯­è¨€" scheme="https://daoxuan.cc/tags/c%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>hexo algolia å¸¸è§é—®é¢˜è§£å†³åŠæ³•</title>
    <link href="https://daoxuan.cc/posts/20439/"/>
    <id>https://daoxuan.cc/posts/20439/</id>
    <published>2023-02-07T03:24:03.000Z</published>
    <updated>2024-12-08T16:00:50.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><details class="folding-tag" ><summary> ä¸‹é¢æ˜¯å‚è€ƒçš„æ•™ç¨‹ </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="Tag Plugins Plus | hexo algolia å¸¸è§é—®é¢˜è§£å†³åŠæ³• | çŒ¿å®µ (werty.cn)" href="https://werty.cn/2019/07/hexo/hexo%20algolia%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"><div class="left"><img src="/img/link.png"/></div><div class="right"><p class="text">Tag Plugins Plus | hexo algolia å¸¸è§é—®é¢˜è§£å†³åŠæ³• | çŒ¿å®µ (werty.cn)</p><p class="url">https://werty.cn/2019/07/hexo/hexo%20algolia%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</p></div></a></div>              </div>            </details><div class="tip "><p>å¹¶éåŸåˆ›ä»…ä½œè®°å½•ï¼Œä¸Šé¢çš„æ•™ç¨‹æ›´åŠ è¯¦ç»†</p></div><h1 id="hexo-algolia-å¸¸è§é—®é¢˜è§£å†³åŠæ³•"><a href="#hexo-algolia-å¸¸è§é—®é¢˜è§£å†³åŠæ³•" class="headerlink" title="hexo algolia å¸¸è§é—®é¢˜è§£å†³åŠæ³•"></a>hexo algolia å¸¸è§é—®é¢˜è§£å†³åŠæ³•</h1><p>æ‰§è¡Œalgoliaå‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo algolia</span><br></pre></td></tr></table></figure><p>å¦‚æœæŠ¥é”™ï¼š <code>Usage: hexo &lt;command&gt;</code></p><p>è¯´æ˜æ˜¯æ²¡æœ‰å®‰è£…hexo algoliaæ’ä»¶</p><p>è§£å†³åŠæ³•ï¼š åœ¨hexoé¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œnpmå®‰è£…å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-algolia --save</span><br></pre></td></tr></table></figure><h1 id="æŠ¥é”™-Please-set-an-HEXO-ALGOLIA-INDEXING-KEY-environment-variable-to-enable-content-indexing"><a href="#æŠ¥é”™-Please-set-an-HEXO-ALGOLIA-INDEXING-KEY-environment-variable-to-enable-content-indexing" class="headerlink" title="æŠ¥é”™: Please set an HEXO_ALGOLIA_INDEXING_KEY environment variable to enable content indexing."></a>æŠ¥é”™: Please set an HEXO_ALGOLIA_INDEXING_KEY environment variable to enable content indexing.</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ERROR [hexo-algolia] Please set an `HEXO_ALGOLIA_INDEXING_KEY` environment variable to enable content indexing.</span><br><span class="line">ERROR &gt;&gt; Read https://npmjs.com/hexo-algolia#api-key for more informations.</span><br></pre></td></tr></table></figure><p>åŸå› ï¼š éœ€è¦ä¸€ç§åƒsshä¸€æ ·çš„APIç§˜é’¥ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä½ åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨algoliaæ—¶å€™çš„æ•™ç¨‹</p><p>è§£å†³åŠæ³•ï¼š<code>export HEXO_ALGOLIA_INDEXING_KEY=ä½ çš„Admin API Key</code></p><blockquote><p>ä¸Šè¿°å‘½ä»¤ç›´æ¥åœ¨windows cmdæˆ–powershellä¸­æ‰§è¡Œä¼šæŠ¥é”™ï¼Œéœ€è¦åœ¨git bashä¸­æ‰§è¡Œ,ä¸éœ€è¦é‡å¯ç”µè„‘ï¼Œä½†è¯¥æ–¹æ³•è®¾ç½®çš„ç¯å¢ƒå˜é‡ä¸ºä¸´æ—¶å˜é‡ï¼Œé‡å¯ä¼šå¤±æ•ˆ</p></blockquote><p>æˆ‘é‡‡ç”¨çš„ä¸»è¦æ˜¯ä¸‹é¢çš„æ–¹æ¡ˆ</p><p>å³é”®ç‚¹å‡»æˆ‘çš„ç”µè„‘ &gt; å±æ€§ &gt; é«˜çº§ç³»ç»Ÿè®¾ç½® &gt; ç¯å¢ƒå˜é‡</p><p>åœ¨ç”¨æˆ·å˜é‡ä¸­ç‚¹å‡»æ–°å»ºï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ï¼Œå˜é‡åä¸º<code>HEXO_ALGOLIA_INDEXING_KEY</code> å€¼ä¸º <code>Algolia admin key</code> ï¼Œ æ·»åŠ åç‚¹å‡»ç¡®è®¤ï¼Œé‡å¯ç”µè„‘åæ–°å¢çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ(æ·»åŠ åˆ°ç³»ç»Ÿå˜é‡ä¸­ä¹Ÿæ˜¯å¯ä»¥çš„)</p><p>ç¯å¢ƒå˜é‡è®¾ç½®æˆåŠŸåï¼Œæ‰§è¡Œhexo algolia å³å¯ç”Ÿæˆç´¢å¼•æ–‡ä»¶</p><h1 id="æŠ¥é”™ï¼šMethod-not-allowed-with-this-referer"><a href="#æŠ¥é”™ï¼šMethod-not-allowed-with-this-referer" class="headerlink" title="æŠ¥é”™ï¼šMethod not allowed with this referer"></a>æŠ¥é”™ï¼šMethod not allowed with this referer</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INFO  [hexo-algolia] Testing HEXO_ALGOLIA_INDEXING_KEY permissions.</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  [hexo-algolia] 47 records to index (post, page).</span><br><span class="line">INFO  [hexo-algolia] Indexing chunk 1 of 1 (47 records)</span><br><span class="line">ERROR [hexo-algolia] Method not allowed with this referer</span><br><span class="line">INFO  [hexo-algolia] Indexing done.åŸå› ï¼šä½¿ç”¨äº†æŸ¥è¯¢API keyç¯å¢ƒå˜é‡ä¸­è®¾ç½®çš„å¯†é’¥éœ€è¦ä¸ºAdmin KEY</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼š</p><p>ç™»å½•Algoliaå®˜ç½‘ï¼Œè¿›å…¥api keyæ§åˆ¶å°</p><p>å¤åˆ¶Admin API Key ä¿®æ”¹ç¯å¢ƒå˜é‡HEXO_ALGOLIA_INDEXING_KEY çš„å€¼ä¸ºè¯¥API Keyå³å¯</p><blockquote><p>PSï¼š__config.ymlæ–‡ä»¶ä¸­é…ç½®çš„APIå¯†é’¥ä¸ºæœç´¢å¯†é’¥(Search-Only API Key)ï¼Œè¯·æ³¨æ„åŒºåˆ†</p></blockquote></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;details class=&quot;folding-tag&quot; &gt;&lt;summary&gt; ä¸‹é¢æ˜¯å‚è€ƒçš„æ•™ç¨‹ &lt;/summary&gt;
              &lt;div class=&#39;content&#39;&gt;
             </summary>
      
    
    
    
    <category term="æŠ¥é”™" scheme="https://daoxuan.cc/categories/%E6%8A%A5%E9%94%99/"/>
    
    
    <category term="hexo" scheme="https://daoxuan.cc/tags/hexo/"/>
    
    <category term="algolia" scheme="https://daoxuan.cc/tags/algolia/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºå·¦å€¼</title>
    <link href="https://daoxuan.cc/posts/49774/"/>
    <id>https://daoxuan.cc/posts/49774/</id>
    <published>2023-02-06T13:47:56.000Z</published>
    <updated>2024-12-08T16:00:47.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="å…³äºå·¦å€¼"><a href="#å…³äºå·¦å€¼" class="headerlink" title="å…³äºå·¦å€¼"></a>å…³äºå·¦å€¼</h1><details class="folding-tag" ><summary> å¼•ç”¨è‡ªå°ç”²é±¼çš„æ•™ç¨‹ </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="Tag Plugins Plus | ä»€ä¹ˆæ˜¯lvalue" href="https://fishc.com.cn/thread-69833-1-1.html"><div class="left"><img src="/img/link.png"/></div><div class="right"><p class="text">Tag Plugins Plus | ä»€ä¹ˆæ˜¯lvalue</p><p class="url">https://fishc.com.cn/thread-69833-1-1.html</p></div></a></div>              </div>            </details><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œå½“ä½ çœ‹åˆ°è¿™æ ·çš„æŠ¥é”™æ—¶</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Error] lvalue required as left operand of assignment</span><br></pre></td></tr></table></figure><p>å°±æ˜¯å·¦å€¼æ¦‚å¿µä¸æ¸…æ™°çš„åŸå› å•¦</p><p>é¦–å…ˆæˆ‘ä»¬å¼•ç”¨ä¸€ä¸‹c99çš„å®˜æ–¹æ–‡æ¡£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The name &quot;lvalue&quot; comes originally from the assignment expression E1 = E2, in which the left operand E1 is required to be a (modi&amp;#64257;able) lvalue. It is perhaps better considered as representing an object &quot;locator value&quot;. What is sometimes called &quot;rvalue&quot; is in this International Standard described as the &quot;value of an expression&quot;.</span><br></pre></td></tr></table></figure><div class="tip "><p>å½“ç„¶ï¼Œè£…è£…æ ·å­è€Œå·²å•¦ï¼Œè¿˜æ˜¯ç”¨æ±‰è¯­å™è¿°ï¼š</p></div><p>å·¦å€¼ä¹Ÿå°±æ˜¯lvalueï¼Œæ›´åŠ åˆç†çš„è§£é‡Šåº”è¯¥æ˜¯locator valueï¼ˆç‰¹å®šä½ç½®çš„å€¼ï¼‰ï¼Œrvalueåˆ™åº”è¯¥ç†è§£ä¸ºvalue of an expressionï¼ˆè¡¨è¾¾å¼çš„å€¼ï¼‰</p><p>ä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">        int a = 5;</span><br><span class="line"></span><br><span class="line">        ++(a++);</span><br><span class="line"></span><br><span class="line">        return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æ˜¯ä¼šæŠ¥é”™çš„</p><blockquote><p>å¦‚æœä½ è®¤ä¸ºå·¦å€¼åªæ˜¯èµ‹å€¼è¿ç®—å·¦è¾¹çš„å€¼ï¼Œè¿™ä¸ªé”™è¯¯å°±æ— æ³•ç†è§£äº†</p><p>æ­£ç¡®çš„ç†è§£æ˜¯ï¼š</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(a++) æ˜¯å…ˆå°†å˜é‡ a çš„å€¼ï¼ˆ5ï¼‰åšä¸ºæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼è¿”å›ï¼Œå†å°† a è‡ªå¢ 1ï¼ˆç±»ä¼¼äº a = a + 1ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥è¿™é‡Œ ++(a++); ç›¸å½“äº ++(5), a = a + 1;</span><br><span class="line"></span><br><span class="line">é‚£å½“ç„¶è¦æŠ¥é”™å•¦ï¼Œ5 æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œå½“ç„¶ä¸èƒ½ç»™ä½  5 = 5 + 1 å’¯~</span><br></pre></td></tr></table></figure><p>++çš„ä½œç”¨å¯¹è±¡éœ€è¦æ˜¯ä¸€ä¸ªç”¨äºè¯†åˆ«æˆ–å®šä½å‚¨å­˜ä½ç½®çš„è¡¨ç¤ºç¬¦ï¼ˆlvalueï¼‰</p><h1 id="çœæµ"><a href="#çœæµ" class="headerlink" title="çœæµ"></a>çœæµ</h1><p>C è¯­è¨€çš„æœ¯è¯­ lvalue æŒ‡ç”¨äºè¯†åˆ«æˆ–å®šä½ä¸€ä¸ªå­˜å‚¨ä½ç½®çš„æ ‡è¯†ç¬¦ã€‚ï¼ˆæ³¨æ„ï¼šå·¦å€¼åŒæ—¶è¿˜å¿…é¡»æ˜¯å¯æ”¹å˜çš„ï¼‰</p><p>å…¶å® rvalue çš„å‘æ˜å®Œå…¨æ˜¯ä¸ºäº†æ­é… lvalueï¼Œrvalue ä½ å¯ä»¥ç†è§£ä¸º readable valueï¼Œå³ä»»ä½•å¯è¯»å–çš„å€¼éƒ½è¢«è®¤ä¸ºæ˜¯å³å€¼ï¼ˆéå·¦å€¼ï¼‰ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;å…³äºå·¦å€¼&quot;&gt;&lt;a href=&quot;#å…³äºå·¦å€¼&quot; class=&quot;headerlink&quot; title=&quot;å…³äºå·¦å€¼&quot;&gt;&lt;/a&gt;å…³äºå·¦å€¼&lt;/h1&gt;&lt;details class=&quot;folding-tag&quot; &gt;&lt;sum</summary>
      
    
    
    
    <category term="Cè¯­è¨€" scheme="https://daoxuan.cc/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
    <category term="å·¦å€¼" scheme="https://daoxuan.cc/tags/%E5%B7%A6%E5%80%BC/"/>
    
  </entry>
  
  <entry>
    <title>hexoåšå®¢ä¼˜åŒ–æ—¥è®°</title>
    <link href="https://daoxuan.cc/posts/12972/"/>
    <id>https://daoxuan.cc/posts/12972/</id>
    <published>2023-01-31T03:37:39.000Z</published>
    <updated>2024-12-08T16:00:50.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><div class="tip "><p>hexoåšå®¢ä¼˜åŒ–æ—¥è®°</p></div><details class="folding-tag" ><summary> å‚è€ƒæ•™ç¨‹ </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="Tag Plugins Plus | [HexoæŠ˜è…¾ç³»åˆ—ï¼ˆä¸€ï¼‰åšå®¢è®¿é—®é€Ÿåº¦ä¼˜åŒ– - æ±Ÿé£å¼•é›¨ã®å°poç«™ (luzy.top)" href="https://blog.luzy.top/posts/2009685483/#hexo-all-minifierä½¿ç”¨"><div class="left"><img src="/img/link.png"/></div><div class="right"><p class="text">Tag Plugins Plus | [HexoæŠ˜è…¾ç³»åˆ—ï¼ˆä¸€ï¼‰åšå®¢è®¿é—®é€Ÿåº¦ä¼˜åŒ– - æ±Ÿé£å¼•é›¨ã®å°poç«™ (luzy.top)</p><p class="url">https://blog.luzy.top/posts/2009685483/#hexo-all-minifierä½¿ç”¨</p></div></a></div>              </div>            </details><h1 id="ä½¿ç”¨hexo-all-minifierå‹ç¼©åšå®¢"><a href="#ä½¿ç”¨hexo-all-minifierå‹ç¼©åšå®¢" class="headerlink" title="ä½¿ç”¨hexo-all-minifierå‹ç¼©åšå®¢"></a>ä½¿ç”¨hexo-all-minifierå‹ç¼©åšå®¢</h1><p>å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-all-minifier --save</span><br></pre></td></tr></table></figure><p>å¦‚æœå®‰è£…å¤±è´¥å¯ä»¥ä½¿ç”¨cnpmï¼ˆç«™é•¿åšæ³•ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-all-minifier --save</span><br></pre></td></tr></table></figure><div class="tip cogs"><p>å¦‚æœæç¤ºcommand not found</p></div><p>å¯ä»¥è¯•è¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœè¿˜ä¸å¥æ•ˆè¯·è‡ªè¡Œæœç´¢</p></blockquote><p>é…ç½®</p><p>åœ¨<code>_config.yml</code>é‡Œæ·»åŠ :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_minifier: ture</span><br></pre></td></tr></table></figure><p>æœ¬åœ°çš„å°±è¡Œ</p><p>è¯¦ç»†è®¾ç½®ï¼š<a href="https://github.com/chenzhutian/hexo-all-minifier/blob/master/README.md">å®˜æ–¹æ•™ç¨‹</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># htmlå‹ç¼©</span><br><span class="line">html_minifier:</span><br><span class="line">  enable: true</span><br><span class="line">  ignore_error: false</span><br><span class="line">  exclude:</span><br><span class="line"></span><br><span class="line"># csså‹ç¼©</span><br><span class="line">css_minifier:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &#x27;*.min.css&#x27;</span><br><span class="line">    </span><br><span class="line"># jså‹ç¼©</span><br><span class="line">js_minifier:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &#x27;*.min.js&#x27;</span><br><span class="line">js_concator:</span><br><span class="line">  enable: false</span><br><span class="line">  bundle_path: &#x27;/js/bundle.js&#x27;</span><br><span class="line">  front: false</span><br><span class="line">  silent: false</span><br><span class="line"></span><br><span class="line"># å›¾ç‰‡ä¼˜åŒ–</span><br><span class="line">image_minifier:</span><br><span class="line">  enable: true</span><br><span class="line">  interlaced: false</span><br><span class="line">  multipass: false</span><br><span class="line">  optimizationLevel: 2</span><br><span class="line">  pngquant: false</span><br><span class="line">  progressive: false</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;div class=&quot;tip &quot;&gt;&lt;p&gt;hexoåšå®¢ä¼˜åŒ–æ—¥è®°&lt;/p&gt;
&lt;/div&gt;
&lt;details class=&quot;folding-tag&quot; &gt;&lt;summary&gt; å‚è€ƒæ•™ç¨‹ &lt;/summary&gt;
          </summary>
      
    
    
    
    
    <category term="åšå®¢" scheme="https://daoxuan.cc/tags/%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="ä¼˜åŒ–" scheme="https://daoxuan.cc/tags/%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œäº‘CDNåŠ é€Ÿä¹‹é‡å®šå‘æ¬¡æ•°è¿‡å¤š</title>
    <link href="https://daoxuan.cc/posts/25087/"/>
    <id>https://daoxuan.cc/posts/25087/</id>
    <published>2023-01-29T15:51:55.000Z</published>
    <updated>2024-12-08T16:00:46.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><div class="tip cogs"><p>é˜¿é‡Œäº‘CDNåŠ é€Ÿä¹‹é‡å®šå‘æ¬¡æ•°è¿‡å¤š</p></div><details class="folding-tag" ><summary> å‚è€ƒæ•™ç¨‹ </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="Tag Plugins Plus | CDNè®¿é—®å¼‚å¸¸ç¯‡ä¹‹é‡å®šå‘çš„æ¬¡æ•°è¿‡å¤š-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)]" href="https://developer.aliyun.com/article/749187"><div class="left"><img src="http://picture.daoxuan.cc/image/202301292351979.jpg"/></div><div class="right"><p class="text">Tag Plugins Plus | CDNè®¿é—®å¼‚å¸¸ç¯‡ä¹‹é‡å®šå‘çš„æ¬¡æ•°è¿‡å¤š-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)]</p><p class="url">https://developer.aliyun.com/article/749187</p></div></a></div>              </div>            </details><h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>é…ç½®äº†é˜¿é‡Œäº‘CDNæˆ–è€…å…¨ç«™åŠ é€Ÿåï¼Œä½¿ç”¨æµè§ˆå™¨è¿›è¡Œè®¿é—®ï¼Œå‡ºç°å¦‚ä¸‹é”™è¯¯æç¤ºã€‚</p><p>XXX.XXX.XXX å°†æ‚¨é‡å®šå‘çš„æ¬¡æ•°è¿‡å¤šã€‚<br>å°è¯•æ¸…é™¤ Cookie.<br>ERR_TOO_MANY_REDIRECTS<img src="https://picture.daoxuan.cc/image/202301301232473.webp" alt=""></p><h1 id="é—®é¢˜åŸå› "><a href="#é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h1><p>æºç«™å¼€å¯äº†HTTPé‡å®šå‘è‡³HTTPSçš„åŠŸèƒ½ï¼Œå¹¶ä¸”CDNæ§åˆ¶å°ä¸Šé…ç½®çš„å›æºç«¯å£ä¸º80ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºCDNå›æºç«¯å£ä¸º80ï¼Œå®¢æˆ·ç«¯æ— è®ºæ˜¯é€šè¿‡HTTPè¿˜æ˜¯HTTPSè®¿é—®CDNåŠ é€ŸåŸŸåæ—¶ï¼ŒCDNåœ¨å›æºçš„æ—¶å€™éƒ½æ˜¯ä½¿ç”¨HTTPè¯·æ±‚æºç«™ï¼Œæ­¤æ—¶ä¼šè§¦å‘æºç«™çš„HTTPSå¼ºåˆ¶è·³è½¬é€»è¾‘ï¼Œç„¶åæºç«™ä¼šè¦æ±‚CDNé‡æ–°å‘é€ä¸€ä¸ªHTTPSçš„è¯·æ±‚ï¼Œä½†æ˜¯CDNå›æºçš„æ—¶å€™ä»ç„¶ä¼šå‘é€HTTPå›æºè¯·æ±‚ï¼Œç„¶åå†è¿›è¡Œè·³è½¬ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå°±ä¼šå‡ºç°åå¤é‡å®šå‘é—®é¢˜ï¼Œæœ€ç»ˆå¯¼è‡´å‡ºç°æŠ¥é”™ã€‚</p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p><img src="https://picture.daoxuan.cc/image/202301301232228.webp" alt=""></p><p>å°†ç«¯å£æ”¹ä¸º433</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;div class=&quot;tip cogs&quot;&gt;&lt;p&gt;é˜¿é‡Œäº‘CDNåŠ é€Ÿä¹‹é‡å®šå‘æ¬¡æ•°è¿‡å¤š&lt;/p&gt;
&lt;/div&gt;
&lt;details class=&quot;folding-tag&quot; &gt;&lt;summary&gt; å‚è€ƒæ•™ç¨‹ &lt;/summary&gt;
</summary>
      
    
    
    
    <category term="ç½‘ç«™" scheme="https://daoxuan.cc/categories/%E7%BD%91%E7%AB%99/"/>
    
    
    <category term="CDN" scheme="https://daoxuan.cc/tags/CDN/"/>
    
    <category term="é‡å®šå‘æ¬¡æ•°è¿‡å¤š" scheme="https://daoxuan.cc/tags/%E9%87%8D%E5%AE%9A%E5%90%91%E6%AC%A1%E6%95%B0%E8%BF%87%E5%A4%9A/"/>
    
  </entry>
  
  <entry>
    <title>å‡æœŸä¸»é¢˜å›¢æ—¥æ–‡ç« </title>
    <link href="https://daoxuan.cc/posts/6890/"/>
    <id>https://daoxuan.cc/posts/6890/</id>
    <published>2023-01-28T12:28:37.000Z</published>
    <updated>2024-12-08T16:00:47.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="ä¸ªäººæˆé•¿è®°å½•"><a href="#ä¸ªäººæˆé•¿è®°å½•" class="headerlink" title="ä¸ªäººæˆé•¿è®°å½•"></a>ä¸ªäººæˆé•¿è®°å½•</h1><p>åœ¨æµ·å¤§çš„è¿™åŠä¸ªå­¦æœŸï¼Œæˆ‘æœ‰è®¸å¤šçš„å˜åŒ–ï¼Œæœ€å¤§çš„å˜åŒ–ä¾¿æ˜¯â€”-å¤´å‘é•¿äº†ï¼ˆbushiï¼‰ï¼Œæœ€å¤§çš„å˜åŒ–å…¶å®æ˜¯â€”-æˆ‘åšäº‹æƒ…çš„æ€ç»´æ–¹å¼å‘ç”Ÿäº†æ”¹å˜ï¼Œåˆå…¥å¤§å­¦æ—¶å€™çš„æˆ‘ï¼Œå–œæ¬¢å‚é€è§„åˆ™ï¼Œåšäº‹æƒ…å–œæ¬¢åšæœ€é‡è¦çš„é‚£éƒ¨åˆ†ï¼Œä¸å…³æ³¨ä»»åŠ¡å®Œæˆçš„å®Œæ•´åº¦ï¼Œä½†æ˜¯åœ¨å¤§å­¦ä¸­æˆ‘é€æ¸æ‡‚å¾—ï¼Œå¤§å¤šæ•°æ—¶å€™ï¼Œäº‹æƒ…åšå¾—å……å®ï¼Œé¢é¢ä¿±åˆ°ï¼Œè¦æ¯”åœ¨å•å•ä¸€æ–¹é¢ä¸Šå¾ˆå‡ºè‰²è¦å¼ºã€‚</p><h1 id="è§‚å½±ä¸å½±ç‰‡æ¨è"><a href="#è§‚å½±ä¸å½±ç‰‡æ¨è" class="headerlink" title="è§‚å½±ä¸å½±ç‰‡æ¨è"></a>è§‚å½±ä¸å½±ç‰‡æ¨è</h1><p>ç”µå½±æ¨èå½“ç„¶è¦æ•°ä»Šå¹´çš„æ˜¥èŠ‚æ¡£ç”µå½±å•¦ï¼Œæœ€è¦åŠ›æŒºçš„è¦æ•°æµæµªåœ°çƒ2äº†ï¼Œæˆ‘ä»¬çš„å°ç ´çƒå¯è°“æ˜¯æŠŠé’±ç”¨åœ¨äº†åˆ€åˆƒä¸Šäº†ï¼Œæ— è®ºæ˜¯å‰§æƒ…çš„å››çº¿å¹¶è¡Œè¿˜æ˜¯ç‰¹æ•ˆçš„ç»†èŠ‚å¤„ç†ï¼Œéƒ½ååˆ†çš„å®Œç¾ï¼Œç”µå½±é‡Œé¢çš„å¤ªç©ºç”µæ¢¯ï¼Œç”¨æ ¸å¼¹ç›¸æ§é˜µå¼•çˆ†æœˆçƒï¼Œæ•°å­—ç”Ÿå‘½å»¶ç»­äººç±»ç”Ÿå‘½ï¼Œéƒ½æ˜¯è¶…è¿‡è¿™ä¸ªæ—¶ä»£çš„ç§‘å¹»ï¼Œå¼ºçƒˆå®‰åˆ©ï¼ï¼ï¼</p><h1 id="æˆ‘çš„æ–°å¹´æ„¿æœ›"><a href="#æˆ‘çš„æ–°å¹´æ„¿æœ›" class="headerlink" title="æˆ‘çš„æ–°å¹´æ„¿æœ›"></a>æˆ‘çš„æ–°å¹´æ„¿æœ›</h1><p>æˆ‘æœ€å¤§çš„æ–°å¹´æ„¿æœ›ä¾¿æ˜¯ï¼Œåœ¨æ–°çš„ä¸€å¹´é‡Œï¼Œå¸Œæœ›æˆ‘å’Œæˆ‘çš„å®¶äººã€æœ‹å‹ä»¬ï¼Œèƒ½å¤Ÿå¹³å¹³å®‰å®‰ï¼Œæˆ‘ä»¬è‹¥å®‰å¥½ï¼Œä¾¿æ˜¯æ™´å¤©ã€‚å…¶æ¬¡ï¼Œæˆ‘å¸Œæœ›å¯ä»¥å˜å¾—æœ‰ç”¨ï¼Œå¸Œæœ›æˆ‘å¯ä»¥è¿›ä¸€æ­¥æˆä¸ºä¸€ä¸ªæœ‰ç”¨ä¹‹äººï¼Œå­¦ä¸šè¿›æ­¥ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;ä¸ªäººæˆé•¿è®°å½•&quot;&gt;&lt;a href=&quot;#ä¸ªäººæˆé•¿è®°å½•&quot; class=&quot;headerlink&quot; title=&quot;ä¸ªäººæˆé•¿è®°å½•&quot;&gt;&lt;/a&gt;ä¸ªäººæˆé•¿è®°å½•&lt;/h1&gt;&lt;p&gt;åœ¨æµ·å¤§çš„è¿™åŠä¸ªå­¦æœŸï¼Œæˆ‘æœ‰è®¸å¤šçš„å˜åŒ–ï¼Œæœ€å¤§çš„å˜åŒ–</summary>
      
    
    
    
    <category term="ç”Ÿæ´»" scheme="https://daoxuan.cc/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="ä¸»é¢˜å›¢æ—¥" scheme="https://daoxuan.cc/tags/%E4%B8%BB%E9%A2%98%E5%9B%A2%E6%97%A5/"/>
    
    <category term="æ–°å¹´æ„¿æœ›" scheme="https://daoxuan.cc/tags/%E6%96%B0%E5%B9%B4%E6%84%BF%E6%9C%9B/"/>
    
    <category term="ç”µå½±æ¨è" scheme="https://daoxuan.cc/tags/%E7%94%B5%E5%BD%B1%E6%8E%A8%E8%8D%90/"/>
    
    <category term="ä¸ªäººå˜åŒ–" scheme="https://daoxuan.cc/tags/%E4%B8%AA%E4%BA%BA%E5%8F%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>å¹´ç»ˆæ€»ç»“</title>
    <link href="https://daoxuan.cc/posts/50092/"/>
    <id>https://daoxuan.cc/posts/50092/</id>
    <published>2023-01-22T07:43:54.000Z</published>
    <updated>2024-12-08T16:19:34.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;/div&gt;</summary>
      
    
    
    
    
    <category term="å¹´ç»ˆæ€»ç»“" scheme="https://daoxuan.cc/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"/>
    
    <category term="æ ‡ç­¾å¤–æŒ‚çš„ä½¿ç”¨" scheme="https://daoxuan.cc/tags/%E6%A0%87%E7%AD%BE%E5%A4%96%E6%8C%82%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•é€šè¿‡é“¾æ¥å®ç°QQèŠå¤©å’ŒåŠ å¥½å‹</title>
    <link href="https://daoxuan.cc/posts/54218/"/>
    <id>https://daoxuan.cc/posts/54218/</id>
    <published>2023-01-15T15:00:48.000Z</published>
    <updated>2024-12-08T16:00:48.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1 id="å¦‚ä½•é€šè¿‡é“¾æ¥å®ç°QQèŠå¤©å’ŒåŠ å¥½å‹"><a href="#å¦‚ä½•é€šè¿‡é“¾æ¥å®ç°QQèŠå¤©å’ŒåŠ å¥½å‹" class="headerlink" title="å¦‚ä½•é€šè¿‡é“¾æ¥å®ç°QQèŠå¤©å’ŒåŠ å¥½å‹"></a>å¦‚ä½•é€šè¿‡é“¾æ¥å®ç°QQèŠå¤©å’ŒåŠ å¥½å‹</h1><blockquote><p>å¼ºåˆ¶èŠå¤©é“¾æ¥ï¼š</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tencent://Message/?Uin=3434055686&amp;websiteName=www.oicqzone.com&amp;Menu=yes</span><br></pre></td></tr></table></figure><blockquote><p>å¼ºåˆ¶åŠ å¥½å‹é“¾æ¥ï¼š</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=2872983273&amp;fuin=3434055686&amp;website=www.oicqzone.com</span><br></pre></td></tr></table></figure><blockquote><p>uin æ˜¯è¢«åŠ çš„ä¸€æ–¹ï¼Œfuinæ˜¯ä¸»åŠ¨åŠ çš„ä¸€æ–¹</p></blockquote><ul><li>ä½ å¯ä»¥å»æ‰fuinï¼ŒæŠŠ2872983273æ¢æˆä½ è‡ªå·±çš„å°±å¯ä»¥å•¦</li></ul><blockquote><p>å¯ä»¥åœ¨ç½‘é¡µé‡Œæ·»åŠ è·³è½¬ä»£ç ï¼Œæ‰“å¼€ç½‘é¡µè‡ªåŠ¨æ·»åŠ å¥½å‹å“¦ã€‚</p></blockquote><ul><li>ä»¥ä¸‹ä»£ç éœ€è¦æ·»åŠ åœ¨headé‡Œ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0; url=tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=34340555686&amp;website=www.oicqzone.com&quot;&gt;</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1 id=&quot;å¦‚ä½•é€šè¿‡é“¾æ¥å®ç°QQèŠå¤©å’ŒåŠ å¥½å‹&quot;&gt;&lt;a href=&quot;#å¦‚ä½•é€šè¿‡é“¾æ¥å®ç°QQèŠå¤©å’ŒåŠ å¥½å‹&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•é€šè¿‡é“¾æ¥å®ç°QQèŠå¤©å’ŒåŠ å¥½å‹&quot;&gt;&lt;/a&gt;å¦‚ä½•é€šè¿‡é“¾æ¥å®</summary>
      
    
    
    
    
    <category term="åŠ å¥½å‹" scheme="https://daoxuan.cc/tags/%E5%8A%A0%E5%A5%BD%E5%8F%8B/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å¤„ç†æŠ¥é”™â€œkex_exchange_identification: Connection closed by remote hostConnection closed by ::1 port 22â€</title>
    <link href="https://daoxuan.cc/posts/2500/"/>
    <id>https://daoxuan.cc/posts/2500/</id>
    <published>2023-01-14T15:07:37.000Z</published>
    <updated>2024-12-08T16:00:48.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><p>[TOC]</p><h1 id="å¦‚ä½•å¤„ç†æŠ¥é”™â€œkex-exchange-identification-Connection-closed-by-remote-hostConnection-closed-by-1-port-22â€"><a href="#å¦‚ä½•å¤„ç†æŠ¥é”™â€œkex-exchange-identification-Connection-closed-by-remote-hostConnection-closed-by-1-port-22â€" class="headerlink" title="å¦‚ä½•å¤„ç†æŠ¥é”™â€œkex_exchange_identification: Connection closed by remote hostConnection closed by ::1 port 22â€"></a>å¦‚ä½•å¤„ç†æŠ¥é”™â€œkex_exchange_identification: Connection closed by remote hostConnection closed by ::1 port 22â€</h1><p><img src="http://picture.daoxuan.cc/image/202301142243578.png" alt="image-20230114220851778"></p><p>è¿™æ˜¯ä¸€å¼ ä»¤äººè´¨å£åˆ†ç¦»çš„æŠ¥é”™æˆªå›¾ï¼Œåœ¨<code>hexo d</code>åå‡ºç°è¿™æ ·ä¸€å †çš„æŠ¥é”™</p><blockquote><p>åŸå› æ˜¯ï¼šsshç§˜é’¥çš„è¿‡æœŸï¼Œéœ€è¦æ›´æ–°sshçš„key</p></blockquote><ul><li><p>é¦–å…ˆå¯ä»¥å°†æœ¬åœ°/Users/username/.ssh/ä¸­çš„æ–‡ä»¶åˆ é™¤</p></li><li><p>ç„¶åå†ç»ˆç«¯è¾“å…¥<code>ssh-keygen -t rsa -C â€œä½ çš„é‚®ç®±.comâ€</code></p></li><li><p>ä¸€è·¯å›è½¦</p></li><li><p>è¾“å…¥<code>ssh -T git@github.com</code>æµ‹è¯•è¿æ¥</p></li><li><p>yes/noå›ç­”yes</p></li><li><pre><code>$ ssh -T git@github.comThe authenticity of host &#39;github.com (20.205.243.166)&#39; can&#39;t be established.ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU.This key is not known by any other namesAre you sure you want to continue connecting (yes/no/[fingerprint])? yesWarning: Permanently added &#39;github.com&#39; (ED25519) to the list of known hosts.Hi dx2331lxz! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code></pre></li><li><p>çœ‹åˆ°<code>Hi dx2331lxz! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code>å°±å¯ä»¥äº†</p></li></ul></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h1 id=&quot;å¦‚ä½•å¤„ç†æŠ¥é”™â€œkex-exchange-identification-Connection-closed-by-remote-hostConnection-closed-by-</summary>
      
    
    
    
    
    <category term="æŠ¥é”™" scheme="https://daoxuan.cc/tags/%E6%8A%A5%E9%94%99/"/>
    
    <category term="hexo" scheme="https://daoxuan.cc/tags/hexo/"/>
    
    <category term="SSH" scheme="https://daoxuan.cc/tags/SSH/"/>
    
  </entry>
  
  <entry>
    <title>github pagesçš„DNS checkå‡ºç°é—®é¢˜</title>
    <link href="https://daoxuan.cc/posts/12709/"/>
    <id>https://daoxuan.cc/posts/12709/</id>
    <published>2023-01-12T12:55:32.000Z</published>
    <updated>2024-12-08T16:00:50.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Your site<span class="string">&#x27;s DNS settings are using a custom subdomain, www.daoxuan.cc, that is set up as an A record. We recommend you change this to a CNAME record pointing to dx2331lxz.github.io. For more information, see documentation (InvalidARecordError).</span></span><br></pre></td></tr></table></figure><blockquote><p>å‡ºç°è¿™ç§æŠ¥é”™æ—¶å€™çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šä»¥CNAMEæ·»åŠ ä¸¤ä¸ªè§£æï¼Œä¸€ä¸ª@ï¼Œä¸€ä¸ªwwwéƒ½è®©å…¶è§£æåˆ°xxx.github.ioå°±å¯ä»¥äº†</p></blockquote><p><img src="http://picture.daoxuan.cc/image/202301122102656.jpg" alt=""></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td</summary>
      
    
    
    
    
    <category term="github" scheme="https://daoxuan.cc/tags/github/"/>
    
    <category term="DNS" scheme="https://daoxuan.cc/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>PicGo + ä¸ƒç‰›äº‘ + Typora æ­å»ºå›¾åºŠ</title>
    <link href="https://daoxuan.cc/posts/undefined/"/>
    <id>https://daoxuan.cc/posts/undefined/</id>
    <published>2023-01-05T14:31:33.000Z</published>
    <updated>2024-12-08T16:00:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h1 id="PicGo-ä¸ƒç‰›äº‘-Typora"><a href="#PicGo-ä¸ƒç‰›äº‘-Typora" class="headerlink" title="PicGo + ä¸ƒç‰›äº‘ + Typora"></a>PicGo + ä¸ƒç‰›äº‘ + Typora</h1><h2 id="1-åˆ›å»ºä¸ƒç‰›äº‘è´¦å·"><a href="#1-åˆ›å»ºä¸ƒç‰›äº‘è´¦å·" class="headerlink" title="1. åˆ›å»ºä¸ƒç‰›äº‘è´¦å·"></a>1. åˆ›å»ºä¸ƒç‰›äº‘è´¦å·</h2><p><img src="https://picture.daoxuan.cc/image/202301301225888.webp" alt=""></p><p><a href="https://www.qiniu.com/">ä¸ƒç‰›äº‘å®˜ç½‘</a></p><h2 id="2-åˆ›å»ºæ¡¶"><a href="#2-åˆ›å»ºæ¡¶" class="headerlink" title="2. åˆ›å»ºæ¡¶"></a>2. åˆ›å»ºæ¡¶</h2><ul><li>æ³¨å†Œå®Œè´¦å·å°±å¯ä»¥</li><li>æ–°å»ºæ¡¶</li></ul><p><img src="https://picture.daoxuan.cc/image/202301301231308.webp" alt=""></p><ul><li><img src="https://picture.daoxuan.cc/image/202301301228587.webp" alt="202301111734207"></li></ul><blockquote><p>é€‰æ‹©å¥½ç¦»è‡ªå·±è¿‘ä¸€äº›çš„å‚¨å­˜ä½ç½®ï¼ŒæŠŠè®¿é—®æ§åˆ¶è®¾ç½®ä¸ºå…¬å¼€ã€‚</p></blockquote><ul><li>ç‚¹å‡»è®¾ç½®çš„å‚¨å­˜ç©ºé—´åç§°å°±å¯ä»¥çœ‹åˆ°ä¸ƒç‰›äº‘ä¸´æ—¶æä¾›çš„æµ‹è¯•åŸŸå</li></ul><p><img src="https://image.daoxuan.cc/image/202301301229611.webp" alt=""></p><blockquote><p>è¿™ä¸ªåŸŸåæš‚æ—¶å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæœˆï¼Œä¸è¿‡å»ºè®®ç»‘å®šè‡ªå·±çš„åŸŸåã€‚</p></blockquote><ul><li>ç‚¹å‡»å¯†é’¥ç®¡ç†ï¼ŒæŸ¥çœ‹ä¸ªäººå¯†é’¥</li></ul><p><img src="https://picture.daoxuan.cc/image/202301301230502.webp" alt="202301111734652"></p><h2 id="3-é…ç½®PicGo"><a href="#3-é…ç½®PicGo" class="headerlink" title="3. é…ç½®PicGo"></a>3. é…ç½®PicGo</h2><ol><li><a href="https://github.com/Molunerfinn/PicGo/releases">PicGoå®˜æ–¹ä¸‹è½½</a></li><li><p><a href="https://daoxuan.lanzout.com/inclq0k78pfg">PicGoå¿«é€Ÿä¸‹è½½é“¾æ¥</a></p></li><li><p><img src="https://picture.daoxuan.cc/image/202301301230805.webp" alt=""></p></li></ol><blockquote><p>AccessKeyå’ŒSecretKeyåˆ†åˆ«æ˜¯åˆšæ‰è®°å½•çš„ä¸ªäººå¯†é’¥çš„AKå’ŒSK</p><p>Bucketå¡«å†™åˆ›å»ºçš„æ¡¶çš„åå­—</p><p>è®¿é—®ç½‘å€å¡«å†™ä¸ƒç‰›äº‘èµ é€çš„ç½‘å€ï¼ˆä¸ªäººæœ‰åŸŸåå°±å¡«å†™è‡ªå·±çš„ï¼‰</p><p>å‚¨å­˜åŒºåŸŸå¡«å†™è¯·è®¿é—®è¯¥ç½‘å€æŸ¥çœ‹<a href="https://developer.qiniu.com/kodo/1671/region-endpoint-fq">å­˜å‚¨åŒºåŸŸ<em>äº§å“ç®€ä»‹</em>å¯¹è±¡å­˜å‚¨ - ä¸ƒç‰›å¼€å‘è€…ä¸­å¿ƒ (qiniu.com)</a></p></blockquote><ul><li>æ‰¾åˆ°å’Œè‡ªå·±çš„å‚¨å­˜åŒºåŸŸç›¸å¯¹åº”çš„åŒºåŸŸIDè¿›è¡Œå¡«å†™</li></ul><p>åä¸¤é¡¹å¯ä»¥ä¸å¡«</p><ul><li>è¿›è¡Œå®Œè¿™äº›å°±å¯ä»¥ä¸Šä¼ å›¾ç‰‡æ£€æŸ¥ä¸€äº›æ˜¯å¦æˆåŠŸ</li></ul><h2 id="é…ç½®Typora"><a href="#é…ç½®Typora" class="headerlink" title="é…ç½®Typora"></a>é…ç½®Typora</h2><p><a href="https://daoxuan.lanzout.com/b041ndthi">Typoraå¿«é€Ÿä¸‹è½½</a>å¯†ç :3u7c</p><p><img src="https://picture.daoxuan.cc/image/202301301230277.webp" alt="202301111734036"></p><blockquote><p>è°ƒèŠ‚æœ€ä¸‹é¢çš„è®¾ç½®PIcGoè·¯å¾„ä¸ºè‡ªå·±å®‰è£…çš„è·¯å¾„ï¼Œå…¶ä»–çš„æŒ‰ç…§å›¾ä¸Šè‡ªè¡Œé…ç½®ã€‚</p><p>å†åŠ ä¸ŠPicGoä¸­å¿«æ·é”®çš„è®¾ç½®ä¾¿å¯ä»¥å¿«æ·ä¸Šä¼ å†™åšå®¢äº†ã€‚</p></blockquote><p><img src="https://picture.daoxuan.cc/image/202301301230286.webp" alt=""></p><blockquote><p>è®°å¾—åœ¨è¿˜è¦è®¾ç½®ä½¿ç”¨å†…ç½®å‰ªåˆ‡æ¿ä¸Šä¼ ï¼ˆåœ¨PicGoä¸­ï¼‰</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h1 id=&quot;PicGo-ä¸ƒç‰›äº‘-Typora&quot;&gt;&lt;a href=&quot;#PicGo-ä¸ƒç‰›äº‘-Typora&quot; class=&quot;headerlink&quot; title=&quot;PicGo + ä¸ƒç‰›äº‘ + Typora&quot;&gt;&lt;/a&gt;PicGo + ä¸ƒç‰›äº‘ + Typora&lt;</summary>
      
    
    
    
    
    <category term="å›¾åºŠ" scheme="https://daoxuan.cc/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
  <entry>
    <title>çƒçƒæœ€çˆ±åƒçš„è–¯ç‰‡</title>
    <link href="https://daoxuan.cc/posts/65143/"/>
    <id>https://daoxuan.cc/posts/65143/</id>
    <published>2022-12-28T07:27:12.000Z</published>
    <updated>2024-12-08T16:00:48.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><h1>çƒçƒæœ€çˆ±åƒçš„è–¯ç‰‡åˆé›†</h1><div class="table-container"><table><thead><tr><th>æ’å</th><th>å“ç‰Œ</th><th>åç§°</th><th>å£å‘³</th></tr></thead><tbody><tr><td>NO.1</td><td>ä¸Šå¥½ä½³</td><td>ç”°å›­è–¯ç‰‡</td><td>ç”œè¾£å£å‘³</td></tr><tr><td>NO.2</td><td>ä¸Šå¥½ä½³</td><td>ç”°å›­è–¯ç‰‡</td><td>çƒ¤è‚‰å£å‘³</td></tr><tr><td>NO.3</td><td>ä¹äº‹</td><td>è¥¿ç­ç‰™ç«è…¿è–¯ç‰‡</td><td></td></tr><tr><td>NO.4</td><td>ä¹äº‹</td><td>ç«ç‘°èŠ±ç“£è–¯ç‰‡</td><td></td></tr><tr><td>NO.5</td><td>è–¯æ„¿</td><td></td><td>çº¢é…’ç‰›è‚‰å‘³</td></tr><tr><td>NO.6</td><td>å¥½ä¸½å‹</td><td>å¥½å‹è¶£</td><td>å¤šæ±ç‰›æ’å‘³</td></tr><tr><td>NO.7</td><td>å¯æ¯”å…‹</td><td></td><td>ç•ªèŒ„å‘³</td></tr><tr><td>NO.8</td><td>ä¹äº‹</td><td></td><td>æ·±äº•çƒ§é¹…å‘³</td></tr></tbody></table></div><blockquote><p>ä¸‹é¢é™„ä¸Šå›¾ç‰‡ï¼ˆçƒçƒçš„äº²ç¬”è®°å½•ï¼‰</p></blockquote><p><img src="http://picture.daoxuan.cc/image/202301301237798.webp" alt=""></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;h1&gt;çƒçƒæœ€çˆ±åƒçš„è–¯ç‰‡åˆé›†&lt;/h1&gt;

&lt;div class=&quot;table-container&quot;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ’å&lt;/th&gt;
&lt;th&gt;å“ç‰Œ&lt;/th&gt;
&lt;th&gt;åç§°&lt;/th&gt;
&lt;</summary>
      
    
    
    
    
    <category term="ç”Ÿæ´»" scheme="https://daoxuan.cc/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åœ¨djangoä¸­ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</title>
    <link href="https://daoxuan.cc/posts/36714/"/>
    <id>https://daoxuan.cc/posts/36714/</id>
    <published>2022-12-28T04:58:36.000Z</published>
    <updated>2024-12-08T16:00:48.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><p>[TOC]</p><blockquote><p>å‰ç«¯åç«¯éƒ½æœ‰è®²è§£ï¼ˆé™„ä»£ç ï¼‰</p></blockquote><h1 id="å¦‚ä½•åœ¨åç«¯djangoåå°ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"><a href="#å¦‚ä½•åœ¨åç«¯djangoåå°ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨" class="headerlink" title="å¦‚ä½•åœ¨åç«¯djangoåå°ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"></a>å¦‚ä½•åœ¨åç«¯djangoåå°ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h1><h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-ckeditor</span><br></pre></td></tr></table></figure><h2 id="2-é…ç½®ckeditor"><a href="#2-é…ç½®ckeditor" class="headerlink" title="2. é…ç½®ckeditor"></a>2. é…ç½®ckeditor</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="string">&#x27;ckeditor&#x27;</span>,<span class="comment">#è¿™ä¸ª</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®çš„settings.pyæ–‡ä»¶çš„æœ€ä¸‹è¾¹åŠ ä¸Šckeditoré…ç½®å†…å®¹ï¼ˆä½¿ç”¨ç•Œé¢ä¸Šçš„åŠŸèƒ½ï¼‰</p><details class="folding-tag" ><summary> é…ç½®ä»£ç  </summary>              <div class='content'>              <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä½¿ç”¨ckçš„å·¥å…·æ å¹¶ä¿®æ”¹ï¼Œå®½åº¦è‡ªé€‚åº”</span></span><br><span class="line">CKEDITOR_CONFIGS = &#123;</span><br><span class="line">    <span class="comment"># django-ckeditoré»˜è®¤ä½¿ç”¨defaulté…ç½®</span></span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="comment"># ç¼–è¾‘å™¨å®½åº¦è‡ªé€‚åº”</span></span><br><span class="line">        <span class="string">&#x27;width&#x27;</span>:<span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;height&#x27;</span>:<span class="string">&#x27;300px&#x27;</span>,</span><br><span class="line">        <span class="comment"># tabé”®è½¬æ¢ç©ºæ ¼æ•°</span></span><br><span class="line">        <span class="string">&#x27;tabSpaces&#x27;</span>: <span class="number">4</span>,</span><br><span class="line">        <span class="comment"># å·¥å…·æ é£æ ¼</span></span><br><span class="line">        <span class="string">&#x27;toolbar&#x27;</span>: <span class="string">&#x27;Custom&#x27;</span>,</span><br><span class="line">        <span class="comment"># å·¥å…·æ æŒ‰é’®</span></span><br><span class="line">        <span class="string">&#x27;toolbar_Custom&#x27;</span>: [</span><br><span class="line">            <span class="comment"># é¢„è§ˆã€è¡¨æƒ…</span></span><br><span class="line">            [<span class="string">&#x27;Preview&#x27;</span>,<span class="string">&#x27;Smiley&#x27;</span>],</span><br><span class="line">            <span class="comment"># å­—ä½“é£æ ¼</span></span><br><span class="line">            [<span class="string">&#x27;Bold&#x27;</span>, <span class="string">&#x27;Italic&#x27;</span>, <span class="string">&#x27;Underline&#x27;</span>, <span class="string">&#x27;RemoveFormat&#x27;</span>, <span class="string">&#x27;Blockquote&#x27;</span>],</span><br><span class="line">            <span class="comment"># å­—ä½“é¢œè‰²</span></span><br><span class="line">            [<span class="string">&#x27;TextColor&#x27;</span>, <span class="string">&#x27;BGColor&#x27;</span>],</span><br><span class="line">            <span class="comment">#æ ¼å¼ã€å­—ä½“ã€å¤§å°</span></span><br><span class="line">            [<span class="string">&#x27;Format&#x27;</span>,<span class="string">&#x27;Font&#x27;</span>,<span class="string">&#x27;FontSize&#x27;</span>],</span><br><span class="line">            <span class="comment"># é“¾æ¥</span></span><br><span class="line">            [<span class="string">&#x27;Link&#x27;</span>, <span class="string">&#x27;Unlink&#x27;</span>],</span><br><span class="line">            <span class="comment"># åˆ—è¡¨</span></span><br><span class="line">            [<span class="string">&#x27;Image&#x27;</span>, <span class="string">&#x27;NumberedList&#x27;</span>, <span class="string">&#x27;BulletedList&#x27;</span>],</span><br><span class="line">            <span class="comment">#å±…å·¦ï¼Œå±…ä¸­ï¼Œå±…å³</span></span><br><span class="line">            [<span class="string">&#x27;JustifyLeft&#x27;</span>,<span class="string">&#x27;JustifyCenter&#x27;</span>,<span class="string">&#x27;JustifyRight&#x27;</span>,<span class="string">&#x27;JustifyBlock&#x27;</span>],</span><br><span class="line">            <span class="comment"># æœ€å¤§åŒ–</span></span><br><span class="line">            [<span class="string">&#x27;Maximize&#x27;</span>]</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment"># åŠ å…¥ä»£ç å—æ’ä»¶</span></span><br><span class="line">        <span class="string">&#x27;extraPlugins&#x27;</span>: <span class="string">&#x27;,&#x27;</span>.join([<span class="string">&#x27;codesnippet&#x27;</span>,<span class="string">&#x27;image2&#x27;</span>,<span class="string">&#x27;filebrowser&#x27;</span>,<span class="string">&#x27;widget&#x27;</span>, <span class="string">&#x27;lineutils&#x27;</span>]),</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">#è¯„è®º</span></span><br><span class="line">    <span class="string">&#x27;comment&#x27;</span>: &#123;</span><br><span class="line">        <span class="comment"># ç¼–è¾‘å™¨å®½åº¦è‡ªé€‚åº”</span></span><br><span class="line">        <span class="string">&#x27;width&#x27;</span>: <span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;height&#x27;</span>: <span class="string">&#x27;140px&#x27;</span>,</span><br><span class="line">        <span class="comment"># tabé”®è½¬æ¢ç©ºæ ¼æ•°</span></span><br><span class="line">        <span class="string">&#x27;tabSpaces&#x27;</span>: <span class="number">4</span>,</span><br><span class="line">        <span class="comment"># å·¥å…·æ é£æ ¼</span></span><br><span class="line">        <span class="string">&#x27;toolbar&#x27;</span>: <span class="string">&#x27;Custom&#x27;</span>,</span><br><span class="line">        <span class="comment"># å·¥å…·æ æŒ‰é’®</span></span><br><span class="line">        <span class="string">&#x27;toolbar_Custom&#x27;</span>: [</span><br><span class="line">            <span class="comment"># è¡¨æƒ… ä»£ç å—</span></span><br><span class="line">            [<span class="string">&#x27;Smiley&#x27;</span>, <span class="string">&#x27;CodeSnippet&#x27;</span>],</span><br><span class="line">            <span class="comment"># å­—ä½“é£æ ¼</span></span><br><span class="line">            [<span class="string">&#x27;Bold&#x27;</span>, <span class="string">&#x27;Italic&#x27;</span>, <span class="string">&#x27;Underline&#x27;</span>, <span class="string">&#x27;RemoveFormat&#x27;</span>, <span class="string">&#x27;Blockquote&#x27;</span>],</span><br><span class="line">            <span class="comment"># å­—ä½“é¢œè‰²</span></span><br><span class="line">            [<span class="string">&#x27;TextColor&#x27;</span>, <span class="string">&#x27;BGColor&#x27;</span>],</span><br><span class="line">            <span class="comment"># é“¾æ¥</span></span><br><span class="line">            [<span class="string">&#x27;Link&#x27;</span>, <span class="string">&#x27;Unlink&#x27;</span>],</span><br><span class="line">            <span class="comment"># åˆ—è¡¨</span></span><br><span class="line">            [<span class="string">&#x27;NumberedList&#x27;</span>, <span class="string">&#x27;BulletedList&#x27;</span>],</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment"># åŠ å…¥ä»£ç å—æ’ä»¶</span></span><br><span class="line">        <span class="string">&#x27;extraPlugins&#x27;</span>: <span class="string">&#x27;,&#x27;</span>.join([<span class="string">&#x27;codesnippet&#x27;</span>]),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><blockquote><p>æ³¨æ„ï¼šä¸Šé¢ä»£ç ä¸­çš„ä¸‹åŠéƒ¨åˆ†ä»â€œcommentâ€è¿™é‡Œå¼€å§‹ï¼Œæ˜¯å¯ä»¥è‡ªå·±é…ç½®çš„éƒ¨åˆ†ï¼Œå¯ä»¥è‡ªå·±é€‰æ‹©å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é‡‡ç”¨é‚£ç§é…ç½®ã€‚ï¼ˆåé¢ä¼šè¯´ï¼‰</p></blockquote><h2 id="3-modelså­—æ®µä½¿ç”¨ï¼Œå¼•ç”¨æ­¥éª¤äºŒä¸­çš„ckeditoré…ç½®"><a href="#3-modelså­—æ®µä½¿ç”¨ï¼Œå¼•ç”¨æ­¥éª¤äºŒä¸­çš„ckeditoré…ç½®" class="headerlink" title="3. modelså­—æ®µä½¿ç”¨ï¼Œå¼•ç”¨æ­¥éª¤äºŒä¸­çš„ckeditoré…ç½®"></a>3. modelså­—æ®µä½¿ç”¨ï¼Œå¼•ç”¨æ­¥éª¤äºŒä¸­çš„ckeditoré…ç½®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> ckeditor_uploader.fields <span class="keyword">import</span> RichTextUploadingField</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Comment</span>(models.Model):</span><br><span class="line">    content = RichTextUploadingField(config_name=<span class="string">&#x27;default&#x27;</span>)<span class="comment">#config_nameæŒ‡å®šckeditoré…ç½®æ–‡ä»¶ï¼Œä¸æŒ‡å®šå°±ä½¿ç”¨default</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;comment&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&quot;è¯„è®º&quot;</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.title</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œçš„config_name=â€˜â€™å¯ä»¥æŒ‡å®šè‡ªå·±é…ç½®çš„comment</p></blockquote><h2 id="4-formså­—æ®µä½¿ç”¨"><a href="#4-formså­—æ®µä½¿ç”¨" class="headerlink" title="4. formså­—æ®µä½¿ç”¨"></a>4. formså­—æ®µä½¿ç”¨</h2><ol><li>é¦–å…ˆåœ¨è‡ªå·±çš„appä¸­åˆ›å»ºä¸€ä¸ªpyæ–‡ä»¶å‘½åä¸ºforms</li><li>ç„¶åå¯¼å…¥ä¸‹é¢ä»£ç </li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> ckeditor_uploader.fields <span class="keyword">import</span> RichTextUploadingField</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Comment</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CommentForm</span>(forms.ModelForm):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Comment</span><br><span class="line">        fields = [<span class="string">&#x27;content&#x27;</span>, ]</span><br></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸Šä¸æ‡‚çš„å¯ä»¥è‡ªè¡Œå­¦ä¹ modelformçš„ç›¸å…³çŸ¥è¯†</p></blockquote><h2 id="5-adminåå°ä½¿ç”¨"><a href="#5-adminåå°ä½¿ç”¨" class="headerlink" title="5. adminåå°ä½¿ç”¨"></a>5. adminåå°ä½¿ç”¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Comment</span><br><span class="line"></span><br><span class="line">admin.site.register(Comment)<span class="comment">#åœ¨åå°æ³¨å†Œ</span></span><br></pre></td></tr></table></figure><h2 id="6-è¿ç§»æ•°æ®åº“"><a href="#6-è¿ç§»æ•°æ®åº“" class="headerlink" title="6. è¿ç§»æ•°æ®åº“"></a>6. è¿ç§»æ•°æ®åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ˜¯åœ¨ç»ˆç«¯ä¸­è¿›è¡Œçš„æ“ä½œã€‚</p></blockquote><h1 id="å¦‚ä½•åœ¨å‰ç«¯ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"><a href="#å¦‚ä½•åœ¨å‰ç«¯ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨" class="headerlink" title="å¦‚ä½•åœ¨å‰ç«¯ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"></a>å¦‚ä½•åœ¨å‰ç«¯ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h1><h2 id="1-å®‰è£…pillow"><a href="#1-å®‰è£…pillow" class="headerlink" title="1. å®‰è£…pillow"></a>1. å®‰è£…pillow</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pillow</span><br></pre></td></tr></table></figure><blockquote><p>ckeditorä¹Ÿè¦å®‰è£…ï¼Œä¸Šé¢å·²ç»å®‰è£…è¿‡äº†è¿™é‡Œå°±ä¸åœ¨èµ˜è¿°äº†ã€‚</p></blockquote><h2 id="2-settings-pyé…ç½®æ–‡ä»¶å‚¨å­˜ä½ç½®"><a href="#2-settings-pyé…ç½®æ–‡ä»¶å‚¨å­˜ä½ç½®" class="headerlink" title="2. settings.pyé…ç½®æ–‡ä»¶å‚¨å­˜ä½ç½®"></a>2. settings.pyé…ç½®æ–‡ä»¶å‚¨å­˜ä½ç½®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">STATIC_URL = <span class="string">&#x27;/static/&#x27;</span></span><br><span class="line">STATICFILES_DIRS = [</span><br><span class="line">    BASE_DIR / <span class="string">&quot;static&quot;</span>,</span><br><span class="line">]</span><br><span class="line">STATIC_ROOT = os.path.join(BASE_DIR, <span class="string">&quot;static&quot;</span>, <span class="string">&quot;ckeditor&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Default primary key field type</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/4.1/ref/settings/#default-auto-field</span></span><br><span class="line">MEDIA_URL = <span class="string">&#x27;/media/&#x27;</span>  <span class="comment"># ä¸Šä¼ å›¾ç‰‡çš„è·¯å¾„</span></span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">&#x27;media&#x27;</span>)  <span class="comment"># ä¸Šä¼ å›¾ç‰‡çš„æ ¹è·¯å¾„</span></span><br><span class="line"><span class="comment"># CK</span></span><br><span class="line">CKEDITOR_UPLOAD_PATH = os.path.join(BASE_DIR, <span class="string">&#x27;media&#x27;</span>, <span class="string">&#x27;uploads&#x27;</span>)</span><br><span class="line">CKEDITOR_IMAGE_BACKEND = <span class="string">&#x27;pillow&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-é…ç½®è·¯ç”±"><a href="#3-é…ç½®è·¯ç”±" class="headerlink" title="3. é…ç½®è·¯ç”±"></a>3. é…ç½®è·¯ç”±</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include, re_path</span><br><span class="line"><span class="keyword">from</span> app01 <span class="keyword">import</span> views</span><br><span class="line"><span class="keyword">from</span> django.views.static <span class="keyword">import</span> serve</span><br><span class="line"><span class="keyword">from</span> .settings <span class="keyword">import</span> MEDIA_ROOT</span><br><span class="line"><span class="keyword">from</span> django.conf.urls.static <span class="keyword">import</span> static</span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">                  path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),<span class="comment">#åå°</span></span><br><span class="line">                  path(<span class="string">&#x27;ckeditor/&#x27;</span>, include(<span class="string">&#x27;ckeditor_uploader.urls&#x27;</span>)),<span class="comment">#è¿™å¥å¿…ä¸å¯å°‘</span></span><br><span class="line">                  path(<span class="string">&#x27;show_box/&lt;int:nid&gt;/&#x27;</span>, views.show_box),<span class="comment">#è¿™é‡Œæ˜¯æˆ‘è‡ªå·±é¡¹ç›®çš„è·¯ç”±ï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸åŒçš„è®¾ç½®æ–¹æ³•ï¼Œè¿™é‡Œç°åœ¨ä¸ç”¨åœ¨æ„ï¼Œçœ‹å®ƒå¯¹åº”çš„å‡½æ•°å°±æ‡‚äº†ã€‚</span></span><br><span class="line">              ] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)<span class="comment">#é…ç½®æ–‡ä»¶å‚¨å­˜ä½ç½®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4-åˆ›å»ºæ‰€éœ€æ–‡ä»¶å¤¹"><a href="#4-åˆ›å»ºæ‰€éœ€æ–‡ä»¶å¤¹" class="headerlink" title="4. åˆ›å»ºæ‰€éœ€æ–‡ä»¶å¤¹"></a>4. åˆ›å»ºæ‰€éœ€æ–‡ä»¶å¤¹</h2><p>åœ¨æ ¹ç›®å½•ä¸‹é¢åˆ›å»ºæ–‡ä»¶å¤¹</p><ol><li>mediaï¼Œ å¹¶ä¸”åœ¨mediaæ–‡ä»¶å¤¹ä¸­åˆ›å»ºuploadsæ–‡ä»¶å¤¹</li><li>static</li></ol><blockquote><p>è¿™é‡Œçœ‹settingsè®¾ç½®å°±èƒ½æ‡‚ã€‚</p></blockquote><h2 id="5-viewsè§†å›¾å‡½æ•°çš„è®¾ç½®"><a href="#5-viewsè§†å›¾å‡½æ•°çš„è®¾ç½®" class="headerlink" title="5. viewsè§†å›¾å‡½æ•°çš„è®¾ç½®"></a>5. viewsè§†å›¾å‡½æ•°çš„è®¾ç½®</h2><p>views.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> .forms <span class="keyword">import</span> CommentForm<span class="comment">#å¼•å…¥åˆšå†™å®Œçš„modelform</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show_box</span>(<span class="params">request, nid</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;show_box.html&quot;</span>, &#123;<span class="string">&#x27;form&#x27;</span>: CommentForm()&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>å…·ä½“è¯­æ³•å‚è§modelformä½¿ç”¨</p></blockquote><h2 id="6-å¤åˆ¶æ–‡ä»¶"><a href="#6-å¤åˆ¶æ–‡ä»¶" class="headerlink" title="6. å¤åˆ¶æ–‡ä»¶"></a>6. å¤åˆ¶æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py collectstatic</span><br></pre></td></tr></table></figure><blockquote><p>ä½ ä¼šå‘ç°è‡ªå·±åˆšåˆ›å»ºçš„æ–‡ä»¶åŠ é‡Œé¢å¤šå‡ºæ¥å¾ˆå¤šå†…å®¹</p></blockquote><h2 id="7-ç¼–è¾‘show-box-html"><a href="#7-ç¼–è¾‘show-box-html" class="headerlink" title="7.ç¼–è¾‘show_box.html"></a>7.ç¼–è¾‘show_box.html</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;/static/ckeditor/ckeditor/ckeditor-init.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">&quot;/static/ckeditor/ckeditor/ckeditor/ckeditor.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="comment">#ä¸Šé¢çš„è¿™ä¸¤ä¸ªéƒ¨åˆ†è¦ä¾ç…§è¿™è‡ªå·±çš„æ–‡ä»¶å‚¨å­˜ä½ç½®å†™ï¼Œå¯èƒ½ä¼šæœ‰æ‰€å·®å¼‚ï¼Œå»åˆšæ‰å¤åˆ¶æ–‡ä»¶ä¹‹åå¤šå‡ºæ¥çš„é‚£éƒ¨åˆ†æ–‡ä»¶é‡Œé¢å»æ‰¾ã€‚</span></span><br><span class="line">&lt;div style=<span class="string">&quot;text-align: center&quot;</span>&gt;</span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">        &#123;% csrf_token %&#125;</span><br><span class="line">        &#123;&#123; form.as_p &#125;&#125;<span class="comment">#è¿™é‡Œæ˜¯æœ€é‡è¦çš„</span></span><br><span class="line">        &lt;div style=<span class="string">&quot;text-align: center&quot;</span>&gt;</span><br><span class="line">            &lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤è¯„è®º&quot;</span> style=<span class="string">&quot;text-align: center&quot;</span>&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><blockquote><p>ç°åœ¨è¿è¡Œå°±èƒ½å¤Ÿçœ‹è§å¯Œæ–‡æœ¬ç¼–è¾‘å™¨äº†</p></blockquote><p><img src="http://picture.daoxuan.cc/image/202301301239367.webp" alt=""></p><h1 id="å¦‚ä½•å°†å‰ç«¯çš„ç”¨æˆ·å¡«å…¥å†…å®¹ä¿å­˜åˆ°æ•°æ®åº“"><a href="#å¦‚ä½•å°†å‰ç«¯çš„ç”¨æˆ·å¡«å…¥å†…å®¹ä¿å­˜åˆ°æ•°æ®åº“" class="headerlink" title="å¦‚ä½•å°†å‰ç«¯çš„ç”¨æˆ·å¡«å…¥å†…å®¹ä¿å­˜åˆ°æ•°æ®åº“"></a>å¦‚ä½•å°†å‰ç«¯çš„ç”¨æˆ·å¡«å…¥å†…å®¹ä¿å­˜åˆ°æ•°æ®åº“</h1><blockquote><p>å®‰è£…ä¸Šæ–‡ä¸­ç¼–å†™HTMLçš„è¯ï¼Œæ•°æ®ä¼šä»åŸè·¯å¾„å®‰è£…postå½¢å¼ä¼ è¾“åˆ°åç«¯</p></blockquote><h2 id="1-æ”¹å†™viewsè§†å›¾å‡½æ•°"><a href="#1-æ”¹å†™viewsè§†å›¾å‡½æ•°" class="headerlink" title="1. æ”¹å†™viewsè§†å›¾å‡½æ•°"></a>1. æ”¹å†™viewsè§†å›¾å‡½æ•°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">show_box</span>(<span class="params">request, nid</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;show_box.html&quot;</span>, &#123;<span class="string">&#x27;form&#x27;</span>: CommentForm()&#125;)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        form = CommentForm(request.POST)</span><br><span class="line">        <span class="keyword">if</span> form.is_valid():</span><br><span class="line">            form.save()</span><br><span class="line">            <span class="keyword">return</span> redirect(<span class="string">&quot;/show_box/&#123;&#125;/&quot;</span>.<span class="built_in">format</span>(nid))<span class="comment">#è¿™é‡Œè¿”å›åˆ°åŸè·¯å¾„å°±å¥½ï¼ˆ.formatè¿™é‡Œåªæ˜¯æ ¼å¼åŒ–ï¼Œæ˜¯é¡¹ç›®ä¸­æ‰€éœ€çš„å†…å®¹ï¼‰</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> render(request, <span class="string">&quot;show_box.html&quot;</span>, &#123;<span class="string">&#x27;form&#x27;</span>: form&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ä¾ç„¶æ˜¯modelformå†…å®¹ï¼Œ æ‰“å°ä¸€ä¸‹å¾—åˆ°çš„formä½ å°±ä¼šçŸ¥é“ç”¨æˆ·ä¸Šä¼ çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆã€‚</p></blockquote><h1 id="å¦‚ä½•å°†æ•°æ®å›æ˜¾åˆ°å‰ç«¯"><a href="#å¦‚ä½•å°†æ•°æ®å›æ˜¾åˆ°å‰ç«¯" class="headerlink" title="å¦‚ä½•å°†æ•°æ®å›æ˜¾åˆ°å‰ç«¯"></a>å¦‚ä½•å°†æ•°æ®å›æ˜¾åˆ°å‰ç«¯</h1><h2 id="1-æ”¹å†™viewsè§†å›¾å‡½æ•°-1"><a href="#1-æ”¹å†™viewsè§†å›¾å‡½æ•°-1" class="headerlink" title="1. æ”¹å†™viewsè§†å›¾å‡½æ•°"></a>1. æ”¹å†™viewsè§†å›¾å‡½æ•°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">show_box</span>(<span class="params">request, nid</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        content = Comment.objects.<span class="built_in">all</span>().order_by(<span class="string">&quot;-id&quot;</span>)<span class="comment">#åŠ ä¸Šorder_byæ˜¯æƒ³è¦æœ€æ–°å‘é€çš„æ–‡ç« åœ¨æœ€ä¸Šé¢å±•ç¤º</span></span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;show_box.html&quot;</span>, &#123;<span class="string">&quot;content&quot;</span>: content, <span class="string">&#x27;form&#x27;</span>: CommentForm()&#125;)<span class="comment">#è¿™é‡Œä¹Ÿæœ‰å˜åŠ¨å“¦</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        form = CommentForm(request.POST)</span><br><span class="line">        <span class="keyword">if</span> form.is_valid():</span><br><span class="line">            form.save()</span><br><span class="line">            <span class="keyword">return</span> redirect(<span class="string">&quot;/show_box/&#123;&#125;/&quot;</span>.<span class="built_in">format</span>(nid))<span class="comment">#è¿™é‡Œè¿”å›åˆ°åŸè·¯å¾„å°±å¥½ï¼ˆ.formatè¿™é‡Œåªæ˜¯æ ¼å¼åŒ–ï¼Œæ˜¯é¡¹ç›®ä¸­æ‰€éœ€çš„å†…å®¹ï¼‰</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> render(request, <span class="string">&quot;show_box.html&quot;</span>, &#123;<span class="string">&#x27;form&#x27;</span>: form&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-æ”¹å†™html"><a href="#2-æ”¹å†™html" class="headerlink" title="2. æ”¹å†™html"></a>2. æ”¹å†™html</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">for</span> obj <span class="keyword">in</span> content %&#125;</span><br><span class="line">&#123;&#123; obj.content | safe &#125;&#125;<span class="comment">#|safeç¡®ä¿å†…å®¹æ­£å¸¸æ˜¾ç¤ºã€‚</span></span><br><span class="line">&#123;%endfor%&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å…·ä½“æ ·å¼è‡ªå·±æ›´æ”¹</p></blockquote><p>è¿™æ ·å°±OKäº†</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;p&gt;[TOC]&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰ç«¯åç«¯éƒ½æœ‰è®²è§£ï¼ˆé™„ä»£ç ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;å¦‚ä½•åœ¨åç«¯djangoåå°ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨&quot;&gt;&lt;a href=&quot;#å¦‚ä½•åœ¨åç«¯dj</summary>
      
    
    
    
    
    <category term="django" scheme="https://daoxuan.cc/tags/django/"/>
    
  </entry>
  
  <entry>
    <title>django å¦‚ä½•å®ç°é‚®ä»¶å‘é€</title>
    <link href="https://daoxuan.cc/posts/41761/"/>
    <id>https://daoxuan.cc/posts/41761/</id>
    <published>2022-12-20T18:38:31.000Z</published>
    <updated>2024-12-08T16:00:49.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><p>[TOC]</p><h1 id="django-å¦‚ä½•å®ç°é‚®ç®±é‚®ä»¶å‘é€"><a href="#django-å¦‚ä½•å®ç°é‚®ç®±é‚®ä»¶å‘é€" class="headerlink" title="django å¦‚ä½•å®ç°é‚®ç®±é‚®ä»¶å‘é€"></a>django å¦‚ä½•å®ç°é‚®ç®±é‚®ä»¶å‘é€</h1><h2 id="1-é…ç½®settings"><a href="#1-é…ç½®settings" class="headerlink" title="1. é…ç½®settings"></a>1. é…ç½®settings</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">EMAIL_HOST = <span class="string">&#x27;smtp.qq.com&#x27;</span>//é‚®ç®±å‘é€æœåŠ¡å™¨åç§°</span><br><span class="line">EMAIL_PORT = <span class="string">&#x27;465&#x27;</span>//é‚®ç®±å‘é€æœåŠ¡å™¨ç«¯å£å·</span><br><span class="line">EMAIL_HOST_USER = <span class="string">&#x27;&#x27;</span>//å‘é€é‚®ä»¶çš„é‚®ç®±ç”¨æˆ·å</span><br><span class="line">EMAIL_HOST_PASSWORD = <span class="string">&#x27;########&#x27;</span>//IMAP/SMTPæœåŠ¡æˆæƒç ï¼ˆåœ¨é‚®ç®±çš„è®¾ç½®ä¸­å¯ä»¥æ‰¾åˆ°ï¼‰</span><br><span class="line">EMAIL_USE_SSL = <span class="literal">True</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šä¸åŒé‚®ç®±çš„ä»¥ä¸Šé…ç½®éƒ½ä¸ä¸€æ ·ï¼Œæ³¨æ„è‡ªè¡ŒæŸ¥çœ‹ã€‚</p></blockquote><h2 id="å¯¼å…¥æ¨¡å—"><a href="#å¯¼å…¥æ¨¡å—" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.core.mail <span class="keyword">import</span> send_mail</span><br></pre></td></tr></table></figure><h2 id="ä¹¦å†™é‚®ä»¶å†…å®¹"><a href="#ä¹¦å†™é‚®ä»¶å†…å®¹" class="headerlink" title="ä¹¦å†™é‚®ä»¶å†…å®¹"></a>ä¹¦å†™é‚®ä»¶å†…å®¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">subject = <span class="string">&quot;&quot;</span>//ä¸»é¢˜</span><br><span class="line">message = <span class="string">&quot;&quot;</span>//æ–‡ç« å†…å®¹ï¼ˆä¸ä¼šæŒ‰ç…§HTMLæ˜¾ç¤ºï¼‰</span><br><span class="line">email = <span class="string">&quot;&quot;</span>//è¦å‘é€çš„å¯¹è±¡</span><br></pre></td></tr></table></figure><h2 id="ç¼–è¾‘å‘é€"><a href="#ç¼–è¾‘å‘é€" class="headerlink" title="ç¼–è¾‘å‘é€"></a>ç¼–è¾‘å‘é€</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">send_mail(subject=subject, message=message, from_email=settings.EMAIL_HOST_USER, recipient_list=[email, ])</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„messageå¿…é¡»è¦æœ‰ï¼Œ å¦‚æœæƒ³è¦æŒ‰ç…§HTMLæ˜¾ç¤ºï¼Œ éœ€è¦åŠ ä¸Šâ€html_message=â€œè¿™ä¸ªå‚æ•°ã€‚</p></blockquote><p>å‡½æ•°è¿è¡Œä¹‹åä¾¿ä¼šå‘é€é‚®ä»¶</p><blockquote><p>å¯èƒ½ä¼šæœ‰å»¶æ—¶</p></blockquote></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h1 id=&quot;django-å¦‚ä½•å®ç°é‚®ç®±é‚®ä»¶å‘é€&quot;&gt;&lt;a href=&quot;#django-å¦‚ä½•å®ç°é‚®ç®±é‚®ä»¶å‘é€&quot; class=&quot;headerlink&quot; title=&quot;django å¦‚ä½•å®ç°é‚®ç®±é‚®</summary>
      
    
    
    
    
    <category term="django" scheme="https://daoxuan.cc/tags/django/"/>
    
  </entry>
  
  <entry>
    <title>djangoç¬”è®°</title>
    <link href="https://daoxuan.cc/posts/22678/"/>
    <id>https://daoxuan.cc/posts/22678/</id>
    <published>2022-12-10T07:24:12.000Z</published>
    <updated>2024-12-08T16:00:50.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><p>[TOC]</p><h1 id="djangoçš„ä½¿ç”¨"><a href="#djangoçš„ä½¿ç”¨" class="headerlink" title="djangoçš„ä½¿ç”¨"></a>djangoçš„ä½¿ç”¨</h1><h2 id="1-åˆ›å»ºè¡¨"><a href="#1-åˆ›å»ºè¡¨" class="headerlink" title="1.åˆ›å»ºè¡¨"></a>1.åˆ›å»ºè¡¨</h2><h3 id="1-1åœ¨è¡¨ä¸­æ–°å¢åˆ—æ—¶ï¼Œç”±äºå·²å­˜åœ¨åˆ—ä¸­å¯èƒ½å·²æœ‰æ•°æ®ï¼Œæ‰€ä»¥æ–°å¢åˆ—å¿…é¡»åˆ¶å®šæ–°å¢åˆ—å¯¹åº”çš„æ•°æ®"><a href="#1-1åœ¨è¡¨ä¸­æ–°å¢åˆ—æ—¶ï¼Œç”±äºå·²å­˜åœ¨åˆ—ä¸­å¯èƒ½å·²æœ‰æ•°æ®ï¼Œæ‰€ä»¥æ–°å¢åˆ—å¿…é¡»åˆ¶å®šæ–°å¢åˆ—å¯¹åº”çš„æ•°æ®" class="headerlink" title="1.1åœ¨è¡¨ä¸­æ–°å¢åˆ—æ—¶ï¼Œç”±äºå·²å­˜åœ¨åˆ—ä¸­å¯èƒ½å·²æœ‰æ•°æ®ï¼Œæ‰€ä»¥æ–°å¢åˆ—å¿…é¡»åˆ¶å®šæ–°å¢åˆ—å¯¹åº”çš„æ•°æ®"></a>1.1åœ¨è¡¨ä¸­æ–°å¢åˆ—æ—¶ï¼Œç”±äºå·²å­˜åœ¨åˆ—ä¸­å¯èƒ½å·²æœ‰æ•°æ®ï¼Œæ‰€ä»¥æ–°å¢åˆ—å¿…é¡»åˆ¶å®šæ–°å¢åˆ—å¯¹åº”çš„æ•°æ®</h3><ol><li><p>æ‰‹åŠ¨è¾“å…¥ä¸€ä¸ªå€¼</p></li><li><p>è®¾ç½®é»˜è®¤å€¼</p><blockquote><p>age = models.InterField(default = 2)</p></blockquote></li><li><p>å…è®¸ä¸ºç©º</p><blockquote><p>age = models.InterField(null = True, blank = True)</p></blockquote></li><li><p>è¦é€‰æ‹©ä¸€æ®µçŸ©å½¢ä»£ç ï¼Œè¯·åœ¨æŒ‰ä½ Shift+Alt (åœ¨ Windows å’Œ Linux ä¸­)/ Shift+Alt (Option) (åœ¨ macOS ä¸­)çš„åŒæ—¶æ‹–åŠ¨é¼ æ ‡ã€‚</p></li></ol><h1 id="é—®é¢˜è®°å½•"><a href="#é—®é¢˜è®°å½•" class="headerlink" title="é—®é¢˜è®°å½•"></a>é—®é¢˜è®°å½•</h1><h2 id="1-â€™NoneTypeâ€™-object-has-no-attribute-â€˜passwordâ€™"><a href="#1-â€™NoneTypeâ€™-object-has-no-attribute-â€˜passwordâ€™" class="headerlink" title="1.â€™NoneTypeâ€™ object has no attribute â€˜passwordâ€™"></a>1.â€™NoneTypeâ€™ object has no attribute â€˜passwordâ€™</h2><p>è¿™ä¸ªæ˜¯åœ¨æ•°æ®åº“æ•°æ®ä¸ºç©ºçš„æ—¶å€™å‡ºç°çš„bug</p><ul><li>åå­—ä¸èƒ½ä¸ºä¸­æ–‡</li><li>å¯†ç æœ€å°é•¿åº¦</li><li>è¯„è®ºåŒºæ¢è¡Œç¬¦å˜æˆäº†ç©ºæ ¼</li></ul><h2 id="2-QæŸ¥è¯¢ä¸­â€œï¼Œâ€å¯ä»¥è¡¨ç¤ºandè€Œç›´æ¥ç”¨andå´è¡¨ç¤ºçš„æ˜¯æˆ–"><a href="#2-QæŸ¥è¯¢ä¸­â€œï¼Œâ€å¯ä»¥è¡¨ç¤ºandè€Œç›´æ¥ç”¨andå´è¡¨ç¤ºçš„æ˜¯æˆ–" class="headerlink" title="2.QæŸ¥è¯¢ä¸­â€œï¼Œâ€å¯ä»¥è¡¨ç¤ºandè€Œç›´æ¥ç”¨andå´è¡¨ç¤ºçš„æ˜¯æˆ–"></a>2.QæŸ¥è¯¢ä¸­â€œï¼Œâ€å¯ä»¥è¡¨ç¤ºandè€Œç›´æ¥ç”¨andå´è¡¨ç¤ºçš„æ˜¯æˆ–</h2><h1 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h1><p>ç”¨getæ–¹æ³•ä¼ è¾“å€¼çš„æ—¶å€™ ç”¨ï¼ŸåŠ ä¸Šname=ä¸€ä¸ªå€¼ï¼Œä¼ è¾“å¤šä¸ªå€¼çš„æ—¶å€™ï¼Œç”¨&amp;è¿›è¡Œè¿æ¥ï¼Œä¸ç”¨åœ¨åŠ ä¸Šï¼Ÿäº†</p><p>egï¼š<a class="btn btn-primary" href="/user_list/boxdelete/?username=&name=">åˆ é™¤ç›²ç›’</a></p><h1 id="éšæœºä»æ•°æ®åº“ä¸­å–æ•°æ®"><a href="#éšæœºä»æ•°æ®åº“ä¸­å–æ•°æ®" class="headerlink" title="éšæœºä»æ•°æ®åº“ä¸­å–æ•°æ®"></a>éšæœºä»æ•°æ®åº“ä¸­å–æ•°æ®</h1><ol><li><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">10</span></span><br><span class="line">i = random.ranint(<span class="number">0</span>, UserInfo.objects.count()-n)</span><br><span class="line">articles = UserInfo.objects.<span class="built_in">all</span>()[i: i+n]</span><br></pre></td></tr></table></figure></li><li></li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">count <span class="operator">=</span> <span class="type">Article</span>.objects.all().count()</span><br><span class="line">rand_ids <span class="operator">=</span> sample(range(<span class="number">1</span>, count), <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(rand_ids)</span><br><span class="line">articles <span class="operator">=</span> <span class="type">Article</span>.objects.filter(id__in<span class="operator">=</span>rand_ids)</span><br></pre></td></tr></table></figure><ol><li><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">content_pks = Article.objects.<span class="title function_ invoke__">values_list</span>(<span class="string">&#x27;pk&#x27;</span>, flat=True)</span><br><span class="line">selected_pks = random.<span class="title function_ invoke__">sample</span>(<span class="keyword">list</span>(content_pks), <span class="number">3</span>)</span><br><span class="line">content_objects = Article.objects.<span class="title function_ invoke__">filter</span>(pk__in=selected_pks)</span><br><span class="line"><span class="keyword">print</span>(content_objects)</span><br></pre></td></tr></table></figure></li><li></li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">total_count<span class="operator">=</span> <span class="type">Content</span>.objects.count()</span><br><span class="line">fraction <span class="operator">=</span> <span class="number">100</span><span class="operator">./</span>total_count</span><br><span class="line">object_list <span class="operator">=</span> [ c <span class="keyword">for</span> c <span class="keyword">in</span> <span class="type">Content</span>.objects.all() <span class="keyword">if</span> random.random() <span class="operator">&lt;</span> fraction ]</span><br></pre></td></tr></table></figure><p>sample(åºåˆ—aï¼Œn)</p><p>åŠŸèƒ½ï¼šä»åºåˆ—aä¸­éšæœºæŠ½å–nä¸ªå…ƒç´ ï¼Œå¹¶å°†nä¸ªå…ƒç´ ç”Ÿä»¥listå½¢å¼è¿”å›</p><p>ä¸€ã€ä¸‹é¢æ¥çœ‹çœ‹ï¼šfilteræŸ¥è¯¢ï¼š</p><p>1.__contains(åŒ…å«)</p><p>shellå‘½ä»¤ä¸‹æŸ¥è¯¢ï¼šBlog.objects.filter(title__contains =â€djangoâ€)â€”â€”â€”â€”â€”â€”â€”â€”â€”&gt;è¿”å›ä¸€ä¸ªqueryset[]æŸ¥è¯¢(æŸ¥è¯¢é›†)åªèƒ½è¾“å…¥ä¸€ä¸ªå€¼ã€‚åŠ ä¸Šä¸€ä¸ªâ€iâ€åä¸åŒºåˆ«å¤§å°å†™ã€sqlç­‰æ•°æ®åº“ä¸­ã€‘</p><p>2.__in (å…¶ä¸­ä¹‹ä¸€ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªåˆ—è¡¨ï¼Œä¼ å¤šä¸ªå€¼ã€‚)</p><p>Blog.objects.filter(id__in = [3,6,9])</p><p>3.__range(ä¸€ä¸ªèŒƒå›´ï¼Œä½¿ç”¨å…ƒç¥–)ï¼š</p><blockquote><p>Blog.objects.filter(id__range =(30,45))</p></blockquote><p>äºŒã€å‰é¢è®²çš„æ˜¯åŒ…å«çš„æŸ¥è¯¢ï¼Œä¸‹é¢æ¥çœ‹çœ‹ä¸åŒ…å«çš„æŸ¥è¯¢ï¼š</p><p>excludeæ–¹æ³•ä¸ºä¸åŒ…å«çš„ï¼š</p><p>Blog.objects.exclude(id=3)</p><p>ä¸‰ã€æ—¥æœŸç±»å‹æŸ¥è¯¢</p><p>Blog.objects.filter(create_time__year = 2018)â€”â€”â€”â€”â€”â€”-&gt;æŸ¥è¯¢å¹´ä¸º2018å¹´çš„å†…å®¹</p><p>Blog.objects.filter(create_time__month=3)â€”â€”â€”â€”â€”â€”â€”â€”-&gt;æŸ¥è¯¢æœˆ</p><p>å››ã€æ—¥æœŸæŸ¥è¯¢ç±»å‹åªæ˜¯ç­›é€‰äº†æ¡ä»¶ï¼Œæ€ä¹ˆè®©æ¡ä»¶åœ¨å‰ç«¯æ˜¾ç¤ºå‘¢ï¼Ÿdjangoæä¾›äº†ä¸€ä¸ªdatesæ–¹æ³•ï¼š</p><p>Blog.objects.dates(â€˜create_timeâ€™, â€˜yearâ€™,â€™DESCâ€™)â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-&gt;åˆ†åˆ«ä¸ºï¼šæ—¶é—´å­—æ®µï¼ŒæŸ¥è¯¢è¿”å›å¹´yearï¼Œå¹´æœˆmonthï¼Œå¹´æœˆæ—¥dayï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯æ’åºæ–¹å¼ASCæ­£åºï¼ŒDESCå€’åºã€‚</p><h1 id="MD5"><a href="#MD5" class="headerlink" title="MD5"></a>MD5</h1><p><div class="blog-content-box">        <div class="article-header-box">        <div class="article-header">            <div class="article-title-box">                <h1 class="title-article" id="articleContentId">Djangoè·å–æ–‡ä»¶çš„æ–¹å¼åŠæ–‡ä»¶MD5çš„å¤šç§æ–¹æ³•</h1>            </div><br>            <div class="article-info-box">                <div class="article-bar-top">                    <img class="article-type-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt="">                    <div class="bar-content">                    <a class="follow-nickName vip-name" href="https://amoor.blog.csdn.net" target="_blank" rel="noopener">Amoor123</a>                    <img class="article-time-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png" alt="">                    <span class="time">äº&nbsp;2022-04-05 01:10:43&nbsp;å‘å¸ƒ</span>                    <img class="article-read-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png" alt="">                    <span class="read-count">1017</span>                    <a id="blog_detail_zk_collection" class="un-collection" data-report-click="{&quot;mod&quot;:&quot;popu_823&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4232&quot;,&quot;ab&quot;:&quot;new&quot;}">                        <img class="article-collect-img article-heard-img un-collect-status isdefault" style="display:inline-block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect2.png" alt="">                        <img class="article-collect-img article-heard-img collect-status isactive" style="display:none" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive2.png" alt="">                        <span class="name">æ”¶è—</span>                        <span class="get-collection">                        </span>                    </a>                    </div><br>                &lt;/div&gt;<br>                <div class="blog-tags-box">                    <div class="tags-box artic-tag-box">                            <span class="label">åˆ†ç±»ä¸“æ ï¼š</span>                                <a class="tag-link" href="https://blog.csdn.net/sabian2/category_11244528.html" target="_blank" rel="noopener">Django</a>                            <span class="label">æ–‡ç« æ ‡ç­¾ï¼š</span>                                <a data-report-click="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;python&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;python\&quot;}&quot;}" class="tag-link" href="https://so.csdn.net/so/search/s.do?q=python&amp;t=blog&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=" target="_blank" rel="noopener">python</a>                                <a data-report-click="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;django&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;django\&quot;}&quot;}" class="tag-link" href="https://so.csdn.net/so/search/s.do?q=django&amp;t=blog&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=" target="_blank" rel="noopener">django</a>                    </div><br>                &lt;/div&gt;<br>                <div class="slide-content-box">                    <div class="article-copyright">                        <div class="creativecommons">                            ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œéµå¾ª<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 BY-SA </a>ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚                        </div><br>                        <div class="article-source-link">                            æœ¬æ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/sabian2/article/details/123963621" target="_blank">https://blog.csdn.net/sabian2/article/details/123963621</a>                        </div><br>                    &lt;/div&gt;<br>                &lt;/div&gt;<br>                <div class="operating">                    <a class="href-article-edit slide-toggle">ç‰ˆæƒ</a>                </div><br>            &lt;/div&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;</p><p><h1><a name="t0"></a><a id="_2"></a>è·å–æ–‡ä»¶</h1> </p><p><pre data-index="0" class="prettyprint"><code class="prism language-python has-numbering" onclick="mdcp.copyCode(event)" style="position: unset;">    files <span class="token operator">=</span> request<span class="token punctuation">.</span>FILES<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">â€˜my_fileâ€™</span><span class="token punctuation">)</span></p><p><div class="hljs-button {2}" data-title="å¤åˆ¶"></div>&lt;/code&gt;<ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul>&lt;/pre&gt; </p><p><h2><a name="t1">&lt;/a&gt;<a id="_7"></a>æ–‡ä»¶çš„å±æ€§</h2> </p><p><p>file.name ä¸Šä¼ çš„æ–‡ä»¶åç§°<br> file.content_type å†…å®¹ç±»å‹<br> file.size æ–‡ä»¶å­—èŠ‚å¤§å°<br> file.read() æ–‡ä»¶å†…å®¹<br> <img src="https://img-blog.csdnimg.cn/6da877dd94a54dde8826d43181df7f04.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQW1vb3IxMjM=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </p><p><h1><a name="t2"></a><a id="MD53_13"></a>è·å–<a href="https://so.csdn.net/so/search?q=MD5&amp;spm=1001.2101.3001.7020" target="_blank" class="hl hl-1" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.7020&quot;,&quot;dest&quot;:&quot;https://so.csdn.net/so/search?q=MD5&amp;spm=1001.2101.3001.7020&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;MD5\&quot;}&quot;}" data-tit="MD5" data-pretit="md5">MD5</a>å€¼çš„3ç§æ–¹å¼</h1> </p><p><h2><a name="t3">&lt;/a&gt;<a id="chunks_15"></a>chunksçš„æ–¹å¼</h2> </p><p><pre data-index="1" class="prettyprint"><code class="prism language-python has-numbering" onclick="mdcp.copyCode(event)" style="position: unset;">    <span class="token keyword">import</span> hashlib<br>    files <span class="token operator">=</span> request<span class="token punctuation">.</span>FILES<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">â€˜my_fileâ€™</span><span class="token punctuation">)</span><span class="token punctuation">.</span>chunks<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">for</span> k <span class="token keyword">in</span> files<span class="token punctuation">:</span><br>        m<span class="token punctuation">.</span>update<span class="token punctuation">(</span>k<span class="token punctuation">)</span><br>        <span class="token comment"># print(k)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></p><p><div class="hljs-button {2}" data-title="å¤åˆ¶"></div>&lt;/code&gt;<ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li></ul>&lt;/pre&gt; </p><p><h2><a name="t4">&lt;/a&gt;<a id="_27"></a>è¯»æ–‡ä»¶çš„æ–¹å¼</h2> </p><p><pre data-index="2" class="prettyprint"><code class="prism language-python has-numbering" onclick="mdcp.copyCode(event)" style="position: unset;">    <span class="token keyword">import</span> hashlib<br>    files <span class="token operator">=</span> request<span class="token punctuation">.</span>FILES<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">â€˜my_fileâ€™</span><span class="token punctuation">)</span><br>    m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    xx<span class="token operator">=</span>files<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    m<span class="token punctuation">.</span>update<span class="token punctuation">(</span>xx<span class="token punctuation">)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></p><p><div class="hljs-button {2}" data-title="å¤åˆ¶"></div>&lt;/code&gt;<ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul>&lt;/pre&gt; </p><p><h2><a name="t5">&lt;/a&gt;<a id="_37"></a>æ–‡ä»¶å¾ªç¯çš„æ–¹å¼</h2> </p><p><pre data-index="3" class="prettyprint"><code class="prism language-python has-numbering" onclick="mdcp.copyCode(event)" style="position: unset;">    <span class="token keyword">import</span> hashlib<br>    files <span class="token operator">=</span> request<span class="token punctuation">.</span>FILES<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">â€˜my_fileâ€™</span><span class="token punctuation">)</span><br>    m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">for</span> i <span class="token keyword">in</span> files<span class="token punctuation">:</span><br>        m<span class="token punctuation">.</span>update<span class="token punctuation">(</span>i<span class="token punctuation">)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></p><p><div class="hljs-button {2}" data-title="å¤åˆ¶"></div>&lt;/code&gt;<ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul>&lt;/pre&gt;</p><h1 id="Django-ModelFormä¸­ä¿å­˜æ•°æ®-save-ä¸create-çš„åŒºåˆ«"><a href="#Django-ModelFormä¸­ä¿å­˜æ•°æ®-save-ä¸create-çš„åŒºåˆ«" class="headerlink" title="Django ModelFormä¸­ä¿å­˜æ•°æ® save()ä¸create()çš„åŒºåˆ«"></a>Django ModelFormä¸­ä¿å­˜æ•°æ® save()ä¸create()çš„åŒºåˆ«</h1><p><img src="https://picture.daoxuan.cc/image/202301301241909.webp" alt=""></p><p><a href="https://blog.csdn.net/weixin_43670190/article/details/111902269?spm=1001.2101.3001.6650.4&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-111902269-blog-124567612.pc_relevant_3mothn_strategy_recovery&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-111902269-blog-124567612.pc_relevant_3mothn_strategy_recovery&amp;utm_relevant_index=8">ç½‘å€</a> </p><h1 id="å‘æ•°æ®åº“ä¸­å­˜å‚¨å›¾ç‰‡è·¯å¾„"><a href="#å‘æ•°æ®åº“ä¸­å­˜å‚¨å›¾ç‰‡è·¯å¾„" class="headerlink" title="å‘æ•°æ®åº“ä¸­å­˜å‚¨å›¾ç‰‡è·¯å¾„"></a>å‘æ•°æ®åº“ä¸­å­˜å‚¨å›¾ç‰‡è·¯å¾„</h1><p><a href="https://www.cnblogs.com/wjw1014/p/8664474.html?ivk_sa=1024320u">urls</a></p><h1 id="djangoçš„æ‰¹é‡åˆ é™¤"><a href="#djangoçš„æ‰¹é‡åˆ é™¤" class="headerlink" title="djangoçš„æ‰¹é‡åˆ é™¤"></a>djangoçš„æ‰¹é‡åˆ é™¤</h1><p>æŒ‰ä½shiftï¼Œå…ˆç‚¹ç¬¬ä¸€ä¸ªåœ¨ç‚¹æœ€åä¸€ä¸ª</p><h1 id="updateæ›´æ–°æœºåˆ¶"><a href="#updateæ›´æ–°æœºåˆ¶" class="headerlink" title="updateæ›´æ–°æœºåˆ¶"></a>updateæ›´æ–°æœºåˆ¶</h1><ul><li>åªèƒ½æ›´æ–°QuerySetç±»å‹</li></ul><h1 id="python-silkçš„é…ç½®"><a href="#python-silkçš„é…ç½®" class="headerlink" title="python - silkçš„é…ç½®"></a>python - silkçš„é…ç½®</h1><h2 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h2><p><a href="https://www.cnblogs.com/-wenli/p/13500210.html">ä¸­æ–‡æ•™ç¨‹</a></p><p><a href="https://github.com/jazzband/django-silk">githubæ•™ç¨‹</a></p><h2 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h2><p><img src="https://picture.daoxuan.cc/image/202301301241284.webp" alt=""></p><h3 id="Pythoné¡¹ç›®è¿è¡ŒæŠ¥é”™-django-core-exceptions-ImproperlyConfigured-WSGI-application-â€˜WebTool-wsgi-application"><a href="#Pythoné¡¹ç›®è¿è¡ŒæŠ¥é”™-django-core-exceptions-ImproperlyConfigured-WSGI-application-â€˜WebTool-wsgi-application" class="headerlink" title="Pythoné¡¹ç›®è¿è¡ŒæŠ¥é”™ django.core.exceptions.ImproperlyConfigured: WSGI application â€˜WebTool.wsgi.application"></a>Pythoné¡¹ç›®è¿è¡ŒæŠ¥é”™ django.core.exceptions.ImproperlyConfigured: WSGI application â€˜WebTool.wsgi.application</h3><p><a href="https://blog.csdn.net/gmaaa123/article/details/125477977">https://blog.csdn.net/gmaaa123/article/details/125477977</a></p><h1 id="å…³äºsession"><a href="#å…³äºsession" class="headerlink" title="å…³äºsession"></a>å…³äºsession</h1><p><img src="http://picture.daoxuan.cc/image/202301301241600.webp" alt=""></p><p><a href="https://blog.csdn.net/RikkaTakanashi/article/details/82595804">ç½‘å€</a></p><h1 id="é¡µé¢çš„è·³è½¬"><a href="#é¡µé¢çš„è·³è½¬" class="headerlink" title="é¡µé¢çš„è·³è½¬"></a>é¡µé¢çš„è·³è½¬</h1><h2 id="åœ¨æ–°é¡µé¢ä¸­æ‰“å¼€"><a href="#åœ¨æ–°é¡µé¢ä¸­æ‰“å¼€" class="headerlink" title="åœ¨æ–°é¡µé¢ä¸­æ‰“å¼€"></a>åœ¨æ–°é¡µé¢ä¸­æ‰“å¼€</h2><p>å¯ä»¥åœ¨URLçš„åé¢åŠ ä¸Š_target=â€blankâ€</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h1 id=&quot;djangoçš„ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#djangoçš„ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;djangoçš„ä½¿ç”¨&quot;&gt;&lt;/a&gt;djangoçš„ä½¿ç”¨&lt;/h1&gt;&lt;</summary>
      
    
    
    
    
    <category term="django" scheme="https://daoxuan.cc/tags/django/"/>
    
  </entry>
  
  <entry>
    <title>how to use ChatGPT in your browser</title>
    <link href="https://daoxuan.cc/posts/24059/"/>
    <id>https://daoxuan.cc/posts/24059/</id>
    <published>2022-12-10T06:27:36.000Z</published>
    <updated>2024-12-08T16:00:51.000Z</updated>
    
    <content type="html"><![CDATA[<div id="postchat_postcontent"><p>[TOC]</p><blockquote><p>é¦–å…ˆæ³¨æ„ï¼Œåº”ä½¿ç”¨Microsoft Edgeæµè§ˆå™¨æˆ–è€…è°·æ­Œæµè§ˆå™¨ï¼Œä½¿ç”¨Firefoxçš„è¯éœ€è¦è‡ªå·±æ¢ç´¢ã€‚</p></blockquote><h1 id="å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­å¸ƒç½®è‡ªå·±çš„ChatGPT"><a href="#å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­å¸ƒç½®è‡ªå·±çš„ChatGPT" class="headerlink" title="å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­å¸ƒç½®è‡ªå·±çš„ChatGPT"></a>å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­å¸ƒç½®è‡ªå·±çš„ChatGPT</h1><h2 id="1-é¦–å…ˆæ‰“å¼€æµè§ˆå™¨æ‰©å±•é¡µé¢"><a href="#1-é¦–å…ˆæ‰“å¼€æµè§ˆå™¨æ‰©å±•é¡µé¢" class="headerlink" title="1. é¦–å…ˆæ‰“å¼€æµè§ˆå™¨æ‰©å±•é¡µé¢"></a>1. é¦–å…ˆæ‰“å¼€æµè§ˆå™¨æ‰©å±•é¡µé¢</h2><ol><li>ç‚¹å‡»ç®¡ç†æ‰©å±•</li></ol><p><img src="http://picture.daoxuan.cc/image/202301301242928.webp" alt=""></p><ol><li>ç‚¹å‡»å¼€å‘è€…æ¨¡å¼</li></ol><h2 id="2-ä¸‹è½½æ‰©å±•"><a href="#2-ä¸‹è½½æ‰©å±•" class="headerlink" title="2. ä¸‹è½½æ‰©å±•"></a>2. ä¸‹è½½æ‰©å±•</h2><p>é€šè¿‡ä»¥ä¸‹æ–¹å¼è‡ªä¸»é€‰æ‹©ä¸‹è½½</p><ol><li>github: <a href="https://github.com/josStorer/chat-gpt-search-engine-extension/releases/tag/v1.2.0">https://github.com/josStorer/chat-gpt-search-engine-extension/releases/tag/v1.2.0</a></li><li><a href="https://pan.baidu.com/s/1MnFJTDIatyIIPr5kUMWsAw?pwd=1111">https://pan.baidu.com/s/1MnFJTDIatyIIPr5kUMWsAw?pwd=1111</a><br>æå–ç ï¼š1111</li></ol><blockquote><p>æ³¨æ„ï¼šæˆ‘ä»¬è¿™é‡Œä¸‹è½½çš„ç‰ˆæœ¬å¦‚æœæ˜¯1.2.0åˆ™ç¬¦åˆè¦æ±‚ï¼Œå¦‚æœæ˜¯1.1.0çš„è¯åªèƒ½åœ¨Googleä¸Šä½¿ç”¨ã€‚</p></blockquote><h2 id="3-å®‰è£…æ‰©å±•"><a href="#3-å®‰è£…æ‰©å±•" class="headerlink" title="3. å®‰è£…æ‰©å±•"></a>3. å®‰è£…æ‰©å±•</h2><ol><li>ä¸‹è½½æ—¶å€™æœ‰æç¤ºï¼Œæ ¹æ®æç¤ºç›´æ¥å®‰è£…è‡³æµè§ˆå™¨ï¼ˆç”¨æµè§ˆå™¨è‡ªå¸¦çš„æ‰©å±•å•†åº—ï¼‰</li><li>å¦‚æœç›´æ¥ä¸‹è½½çš„å‹ç¼©åŒ…ï¼Œæ— éœ€è§£å‹ï¼Œç›´æ¥æ‹–æ‹½è‡³è¿™ä¸ªç•Œé¢ï¼Œå³å¯å®Œæˆã€‚</li></ol><blockquote><p>è®°å¾—å…³é—­å¼€å‘è€…æ¨¡å¼ï¼Œæ›´åŠ å®‰å…¨ã€‚</p></blockquote><h2 id="æœ€åçœ‹çœ‹æ•ˆæœ"><a href="#æœ€åçœ‹çœ‹æ•ˆæœ" class="headerlink" title="æœ€åçœ‹çœ‹æ•ˆæœ"></a>æœ€åçœ‹çœ‹æ•ˆæœ</h2><p><img src="http://picture.daoxuan.cc/image/202301301242902.webp" alt=""></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div id=&quot;postchat_postcontent&quot;&gt;&lt;p&gt;[TOC]&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é¦–å…ˆæ³¨æ„ï¼Œåº”ä½¿ç”¨Microsoft Edgeæµè§ˆå™¨æˆ–è€…è°·æ­Œæµè§ˆå™¨ï¼Œä½¿ç”¨Firefoxçš„è¯éœ€è¦è‡ªå·±æ¢ç´¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;å¦‚ä½•</summary>
      
    
    
    
    
    <category term="ChatGPT" scheme="https://daoxuan.cc/tags/ChatGPT/"/>
    
  </entry>
  
</feed>
